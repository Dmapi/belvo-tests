(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{3646:function(t,e,n){var r=n(7228);t.exports=function(t){if(Array.isArray(t))return r(t)}},9713:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},676:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},2137:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return i}})},4699:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2961);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7329:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(676);var i=n(2961);function o(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||(0,i.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2961:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(676);function i(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},6860:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},8206:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:function(t,e,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},4223:function(t,e,n){"use strict";n.r(e),n.d(e,{Area:function(){return Te},BarX:function(){return Oe},BarY:function(){return Ne},Cell:function(){return Le},Dot:function(){return ze},Frame:function(){return $e},Line:function(){return qe},Link:function(){return Xe},Mark:function(){return p},Rect:function(){return Ze},RuleX:function(){return en},RuleY:function(){return nn},Text:function(){return sn},TickX:function(){return pn},TickY:function(){return yn},area:function(){return Ie},areaX:function(){return Be},areaY:function(){return Ee},barX:function(){return De},barY:function(){return Fe},bin:function(){return Cn},binX:function(){return Fn},binY:function(){return Ln},cell:function(){return Ce},cellX:function(){return Ue},cellY:function(){return Re},dot:function(){return je},dotX:function(){return Pe},dotY:function(){return Ve},formatIsoDate:function(){return i},formatMonth:function(){return Ir},formatWeekday:function(){return Br},frame:function(){return Ye},group:function(){return wn},groupX:function(){return vn},groupY:function(){return _n},groupZ:function(){return bn},line:function(){return He},lineX:function(){return We},lineY:function(){return Ge},link:function(){return Ke},map:function(){return Xn},mapX:function(){return Wn},mapY:function(){return Gn},normalizeX:function(){return Jn},normalizeY:function(){return Qn},plot:function(){return te},rect:function(){return Je},rectX:function(){return Qe},rectY:function(){return tn},ruleX:function(){return rn},ruleY:function(){return on},selectFirst:function(){return gr},selectLast:function(){return mr},selectMaxX:function(){return _r},selectMaxY:function(){return wr},selectMinX:function(){return br},selectMinY:function(){return vr},stackX:function(){return ie},stackX1:function(){return oe},stackX2:function(){return ae},stackY:function(){return se},stackY1:function(){return ue},stackY2:function(){return ce},text:function(){return un},textX:function(){return cn},textY:function(){return ln},tickX:function(){return gn},tickY:function(){return mn},valueof:function(){return g},windowX:function(){return ur},windowY:function(){return cr}});var r=n(7675);function i(t){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"Invalid Date";const e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${o(-a,6)}`:a>9999?`+${o(a,6)}`:o(a,4)}-${o(t.getUTCMonth()+1,2)}-${o(t.getUTCDate(),2)}${e||n||r||i?`T${o(e,2)}:${o(n,2)}${r||i?`:${o(r,2)}${i?`.${o(i,3)}`:""}`:""}Z`:""}`;var a}function o(t,e){return(t+"").padStart(e,"0")}function a(t){return null!=t&&!Number.isNaN(t)}function s(t,e){return a(e)-a(t)||(0,r.ascending)(t,e)}function u(t){return null!=t&&t+""!==""}function c(t,...e){for(const n of e)n&&(t=t.filter((t=>a(n[t]))));return t}function l(t){return t>0?t:NaN}function f(t){return t<0?t:NaN}const h=Object.getPrototypeOf(Uint8Array),d=Object.prototype.toString;class p{constructor(t,e=[],n={}){const r=new Set;this.data=t;const{transform:i}=$(n);this.transform=i,this.channels=e.filter((t=>{const{name:e,value:n,optional:i}=t;if(null==n){if(i)return!1;throw new Error(`missing channel value: ${e}`)}if("string"===typeof n&&(t.value=m(n)),void 0!==e){const t=e+"";if("__proto__"===t)throw new Error("illegal channel name");if(r.has(t))throw new Error(`duplicate channel: ${t}`);r.add(t)}return!0}))}initialize(t){let e=O(this.data),n=void 0===t&&null!=e?U(e):t;return void 0!==e&&void 0!==this.transform&&(void 0===t&&(n=n.length?[n]:[]),({facets:n,data:e}=this.transform(e,n)),e=O(e),void 0===t&&n.length&&([n]=n)),{index:n,channels:this.channels.map((t=>{const{name:n}=t;return[null==n?void 0:n+"",y(e,t)]}))}}plot({marks:t=[],...e}={}){return te({...e,marks:[...t,this]})}}function y(t,{scale:e,type:n,value:r}){return{scale:e,type:n,value:g(t,r),label:r?r.label:void 0}}function g(t,e,n){const r=void 0===n?Array:n;return"string"===typeof e?r.from(t,m(e)):"function"===typeof e?r.from(t,e):"number"===typeof e||e instanceof Date?r.from(t,A(e)):e&&"function"===typeof e.transform?O(e.transform(t),n):O(e,n)}const m=t=>Object.assign((e=>e[t]),{label:t}),b=(t,e)=>e,v={transform:t=>t},_=t=>null==t?t:t+"",w=t=>null==t?t:+t,x=t=>null==t?t:!!t,M=t=>t[0],S=t=>t[1],A=t=>()=>t,T=new Set(["currentColor","none"]);function I(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:"string"===typeof t&&(T.has(t)||(0,r.color)(t))?[void 0,t]:[t,void 0]}function B(t,e){return void 0===t&&(t=e),null===t||"number"===typeof t?[void 0,t]:[t,void 0]}function E(t,e,n){if(null!=t)return k(t,e,n)}function k(t,e,n){const r=(t+"").toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function O(t,e){return null==t?t:void 0===e?t instanceof Array||t instanceof h?t:Array.from(t):t instanceof e?t:e.from(t)}function N(t,e,n,r=v){return void 0===e&&void 0===n?(e=0,n=void 0===t?r:t):void 0===e?e=void 0===t?0:t:void 0===n&&(n=void 0===t?0:t),[e,n]}function D(t,e){return void 0===t&&void 0===e?[M,S]:[t,e]}function F({z:t,fill:e,stroke:n}={}){return void 0===t&&([t]=I(e)),void 0===t&&([t]=I(n)),t}function L(t){return t?e=>e.filter((e=>u(t[e]))).append("title").text((e=>t[e])):()=>{}}function C(t){return t?e=>e.filter((([e])=>u(t[e]))).append("title").text((([e])=>t[e])):()=>{}}function U(t){return Uint32Array.from(t,b)}function R(t,e){return Array.from(e,(e=>t[e]))}function z(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}function j(t){let e;return[{transform:()=>e,label:P(t)},t=>e=t]}function P(t,e){return"string"===typeof t?t:t&&void 0!==t.label?t.label:e}function V(t){return null==t?[t]:j(t)}function $({filter:t,sort:e,reverse:n,transform:r,...i}={},o){var a;return void 0===r&&(null!=t&&(a=t,r=(t,e)=>{const n=g(t,a);return{data:t,facets:e.map((t=>t.filter((t=>n[t]))))}}),null!=e&&(r=H(r,function(t){return("function"===typeof t&&1!==t.length?W:G)(t)}(e))),n&&(r=H(r,X))),{...i,transform:H(r,o)}}function Y(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Q(r)||Q(i)?Array.from(r,((t,e)=>new Date((+r[e]+ +i[e])/2))):Float64Array.from(r,((t,e)=>(+r[e]+ +i[e])/2))},label:t.label}}function q(t){return void 0===t||t&&t.toString===d&&"function"!==typeof t.transform?t:{value:t}}function H(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:(n,r)=>(({data:n,facets:r}=t(n,r)),e(O(n),r))}function W(t){return(e,n)=>{const r=(n,r)=>t(e[n],e[r]);return{data:e,facets:n.map((t=>t.slice().sort(r)))}}}function G(t){return(e,n)=>{const r=g(e,t),i=(t,e)=>s(r[t],r[e]);return{data:e,facets:n.map((t=>t.slice().sort(i)))}}}function X(t,e){return{data:t,facets:e.map((t=>t.slice().reverse()))}}function K(t){return{transform:e=>g(e,t,Float64Array),label:P(t)}}function Z(t=[],e){const n=Object.create(null);for(let[r,{value:i,scale:o}]of t)void 0!==r&&(void 0!==o&&(o=e[o],void 0!==o&&(i=Array.from(i,o))),n[r]=i);return n}function J(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function Q(t){for(const e of t)if(null!=e)return e instanceof Date}class tt{constructor({name:t="x",axis:e,ticks:n,tickSize:r=("fx"===t?0:6),tickPadding:i=(0===r?9:3),tickFormat:o,grid:a,label:s,labelAnchor:u,labelOffset:c,tickRotate:l}={}){this.name=t,this.axis=k(e,"axis",["top","bottom"]),this.ticks=n,this.tickSize=w(r),this.tickPadding=w(i),this.tickFormat=o,this.grid=x(a),this.label=_(s),this.labelAnchor=E(u,"labelAnchor",["center","left","right"]),this.labelOffset=w(c),this.tickRotate=w(l)}render(t,{[this.name]:e,fy:n},i,{width:o,height:a,marginTop:s,marginRight:u,marginBottom:c,marginLeft:l,facetMarginTop:f,facetMarginBottom:h,labelMarginLeft:d=0,labelMarginRight:p=0}){const{axis:y,grid:g,label:m,labelAnchor:b,labelOffset:v,tickRotate:_}=this,w="x"===this.name?0:"top"===y?s-f:c-h,x="top"===y?-1:1,M=x*w+("top"===y?s:a-c);return(0,r.create)("svg:g").attr("transform",`translate(0,${M})`).call(nt("top"===y?r.axisTop:r.axisBottom,e,this)).call(rt,_).attr("font-size",null).attr("font-family",null).call((t=>t.select(".domain").remove())).call(g?n?function(t,e){const n=t.bandwidth();return r=>r.selectAll(".tick").append("path").attr("stroke","currentColor").attr("stroke-opacity",.1).attr("d",t.domain().map((r=>`M0,${t(r)+e}v${n}`)).join(""))}(n,-M):(S=x*(c+s-a),t=>t.selectAll(".tick line").clone(!0).attr("stroke-opacity",.1).attr("y2",S)):()=>{}).call(m?t=>t.append("text").attr("fill","currentColor").attr("transform",`translate(${"center"===b?(o+l-u)/2:"right"===b?o+p:-d},${v*x})`).attr("dy","top"===y?"1em":"-0.32em").attr("text-anchor","center"===b?"middle":"right"===b?"end":"start").text(m):()=>{}).node();var S}}class et{constructor({name:t="y",axis:e,ticks:n,tickSize:r=("fy"===t?0:6),tickPadding:i=(0===r?9:3),tickFormat:o,grid:a,label:s,labelAnchor:u,labelOffset:c,tickRotate:l}={}){this.name=t,this.axis=k(e,"axis",["left","right"]),this.ticks=n,this.tickSize=w(r),this.tickPadding=w(i),this.tickFormat=o,this.grid=x(a),this.label=_(s),this.labelAnchor=E(u,"labelAnchor",["center","top","bottom"]),this.labelOffset=w(c),this.tickRotate=w(l)}render(t,{[this.name]:e,fx:n},i,{width:o,height:a,marginTop:s,marginRight:u,marginBottom:c,marginLeft:l,facetMarginLeft:f,facetMarginRight:h}){const{axis:d,grid:p,label:y,labelAnchor:g,labelOffset:m,tickRotate:b}=this,v="y"===this.name?0:"left"===d?l-f:u-h,_="left"===d?-1:1,w=_*v+("right"===d?o-u:l);return(0,r.create)("svg:g").attr("transform",`translate(${w},0)`).call(nt("right"===d?r.axisRight:r.axisLeft,e,this)).call(rt,b).attr("font-size",null).attr("font-family",null).call((t=>t.select(".domain").remove())).call(p?n?function(t,e){const n=t.bandwidth();return r=>r.selectAll(".tick").append("path").attr("stroke","currentColor").attr("stroke-opacity",.1).attr("d",t.domain().map((r=>`M${t(r)+e},0h${n}`)).join(""))}(n,-w):(x=_*(l+u-o),t=>t.selectAll(".tick line").clone(!0).attr("stroke-opacity",.1).attr("x2",x)):()=>{}).call(y?t=>t.append("text").attr("fill","currentColor").attr("transform",`translate(${m*_},${"center"===g?(a+s-c)/2:"bottom"===g?a-c:s})${"center"===g?" rotate(-90)":""}`).attr("dy","center"===g?"right"===d?"-0.32em":"0.75em":"bottom"===g?"1.4em":"-1em").attr("text-anchor","center"===g?"middle":"right"===d?"end":"start").text(y):()=>{}).node();var x}}function nt(t,e,{ticks:n,tickSize:o,tickPadding:a,tickFormat:s}){return e.tickFormat||"function"===typeof s||(s=void 0===s?Q(e.domain())?i:_:("string"===typeof s?Q(e.domain())?r.utcFormat:r.format:A)(s)),t(e).ticks(Array.isArray(n)?null:n,"function"===typeof s?null:s).tickFormat("function"===typeof s?s:null).tickSizeInner(o).tickSizeOuter(0).tickPadding(a).tickValues(Array.isArray(n)?n:null)}function rt(t,e){if(!(e=+e))return;const n=Math.PI/180,r=t.selectAll("text").attr("dy","0.32em"),i=+r.attr("y");if(i){const t=Math.sign(i);r.attr("y",null).attr("transform",`translate(0, ${i+4*t*Math.cos(e*n)}) rotate(${e})`).attr("text-anchor",Math.abs(e)<10?"middle":e<0^t>0?"start":"end")}else{const t=+r.attr("x"),i=Math.sign(t);r.attr("x",null).attr("transform",`translate(${t+4*i*Math.abs(Math.sin(e*n))}, 0) rotate(${e})`).attr("text-anchor",Math.abs(e)>60?"middle":i>0?"start":"end")}}function it(t,e,n){if(void 0===e.ticks){const[r,i]=t.scale.range();e.ticks=Math.abs(i-r)/n}}function ot(t,e,n){void 0===t.labelAnchor&&(t.labelAnchor="ordinal"===e.type?"center":e.reverse?"left":"right"),void 0===t.label&&(t.label=st(n,e,t,"x"))}function at(t,e,n,r){void 0===t.labelAnchor&&(t.labelAnchor="ordinal"===n.type?"center":e&&"top"===e.axis?"bottom":"top"),void 0===t.label&&(t.label=st(r,n,t,"y"))}function st(t=[],e,n,r){let i;for(const{label:o}of t)if(void 0!==o)if(void 0===i)i=o;else if(i!==o)return;if(void 0!==i){const{percent:t,reverse:o}=e;if("temporal"===e.type&&/^(date|time|year)$/i.test(i))return;"ordinal"===e.type||"x"!==r&&"y"!==r||(t&&(i=`${i} (%)`),i="center"===n.labelAnchor?`${i} \u2192`:"x"===r?o?`\u2190 ${i}`:`${i} \u2192`:`${o?"\u2193 ":"\u2191 "}${i}`)}return i}function ut(t,{x:e,y:n,...r},i){return void 0===e&&void 0===n?i:[new ct(t,{x:e,y:n,...r},i)]}class ct extends p{constructor(t,{x:e,y:n,...r}={},i=[]){super(t,[{name:"fx",value:e,scale:"fx",optional:!0},{name:"fy",value:n,scale:"fy",optional:!0}],r),this.marks=i.flat(1/0),this.marksChannels=void 0,this.marksIndex=void 0,this.marksIndexByFacet=void 0}initialize(){const{index:t,channels:e}=super.initialize(),n=void 0===t?[]:function(t,e){return(e.length>1?ht:ft)(t,...e)}(t,e),r=Array.from(n,M),i=Array.from(n,S),o=[],a=this.marksChannels=[],s=this.marksIndex=new Array(this.marks.length),u=this.marksIndexByFacet=function(t){return new(t.length>1?pt:dt)}(e);for(const c of r)u.set(c,new Array(this.marks.length));for(let c=0;c<this.marks.length;++c){const t=this.marks[c],e=t.data===this.data?i:void 0,{index:n,channels:l}=t.initialize(e);if(void 0!==n)if(e){for(let t=0;t<r.length;++t)u.get(r[t])[c]=n[t];s[c]=[]}else{for(let t=0;t<r.length;++t)u.get(r[t])[c]=n;s[c]=n}for(const[,r]of l)o.push([,r]);a.push(l)}return{index:t,channels:[...e,...o]}}render(t,e,n,i,o){const{marks:a,marksChannels:s,marksIndex:u,marksIndexByFacet:c}=this,{fx:l,fy:f}=e,h=f&&{marginTop:0,marginBottom:0,height:f.bandwidth()},d=l&&{marginRight:0,marginLeft:0,width:l.bandwidth()},p={...i,...d,...h},y=s.map((t=>Z(t,e)));return(0,r.create)("svg:g").call((t=>{if(f&&o.y){const n=f.domain(),r=o.y,a=lt(r),s="bottom"===r.labelAnchor?n.length-1:"center"===r.labelAnchor?n.length>>1:0,u={...i,...h};t.selectAll().data(n).join("g").attr("transform",(t=>`translate(0,${f(t)})`)).append(((t,n)=>(n===s?r:a).render(null,e,null,u)))}if(l&&o.x){const n=l.domain(),r=o.x,a=lt(r),s="right"===r.labelAnchor?n.length-1:"center"===r.labelAnchor?n.length>>1:0,{marginLeft:u,marginRight:c}=i,f={...i,...d,labelMarginLeft:u,labelMarginRight:c};t.selectAll().data(n).join("g").attr("transform",(t=>`translate(${l(t)},0)`)).append(((t,n)=>(n===s?r:a).render(null,e,null,f)))}})).call((t=>t.selectAll().data(function({fx:t,fy:e}){return t&&e?(0,r.cross)(t.domain(),e.domain()):t?t.domain():e.domain()}(e)).join("g").attr("transform",function(t,e){return t&&e?([n,r])=>`translate(${t(n)},${e(r)})`:t?e=>`translate(${t(e)},0)`:t=>`translate(0,${e(t)})`}(l,f)).each((function(t){const n=c.get(t)||u;for(let r=0;r<a.length;++r){const t=a[r].render(n[r],e,y[r],p);null!=t&&this.appendChild(t)}})))).node()}}function lt(t){return void 0===t||void 0===t.label?t:Object.assign(Object.create(t),{label:void 0})}function ft(t,[,{value:e}]){return(0,r.groups)(t,(t=>e[t]))}function ht(t,[,{value:e}],[,{value:n}]){return(0,r.groups)(t,(t=>e[t]),(t=>n[t])).flatMap((([t,e])=>e.map((([e,n])=>[[t,e],n]))))}class dt{constructor(){this._=new r.InternMap}has(t){return this._.has(t)}get(t){return this._.get(t)}set(t,e){return this._.set(t,e),this}}class pt extends dt{has([t,e]){const n=super.get(t);return!!n&&n.has(e)}get([t,e]){const n=super.get(t);return n&&n.get(e)}set([t,e],n){const i=super.get(t);return i?i.set(e,n):super.set(t,new r.InternMap([[e,n]])),this}}const yt=Symbol("position"),gt=Symbol("color"),mt=Symbol("radius"),bt=Symbol("opacity"),vt=new Map([["x",yt],["y",yt],["fx",yt],["fy",yt],["r",mt],["color",gt],["opacity",bt]]),_t=new Map([["number",r.interpolateNumber],["rgb",r.interpolateRgb],["hsl",r.interpolateHsl],["hcl",r.interpolateHcl],["lab",r.interpolateLab]]),wt=new Map([["brbg",r.interpolateBrBG],["prgn",r.interpolatePRGn],["piyg",r.interpolatePiYG],["puor",r.interpolatePuOr],["rdbu",r.interpolateRdBu],["rdgy",r.interpolateRdGy],["rdylbu",r.interpolateRdYlBu],["rdylgn",r.interpolateRdYlGn],["spectral",r.interpolateSpectral],["burd",t=>(0,r.interpolateRdBu)(1-t)],["buylrd",t=>(0,r.interpolateRdYlBu)(1-t)],["blues",r.interpolateBlues],["greens",r.interpolateGreens],["greys",r.interpolateGreys],["purples",r.interpolatePurples],["reds",r.interpolateReds],["oranges",r.interpolateOranges],["turbo",r.interpolateTurbo],["viridis",r.interpolateViridis],["magma",r.interpolateMagma],["inferno",r.interpolateInferno],["plasma",r.interpolatePlasma],["cividis",r.interpolateCividis],["cubehelix",r.interpolateCubehelixDefault],["warm",r.interpolateWarm],["cool",r.interpolateCool],["bugn",r.interpolateBuGn],["bupu",r.interpolateBuPu],["gnbu",r.interpolateGnBu],["orrd",r.interpolateOrRd],["pubugn",r.interpolatePuBuGn],["pubu",r.interpolatePuBu],["purd",r.interpolatePuRd],["rdpu",r.interpolateRdPu],["ylgnbu",r.interpolateYlGnBu],["ylgn",r.interpolateYlGn],["ylorbr",r.interpolateYlOrBr],["ylorrd",r.interpolateYlOrRd],["rainbow",r.interpolateRainbow],["sinebow",r.interpolateSinebow]]);function xt(t){const e=(t+"").toLowerCase();if(!_t.has(e))throw new Error(`unknown interpolator: ${e}`);return _t.get(e)}function Mt(t){const e=(t+"").toLowerCase();if(!wt.has(e))throw new Error(`unknown scheme: ${e}`);return wt.get(e)}function St(t,e,n,{nice:i,clamp:o,zero:a,domain:s=(vt.get(t)===mt||vt.get(t)===bt?It:Tt)(n),percent:u,round:c,range:l=(vt.get(t)===mt?Bt(n,s):vt.get(t)===bt?[0,1]:void 0),scheme:f,type:h,interpolate:d=(vt.get(t)===gt?void 0!==l?r.interpolateRgb:void 0!==f?Mt(f):"cyclical"===h?r.interpolateRainbow:r.interpolateTurbo:c?r.interpolateRound:void 0),reverse:p,inset:y}){var g;return a&&(s=s[1]<0?[s[0],0]:s[0]>0?[0,s[1]]:s),(p=!!p)&&(s=(0,r.reverse)(s)),e.domain(s),i&&e.nice(!0===i?void 0:i),void 0!==d&&("function"!==typeof d?d=xt(d):1===d.length&&(p&&(g=d,d=t=>g(1-t)),d=A(d)),e.interpolate(d)),void 0!==l&&e.range(l),o&&e.clamp(o),{type:"quantitative",reverse:p,domain:s,range:l,scale:e,inset:y,percent:u}}function At(t,e,{exponent:n=1,...i}){return St(t,(0,r.scalePow)().exponent(n),e,i)}function Tt(t,e){return[(0,r.min)(t,(({value:t})=>void 0===t?t:(0,r.min)(t,e))),(0,r.max)(t,(({value:t})=>void 0===t?t:(0,r.max)(t,e)))]}function It(t){return[0,(0,r.max)(t,(({value:t})=>void 0===t?t:(0,r.max)(t)))]}function Bt(t,e){const n=(0,r.quantile)(t,.5,(({value:t})=>void 0===t?NaN:(0,r.quantile)(t,.25,l)));return e.map((t=>3*Math.sqrt(t/n)))}function Et(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n=+n,n>0)return Tt(t,l);if(n<0)return Tt(t,f)}return[1,10]}function kt(t,e,n,r){const i=St(t,e,n,r);return i.type="temporal",i}const Ot=new Map([["accent",r.schemeAccent],["category10",r.schemeCategory10],["dark2",r.schemeDark2],["paired",r.schemePaired],["pastel1",r.schemePastel1],["pastel2",r.schemePastel2],["set1",r.schemeSet1],["set2",r.schemeSet2],["set3",r.schemeSet3],["tableau10",r.schemeTableau10],["brbg",Dt(r.schemeBrBG,r.interpolateBrBG)],["prgn",Dt(r.schemePRGn,r.interpolatePRGn)],["piyg",Dt(r.schemePiYG,r.interpolatePiYG)],["puor",Dt(r.schemePuOr,r.interpolatePuOr)],["rdbu",Dt(r.schemeRdBu,r.interpolateRdBu)],["rdgy",Dt(r.schemeRdGy,r.interpolateRdGy)],["rdylbu",Dt(r.schemeRdYlBu,r.interpolateRdYlBu)],["rdylgn",Dt(r.schemeRdYlGn,r.interpolateRdYlGn)],["spectral",Dt(r.schemeSpectral,r.interpolateSpectral)],["burd",Ft(r.schemeRdBu,r.interpolateRdBu)],["buylrd",Ft(r.schemeRdGy,r.interpolateRdGy)],["blues",Nt(r.schemeBlues,r.interpolateBlues)],["greens",Nt(r.schemeGreens,r.interpolateGreens)],["greys",Nt(r.schemeGreys,r.interpolateGreys)],["oranges",Nt(r.schemeOranges,r.interpolateOranges)],["purples",Nt(r.schemePurples,r.interpolatePurples)],["reds",Nt(r.schemeReds,r.interpolateReds)],["turbo",Lt(r.interpolateTurbo)],["viridis",Lt(r.interpolateViridis)],["magma",Lt(r.interpolateMagma)],["inferno",Lt(r.interpolateInferno)],["plasma",Lt(r.interpolatePlasma)],["cividis",Lt(r.interpolateCividis)],["cubehelix",Lt(r.interpolateCubehelixDefault)],["warm",Lt(r.interpolateWarm)],["cool",Lt(r.interpolateCool)],["bugn",Nt(r.schemeBuGn,r.interpolateBuGn)],["bupu",Nt(r.schemeBuPu,r.interpolateBuPu)],["gnbu",Nt(r.schemeGnBu,r.interpolateGnBu)],["orrd",Nt(r.schemeOrRd,r.interpolateOrRd)],["pubu",Nt(r.schemePuBu,r.interpolatePuBu)],["pubugn",Nt(r.schemePuBuGn,r.interpolatePuBuGn)],["purd",Nt(r.schemePuRd,r.interpolatePuRd)],["rdpu",Nt(r.schemeRdPu,r.interpolateRdPu)],["ylgn",Nt(r.schemeYlGn,r.interpolateYlGn)],["ylgnbu",Nt(r.schemeYlGnBu,r.interpolateYlGnBu)],["ylorbr",Nt(r.schemeYlOrBr,r.interpolateYlOrBr)],["ylorrd",Nt(r.schemeYlOrRd,r.interpolateYlOrRd)],["rainbow",Lt(r.interpolateRainbow)],["sinebow",Lt(r.interpolateSinebow)]]);function Nt(t,e){return({length:n})=>(n=n>3?Math.floor(n):3)>9?(0,r.quantize)(e,n):t[n]}function Dt(t,e){return({length:n})=>(n=n>3?Math.floor(n):3)>11?(0,r.quantize)(e,n):t[n]}function Ft(t,e){return({length:n})=>(n=n>3?Math.floor(n):3)>11?(0,r.quantize)((t=>e(1-t)),n):t[n].slice().reverse()}function Lt(t){return({length:e})=>(0,r.quantize)(t,e>0?Math.floor(e):0)}function Ct(t){const e=(t+"").toLowerCase();if(!Ot.has(e))throw new Error(`unknown scheme: ${e}`);return Ot.get(e)}function Ut(t,e,{domain:n=zt(e),range:i,reverse:o,inset:a}){return(o=!!o)&&(n=(0,r.reverse)(n)),t.domain(n),void 0!==i&&("function"===typeof i&&(i=i(n)),t.range(i)),{type:"ordinal",reverse:o,domain:n,range:i,scale:t,inset:a}}function Rt(t,e,n={}){const{round:r}=n;return void 0!==r&&t.round(r),(t=Ut(t,e,n)).round=r,t}function zt(t){const e=new r.InternSet;for(const{value:n}of t)if(void 0!==n)for(const t of n)e.add(t);return(0,r.sort)(e,s)}function jt(t,e){if(void 0===t.range){const{inset:n=0}=t,{width:r,marginLeft:i=0,marginRight:o=0}=e;t.scale.range([i+n,r-o-n])}Vt(t)}function Pt(t,e){if(void 0===t.range){const{inset:n=0}=t,{height:r,marginTop:i=0,marginBottom:o=0}=e,a=[r-o-n,i+n];"ordinal"===t.type&&a.reverse(),t.scale.range(a)}Vt(t)}function Vt(t){void 0===t.round&&"ordinal"===t.type&&t.scale.step()>=5&&t.scale.round(!0)}function $t(t,e=[],n={}){switch(function(t,e,{type:n,domain:r,range:i}){if("fx"===t||"fy"===t)return"band";if(void 0!==n){for(const{type:t}of e)if(void 0!==t&&n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);return n}if(vt.get(t)===mt)return"sqrt";if(vt.get(t)===bt)return"linear";for(const{type:a}of e)if(void 0!==a)return a;if((r||i||[]).length>2)return Yt(t);if(void 0!==r)return J(r)?Yt(t):Q(r)?"utc":"linear";const o=e.map((({value:t})=>t)).filter((t=>void 0!==t));return o.some(J)?Yt(t):o.some(Q)?"utc":"linear"}(t,e,n)){case"diverging":return function(t,e,{nice:n,clamp:i,domain:o=Tt(e),pivot:a=0,range:s,scheme:u,interpolate:c=(vt.get(t)===gt?void 0!==s?r.interpolateRgb:void 0!==u?Mt(u):r.interpolateRdBu:void 0),reverse:l}){o=[Math.min(o[0],a),a,Math.max(o[1],a)],(l=!!l)&&(o=(0,r.reverse)(o)),void 0!==c&&"function"!==typeof c&&(c=xt(c)),void 0!==s&&(c=(0,r.piecewise)(c,s));const f=(0,r.scaleDiverging)(o,c);return i&&f.clamp(i),n&&f.nice(n),{type:"quantitative",reverse:l,domain:o,scale:f}}(t,e,n);case"categorical":case"ordinal":return function(t,e,{scheme:n,type:i,range:o=(vt.get(t)===gt?void 0!==n?Ct(n):"ordinal"===i?Ot.get("turbo"):r.schemeTableau10:void 0),...a}){return Ut((0,r.scaleOrdinal)().unknown(void 0),e,{range:o,...a})}(t,e,n);case"cyclical":case"sequential":case"linear":return function(t,e,n){return St(t,(0,r.scaleLinear)(),e,n)}(t,e,n);case"sqrt":return At(t,e,{...n,exponent:.5});case"pow":return At(t,e,n);case"log":return function(t,e,{base:n=10,domain:i=Et(e),...o}){return St(t,(0,r.scaleLog)().base(n),e,{domain:i,...o})}(t,e,n);case"symlog":return function(t,e,{constant:n=1,...i}){return St(t,(0,r.scaleSymlog)().constant(n),e,i)}(t,e,n);case"utc":return function(t,e,n){return kt(t,(0,r.scaleUtc)(),e,n)}(t,e,n);case"time":return function(t,e,n){return kt(t,(0,r.scaleTime)(),e,n)}(t,e,n);case"point":return function(t,e,{align:n=.5,padding:i=.5,...o}){return Rt((0,r.scalePoint)().align(n).padding(i),e,o)}(0,e,n);case"band":return function(t,e,{align:n=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=("fx"===t||"fy"===t?0:i),...s}){return Rt((0,r.scaleBand)().align(n).paddingInner(o).paddingOuter(a),e,s)}(t,e,n);case"identity":return vt.get(t)===yt?{type:"identity",scale:(0,r.scaleIdentity)()}:void 0;case void 0:return;default:throw new Error(`unknown scale type: ${n.type}`)}}function Yt(t){return vt.get(t)===yt?"point":"ordinal"}const qt="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5;function Ht(t,{fill:e,fillOpacity:n,stroke:r,strokeWidth:i,strokeOpacity:o,strokeLinejoin:a,strokeLinecap:s,strokeMiterlimit:u,strokeDasharray:c,mixBlendMode:l}={}){t.fill=Jt(e,"currentColor"),t.fillOpacity=Qt(n,1),t.stroke=Jt(r,"none"),t.strokeWidth=Qt(i,1),t.strokeOpacity=Qt(o,1),t.strokeLinejoin=Jt(a,"miter"),t.strokeLinecap=Jt(s,"butt"),t.strokeMiterlimit=Qt(u,4),t.strokeDasharray=_(c),t.mixBlendMode=Jt(l,"normal")}function Wt(t,e){Xt(t,"fill",e.fill),Xt(t,"fill-opacity",e.fillOpacity),Xt(t,"stroke",e.stroke),Xt(t,"stroke-width",e.strokeWidth),Xt(t,"stroke-opacity",e.strokeOpacity),Xt(t,"stroke-linejoin",e.strokeLinejoin),Xt(t,"stroke-linecap",e.strokeLinecap),Xt(t,"stroke-miterlimit",e.strokeMiterlimit),Xt(t,"stroke-dasharray",e.strokeDasharray)}function Gt(t,e){Kt(t,"mix-blend-mode",e.mixBlendMode)}function Xt(t,e,n){null!=n&&t.attr(e,n)}function Kt(t,e,n){null!=n&&t.style(e,n)}function Zt(t,e,n,r,i){r=r?qt:0,i=i?qt:0,e&&e.bandwidth&&(r+=e.bandwidth()/2),n&&n.bandwidth&&(i+=n.bandwidth()/2),(r||i)&&t.attr("transform",`translate(${r},${i})`)}function Jt(t,e){if((t=_(t))!==e)return t}function Qt(t,e){if((t=w(t))!==e)return t}function te(t={}){const{facet:e,style:n,caption:i}=t;if(void 0!==e){const{marks:n}=t,{data:r}=e;t={...t,marks:ut(r,e,n)}}const o=void 0===t.marks?[]:t.marks.flat(1/0),a=new Map,s=new Map,u=new Map;for(const r of o){if(a.has(r))throw new Error("duplicate mark");const{index:e,channels:n}=r.initialize();for(const[,r]of n){const{scale:e}=r;if(void 0!==e){const n=u.get(e),{percent:i,transform:o=(i?t=>100*t:void 0)}=t[e]||{};void 0!==o&&(r.value=Array.from(r.value,o)),n?n.push(r):u.set(e,[r])}}a.set(r,n),s.set(r,e)}const c=function(t,{inset:e,round:n,nice:r,align:i,padding:o,...a}={}){const s={};for(const u of vt.keys())if(t.has(u)||a[u]){const c=$t(u,t.get(u),{inset:"x"===u||"y"===u?e:void 0,round:vt.get(u)===yt?n:void 0,nice:r,align:i,padding:o,...a[u]});c&&(s[u]=c)}return s}(u,t),l=function(t){return Object.fromEntries(Object.entries(t).map((([t,{scale:e}])=>[t,e])))}(c),f=function({x:t,y:e,fx:n,fy:r},{x:i={},y:o={},fx:a={},fy:s={},grid:u,facet:{grid:c}={}}={}){let{axis:l=!0}=i,{axis:f=!0}=o,{axis:h=!0}=a,{axis:d=!0}=s;return t?!0===l&&(l="bottom"):l=null,e?!0===f&&(f="left"):f=null,n?!0===h&&(h="bottom"===l?"top":"bottom"):h=null,r?!0===d&&(d="left"===f?"right":"left"):d=null,{...l&&{x:new tt({grid:u,...i,axis:l})},...f&&{y:new et({grid:u,...o,axis:f})},...h&&{fx:new tt({name:"fx",grid:c,...a,axis:h})},...d&&{fy:new et({name:"fy",grid:c,...s,axis:d})}}}(c,t),h=function(t,{x:{axis:e}={},y:{axis:n}={},fx:{axis:r}={},fy:{axis:i}={}},{width:o=640,height:a=ee(t),facet:{marginTop:s=("top"===r?30:0),marginRight:u=("right"===i?40:0),marginBottom:c=("bottom"===r?30:0),marginLeft:l=("left"===i?40:0)}={},marginTop:f=Math.max(("top"===e?30:0)+s,n||i?20:.5-qt),marginRight:h=Math.max(("right"===n?40:0)+u,e||r?20:.5+qt),marginBottom:d=Math.max(("bottom"===e?30:0)+c,n||i?20:.5+qt),marginLeft:p=Math.max(("left"===n?40:0)+l,e||r?20:.5-qt)}={}){return{width:o,height:a,marginTop:f,marginRight:h,marginBottom:d,marginLeft:p,facetMarginTop:s,facetMarginRight:u,facetMarginBottom:c,facetMarginLeft:l}}(c,f,t);!function({x:t,y:e,fx:n,fy:r},i){n&&jt(n,i),r&&Pt(r,i),t&&jt(t,n?{width:n.scale.bandwidth()}:i),e&&Pt(e,r?{height:r.scale.bandwidth()}:i)}(c,h),function({x:t,y:e,fx:n,fy:r},{x:i,y:o,fx:a,fy:s}){a&&it(n,a,80),s&&it(r,s,35),i&&it(t,i,80),o&&it(e,o,35)}(c,f),function(t,e,{x:n,y:r,fx:i,fy:o},a){if(i&&(ot(i,e.fx,t.get("fx")),void 0===i.labelOffset)){const{facetMarginTop:t,facetMarginBottom:e}=a;i.labelOffset="top"===i.axis?t:e}if(o&&(at(o,i,e.fy,t.get("fy")),void 0===o.labelOffset)){const{facetMarginLeft:t,facetMarginRight:e}=a;o.labelOffset="left"===o.axis?t:e}if(n&&(ot(n,e.x,t.get("x")),void 0===n.labelOffset)){const{marginTop:t,marginBottom:e,facetMarginTop:r,facetMarginBottom:i}=a;n.labelOffset="top"===n.axis?t-r:e-i}if(r&&(at(r,n,e.y,t.get("y")),void 0===r.labelOffset)){const{marginRight:t,marginLeft:e,facetMarginLeft:n,facetMarginRight:i}=a;r.labelOffset="left"===r.axis?e-n:t-i}}(u,c,f,h),t={...c,...h},f.x&&(t.x={...t.x,...f.x}),f.y&&(t.y={...t.y,...f.y}),f.fx&&(t.fx={...t.fx,...f.fx}),f.fy&&(t.fy={...t.fy,...f.fy});const d=void 0!==e&&l.fx?"fx":"x",p=void 0!==e&&l.fy?"fy":"y";f[d]&&o.unshift(f[d]),f[p]&&o.unshift(f[p]);const{width:y,height:g}=h,m=(0,r.create)("svg").attr("class","plot").attr("fill","currentColor").attr("text-anchor","middle").attr("width",y).attr("height",g).attr("viewBox",`0 0 ${y} ${g}`).each((function(){"string"===typeof n?this.style=n:Object.assign(this.style,n)})).node();for(const r of o){const t=a.get(r),e=s.get(r),n=r.render(e,l,Z(t,l),h,f);null!=n&&m.appendChild(n)}if(null==i)return m;const b=document.createElement("figure");b.appendChild(m);return b.appendChild(document.createElement("figcaption")).appendChild(i instanceof Node?i:document.createTextNode(i)),b}function ee({y:t,fy:e,fx:n}){const r=e?e.scale.domain().length:1,i=t?"ordinal"===t.type?t.scale.domain().length:Math.max(7,17/r):1;return!(!t&&!e)*Math.max(1,Math.min(60,i*r))*20+30*!!n+60}const ne=new Map([["basis",r.curveBasis],["basis-closed",r.curveBasisClosed],["basis-open",r.curveBasisOpen],["bundle",r.curveBundle],["bump-x",r.curveBumpX],["bump-y",r.curveBumpY],["cardinal",r.curveCardinal],["cardinal-closed",r.curveCardinalClosed],["cardinal-open",r.curveCardinalOpen],["catmull-rom",r.curveCatmullRom],["catmull-rom-closed",r.curveCatmullRomClosed],["catmull-rom-open",r.curveCatmullRomOpen],["linear",r.curveLinear],["linear-closed",r.curveLinearClosed],["monotone-x",r.curveMonotoneX],["monotone-y",r.curveMonotoneY],["natural",r.curveNatural],["step",r.curveStep],["step-after",r.curveStepAfter],["step-before",r.curveStepBefore]]);function re(t=r.curveLinear,e){if("function"===typeof t)return t;const n=ne.get((t+"").toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(void 0!==e)switch(n){case r.curveBundle:return n.beta(e);case r.curveCardinalClosed:case r.curveCardinalOpen:case r.curveCardinal:return n.tension(e);case r.curveCatmullRomClosed:case r.curveCatmullRomOpen:case r.curveCatmullRom:return n.alpha(e)}return n}function ie({y1:t,y:e=t,x:n,...r}={}){const[i,o,a,s]=he(e,n,"x",r);return{y1:t,y:o,x1:a,x2:s,x:Y(a,s),...i}}function oe({y1:t,y:e=t,x:n,...r}={}){const[i,o,a]=he(e,n,"x",r);return{y1:t,y:o,x:a,...i}}function ae({y1:t,y:e=t,x:n,...r}={}){const[i,o,,a]=he(e,n,"x",r);return{y1:t,y:o,x:a,...i}}function se({x1:t,x:e=t,y:n,...r}={}){const[i,o,a,s]=he(e,n,"y",r);return{x1:t,x:o,y1:a,y2:s,y:Y(a,s),...i}}function ue({x1:t,x:e=t,y:n,...r}={}){const[i,o,a]=he(e,n,"y",r);return{x1:t,x:o,y:a,...i}}function ce({x1:t,x:e=t,y:n,...r}={}){const[i,o,,a]=he(e,n,"y",r);return{x1:t,x:o,y:a,...i}}function le({x:t,x1:e,x2:n,...r}={}){return void 0===e&&void 0==n?(void 0===t&&(t=v),ie({x:t,...r})):([e,n]=N(t,e,n),{...r,x1:e,x2:n})}function fe({y:t,y1:e,y2:n,...r}={}){return void 0===e&&void 0==n?(void 0===t&&(t=v),se({y:t,...r})):([e,n]=N(t,e,n),{...r,y1:e,y2:n})}function he(t,e=(()=>1),n,{offset:i,order:o,reverse:a,...s}={}){const u=F(s),[c,l]=V(t),[f,h]=j(e),[d,p]=j(e);return i=function(t){if(null==t)return;switch((t+"").toLowerCase()){case"expand":return pe;case"silhouette":return ye;case"wiggle":return ge}throw new Error(`unknown offset: ${t}`)}(i),o=function(t,e,n){if(void 0===t&&e===ge)return xe;if(null==t)return;if("string"===typeof t){switch(t.toLowerCase()){case"value":case n:return be;case"z":return ve;case"sum":return _e;case"appearance":return we;case"inside-out":return xe}return Me(m(t))}return"function"===typeof t?Me(t):function(t){return(e,n,r,i)=>Se(i,t)}(t)}(o,i,n),[$(s,((n,s)=>{const c=null==t?void 0:l(g(n,t)),f=g(n,e,Float64Array),d=g(n,u),y=o&&o(n,c,f,d),m=n.length,b=h(new Float64Array(m)),v=p(new Float64Array(m));for(const t of s){const e=c?Array.from((0,r.group)(t,(t=>c[t])).values()):[t];y&&Ae(e,y);for(const t of e){let e=0,n=0;a&&t.reverse();for(const r of t){const t=f[r];t<0?e=v[r]=(b[r]=e)+t:t>0?n=v[r]=(b[r]=n)+t:v[r]=b[r]=n}}i&&i(e,b,v,d)}return{data:n,facets:s}})),c,f,d]}function de(t,e){let n=0,r=0;for(const i of t){const t=e[i];t<n&&(n=t),t>r&&(r=t)}return[n,r]}function pe(t,e,n){for(const r of t){const[t,i]=de(r,n);for(const o of r){const r=1/(i-t||1);e[o]=r*(e[o]-t),n[o]=r*(n[o]-t)}}}function ye(t,e,n){for(const r of t){const[t,i]=de(r,n);for(const o of r){const r=(i+t)/2;e[o]-=r,n[o]-=r}}me(t,e,n)}function ge(t,e,n,i){const o=new r.InternMap;let a=0;for(const s of t){let t=-1;const u=s.map((t=>Math.abs(n[t]-e[t]))),c=s.map((r=>{t=i?i[r]:++t;const a=n[r]-e[r],s=o.has(t)?a-o.get(t):0;return o.set(t,a),s})),l=[0,...(0,r.cumsum)(c)];for(const r of s)e[r]+=a,n[r]+=a;const f=(0,r.sum)(u);f&&(a-=(0,r.sum)(u,((t,e)=>(c[e]/2+l[e])*t))/f)}me(t,e,n)}function me(t,e,n){const i=(0,r.min)(t,(t=>(0,r.min)(t,(t=>e[t]))));for(const r of t)for(const t of r)e[t]-=i,n[t]-=i}function be(t,e,n){return n}function ve(t,e,n,r){return r}function _e(t,e,n,i){return Se(i,(0,r.groupSort)(U(t),(t=>(0,r.sum)(t,(t=>n[t]))),(t=>i[t])))}function we(t,e,n,i){return Se(i,(0,r.groupSort)(U(t),(t=>e[(0,r.greatest)(t,(t=>n[t]))]),(t=>i[t])))}function xe(t,e,n,i){const o=U(t),a=(0,r.groupSort)(o,(t=>e[(0,r.greatest)(t,(t=>n[t]))]),(t=>i[t])),s=(0,r.rollup)(o,(t=>(0,r.sum)(t,(t=>n[t]))),(t=>i[t])),u=[],c=[];let l=0;for(const r of a)l<0?(l+=s.get(r),u.push(r)):(l-=s.get(r),c.push(r));return Se(i,c.reverse().concat(u))}function Me(t){return e=>g(e,t)}function Se(t,e){return e=new r.InternMap(e.map(((t,e)=>[t,e]))),t.map((t=>e.get(t)))}function Ae(t,e){for(const n of t)n.sort(((t,n)=>s(e[t],e[n])))}class Te extends p{constructor(t,{x1:e,y1:n,x2:r,y2:i,z:o,title:a,fill:s,fillOpacity:u,stroke:c,strokeOpacity:l,curve:f,tension:h,...d}={}){const[p,y]=I(c,"none"),[g,m]=B(l),[b,v]=I(s,"none"===y?"currentColor":"none"),[_,w]=B(u);void 0===o&&null!=b&&(o=b),void 0===o&&null!=p&&(o=p),super(t,[{name:"x1",value:e,scale:"x"},{name:"y1",value:n,scale:"y"},{name:"x2",value:r,scale:"x",optional:!0},{name:"y2",value:i,scale:"y",optional:!0},{name:"z",value:o,optional:!0},{name:"title",value:a,optional:!0},{name:"fill",value:b,scale:"color",optional:!0},{name:"fillOpacity",value:_,scale:"opacity",optional:!0},{name:"stroke",value:p,scale:"color",optional:!0},{name:"strokeOpacity",value:g,scale:"opacity",optional:!0}],d),this.curve=re(f,h),Ht(this,{fill:v,fillOpacity:w,stroke:y,strokeMiterlimit:"none"===y?void 0:1,strokeOpacity:m,...d})}render(t,{x:e,y:n},{x1:i,y1:o,x2:s=i,y2:u=o,z:c,title:l,fill:f,fillOpacity:h,stroke:d,strokeOpacity:p}){return(0,r.create)("svg:g").call(Wt,this).call(Zt,e,n).call((e=>e.selectAll().data(c?(0,r.group)(t,(t=>c[t])).values():[t]).join("path").call(Gt,this).call(Xt,"fill",f&&(([t])=>f[t])).call(Xt,"fill-opacity",h&&(([t])=>h[t])).call(Xt,"stroke",d&&(([t])=>d[t])).call(Xt,"stroke-opacity",p&&(([t])=>p[t])).attr("d",(0,r.area)().curve(this.curve).defined((t=>a(i[t])&&a(o[t])&&a(s[t])&&a(u[t]))).x0((t=>i[t])).y0((t=>o[t])).x1((t=>s[t])).y1((t=>u[t]))).call(C(l)))).node()}}function Ie(t,e){return new Te(t,e)}function Be(t,{y:e=b,...n}={}){return new Te(t,le({...n,y1:e,y2:void 0}))}function Ee(t,{x:e=b,...n}={}){return new Te(t,fe({...n,x1:e,x2:void 0}))}class ke extends p{constructor(t,e,{title:n,fill:r,fillOpacity:i,stroke:o,strokeOpacity:a,inset:s=0,insetTop:u=s,insetRight:c=s,insetBottom:l=s,insetLeft:f=s,rx:h,ry:d,...p}={}){const[y,g]=I(o,"none"),[m,b]=B(a),[v,_]=I(r,"none"===g?"currentColor":"none"),[x,M]=B(i);super(t,[...e,{name:"title",value:n,optional:!0},{name:"fill",value:v,scale:"color",optional:!0},{name:"fillOpacity",value:x,scale:"opacity",optional:!0},{name:"stroke",value:y,scale:"color",optional:!0},{name:"strokeOpacity",value:m,scale:"opacity",optional:!0}],p),Ht(this,{fill:_,fillOpacity:M,stroke:g,strokeOpacity:b,...p}),this.insetTop=w(u),this.insetRight=w(c),this.insetBottom=w(l),this.insetLeft=w(f),this.rx=Jt(h,"auto"),this.ry=Jt(d,"auto")}render(t,e,n,i){const{rx:o,ry:a}=this,{title:s,fill:u,fillOpacity:l,stroke:f,strokeOpacity:h}=n,d=c(t,...this._positions(n),u,l,f,h);return(0,r.create)("svg:g").call(Wt,this).call(this._transform,e).call((t=>t.selectAll().data(d).join("rect").call(Gt,this).attr("x",this._x(e,n,i)).attr("width",this._width(e,n,i)).attr("y",this._y(e,n,i)).attr("height",this._height(e,n,i)).call(Xt,"fill",u&&(t=>u[t])).call(Xt,"fill-opacity",l&&(t=>l[t])).call(Xt,"stroke",f&&(t=>f[t])).call(Xt,"stroke-opacity",h&&(t=>h[t])).call(Xt,"rx",o).call(Xt,"ry",a).call(L(s)))).node()}_x(t,{x:e},{marginLeft:n}){const{insetLeft:r}=this;return e?t=>e[t]+r:n+r}_y(t,{y:e},{marginTop:n}){const{insetTop:r}=this;return e?t=>e[t]+r:n+r}_width({x:t},{x:e},{marginRight:n,marginLeft:r,width:i}){const{insetLeft:o,insetRight:a}=this,s=e?t.bandwidth():i-n-r;return Math.max(0,s-o-a)}_height({y:t},{y:e},{marginTop:n,marginBottom:r,height:i}){const{insetTop:o,insetBottom:a}=this,s=e?t.bandwidth():i-n-r;return Math.max(0,s-o-a)}}class Oe extends ke{constructor(t,{x1:e,x2:n,y:r,...i}={}){super(t,[{name:"x1",value:e,scale:"x"},{name:"x2",value:n,scale:"x"},{name:"y",value:r,scale:"y",type:"band",optional:!0}],i)}_transform(t,{x:e}){t.call(Zt,e,null)}_positions({x1:t,x2:e,y:n}){return[t,e,n]}_x(t,{x1:e,x2:n}){const{insetLeft:r}=this;return t=>Math.min(e[t],n[t])+r}_width(t,{x1:e,x2:n}){const{insetLeft:r,insetRight:i}=this;return t=>Math.max(0,Math.abs(n[t]-e[t])-r-i)}}class Ne extends ke{constructor(t,{x:e,y1:n,y2:r,...i}={}){super(t,[{name:"y1",value:n,scale:"y"},{name:"y2",value:r,scale:"y"},{name:"x",value:e,scale:"x",type:"band",optional:!0}],i)}_transform(t,{y:e}){t.call(Zt,null,e)}_positions({y1:t,y2:e,x:n}){return[t,e,n]}_y(t,{y1:e,y2:n}){const{insetTop:r}=this;return t=>Math.min(e[t],n[t])+r}_height(t,{y1:e,y2:n}){const{insetTop:r,insetBottom:i}=this;return t=>Math.max(0,Math.abs(n[t]-e[t])-r-i)}}function De(t,e){return new Oe(t,le(e))}function Fe(t,e){return new Ne(t,fe(e))}class Le extends ke{constructor(t,{x:e,y:n,...r}={}){super(t,[{name:"x",value:e,scale:"x",type:"band",optional:!0},{name:"y",value:n,scale:"y",type:"band",optional:!0}],r)}_transform(){}_positions({x:t,y:e}){return[t,e]}}function Ce(t,{x:e,y:n,...r}={}){return[e,n]=D(e,n),new Le(t,{...r,x:e,y:n})}function Ue(t,{x:e=b,fill:n,stroke:r,...i}={}){return void 0===n&&void 0===I(r)[0]&&(n=v),new Le(t,{...i,x:e,fill:n,stroke:r})}function Re(t,{y:e=b,fill:n,stroke:r,...i}={}){return void 0===n&&void 0===I(r)[0]&&(n=v),new Le(t,{...i,y:e,fill:n,stroke:r})}class ze extends p{constructor(t,{x:e,y:n,r:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,...c}={}){const[l,f]=B(r,3),[h,d]=I(o,"none"),[p,y]=B(a),[g,m]=I(s,"none"===d?"currentColor":"none"),[b,v]=B(u);super(t,[{name:"x",value:e,scale:"x",optional:!0},{name:"y",value:n,scale:"y",optional:!0},{name:"r",value:l,scale:"r",optional:!0},{name:"title",value:i,optional:!0},{name:"fill",value:h,scale:"color",optional:!0},{name:"fillOpacity",value:p,scale:"opacity",optional:!0},{name:"stroke",value:g,scale:"color",optional:!0},{name:"strokeOpacity",value:b,scale:"opacity",optional:!0}],c),this.r=f,Ht(this,{fill:d,fillOpacity:y,stroke:m,strokeOpacity:v,strokeWidth:"none"===m?void 0:1.5,...c})}render(t,{x:e,y:n},{x:i,y:o,r:a,title:s,fill:u,fillOpacity:f,stroke:h,strokeOpacity:d},{width:p,height:y,marginTop:g,marginRight:m,marginBottom:b,marginLeft:v}){let _=c(t,i,o,u,f,h,d);return a&&(_=_.filter((t=>l(a[t])))),(0,r.create)("svg:g").call(Wt,this).call(Zt,e,n,.5,.5).call((t=>t.selectAll().data(_).join("circle").call(Gt,this).attr("cx",i?t=>i[t]:(v+p-m)/2).attr("cy",o?t=>o[t]:(g+y-b)/2).attr("r",a?t=>a[t]:this.r).call(Xt,"fill",u&&(t=>u[t])).call(Xt,"fill-opacity",f&&(t=>f[t])).call(Xt,"stroke",h&&(t=>h[t])).call(Xt,"stroke-opacity",d&&(t=>d[t])).call(L(s)))).node()}}function je(t,{x:e,y:n,...r}={}){return[e,n]=D(e,n),new ze(t,{...r,x:e,y:n})}function Pe(t,{x:e=v,...n}={}){return new ze(t,{...n,x:e})}function Ve(t,{y:e=v,...n}={}){return new ze(t,{...n,y:e})}class $e extends p{constructor({fill:t="none",stroke:e=(null===t||"none"===t?"currentColor":"none"),inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,...s}={}){super(),Ht(this,{fill:t,stroke:e,...s}),this.insetTop=w(r),this.insetRight=w(i),this.insetBottom=w(o),this.insetLeft=w(a)}render(t,e,n,{marginTop:i,marginRight:o,marginBottom:a,marginLeft:s,width:u,height:c}){return(0,r.create)("svg:rect").call(Wt,this).call(Gt,this).call(Zt,null,null,.5,.5).attr("x",s+this.insetLeft).attr("y",i+this.insetTop).attr("width",u-s-o-this.insetLeft-this.insetRight).attr("height",c-i-a-this.insetTop-this.insetBottom).node()}}function Ye(t){return new $e(t)}class qe extends p{constructor(t,{x:e,y:n,z:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,curve:c,tension:l,...f}={}){const[h,d]=I(o,"none"),[p,y]=B(a),[g,m]=I(s,"currentColor"),[b,v]=B(u);void 0===r&&null!=g&&(r=g),void 0===r&&null!=h&&(r=h),super(t,[{name:"x",value:e,scale:"x"},{name:"y",value:n,scale:"y"},{name:"z",value:r,optional:!0},{name:"title",value:i,optional:!0},{name:"fill",value:h,scale:"color",optional:!0},{name:"fillOpacity",value:p,scale:"opacity",optional:!0},{name:"stroke",value:g,scale:"color",optional:!0},{name:"strokeOpacity",value:b,scale:"opacity",optional:!0}],f),this.curve=re(c,l),Ht(this,{fill:d,fillOpacity:y,stroke:m,strokeMiterlimit:"none"===m?void 0:1,strokeOpacity:v,strokeWidth:"none"===m?void 0:1.5,...f})}render(t,{x:e,y:n},{x:i,y:o,z:s,title:u,fill:c,fillOpacity:l,stroke:f,strokeOpacity:h}){return(0,r.create)("svg:g").call(Wt,this).call(Zt,e,n,.5,.5).call((e=>e.selectAll().data(s?(0,r.group)(t,(t=>s[t])).values():[t]).join("path").call(Gt,this).call(Xt,"fill",c&&(([t])=>c[t])).call(Xt,"fill-opacity",l&&(([t])=>l[t])).call(Xt,"stroke",f&&(([t])=>f[t])).call(Xt,"stroke-opacity",h&&(([t])=>h[t])).attr("d",(0,r.line)().curve(this.curve).defined((t=>a(i[t])&&a(o[t]))).x((t=>i[t])).y((t=>o[t]))).call(C(u)))).node()}}function He(t,{x:e,y:n,...r}={}){return[e,n]=D(e,n),new qe(t,{...r,x:e,y:n})}function We(t,{x:e=v,y:n=b,...r}={}){return new qe(t,{...r,x:e,y:n})}function Ge(t,{x:e=b,y:n=v,...r}={}){return new qe(t,{...r,x:e,y:n})}class Xe extends p{constructor(t,{x1:e,y1:n,x2:r,y2:i,title:o,fill:a,fillOpacity:s,stroke:u,strokeOpacity:c,curve:l,...f}={}){const[h,d]=I(a,"none"),[p,y]=B(s),[g,m]=I(u,"currentColor"),[b,v]=B(c);super(t,[{name:"x1",value:e,scale:"x"},{name:"y1",value:n,scale:"y"},{name:"x2",value:r,scale:"x"},{name:"y2",value:i,scale:"y"},{name:"title",value:o,optional:!0},{name:"fill",value:h,scale:"color",optional:!0},{name:"fillOpacity",value:p,scale:"opacity",optional:!0},{name:"stroke",value:g,scale:"color",optional:!0},{name:"strokeOpacity",value:b,scale:"opacity",optional:!0}],f),this.curve=re(l),Ht(this,{fill:d,fillOpacity:y,stroke:m,strokeMiterlimit:"none"===m?void 0:1,strokeOpacity:v,...f})}render(t,{x:e,y:n},{x1:i,y1:o,x2:a,y2:s,title:u,stroke:l,strokeOpacity:f}){const h=c(t,i,o,a,s,l,f);return(0,r.create)("svg:g").call(Wt,this).call(Zt,e,n,.5,.5).call((t=>t.selectAll().data(h).join("path").call(Gt,this).attr("d",(t=>{const e=(0,r.path)(),n=this.curve(e);return n.lineStart(),n.point(i[t],o[t]),n.point(a[t],s[t]),n.lineEnd(),e+""})).call(Xt,"stroke",l&&(t=>l[t])).call(Xt,"stroke-opacity",f&&(t=>f[t])).call(L(u)))).node()}}function Ke(t,e){return new Xe(t,e)}class Ze extends p{constructor(t,{x1:e,y1:n,x2:r,y2:i,title:o,fill:a,fillOpacity:s,stroke:u,strokeOpacity:c,inset:l=0,insetTop:f=l,insetRight:h=l,insetBottom:d=l,insetLeft:p=l,rx:y,ry:g,...m}={}){const[b,v]=I(u,"none"),[_,x]=B(c),[M,S]=I(a,"none"===v?"currentColor":"none"),[A,T]=B(s);super(t,[{name:"x1",value:e,scale:"x"},{name:"y1",value:n,scale:"y"},{name:"x2",value:r,scale:"x"},{name:"y2",value:i,scale:"y"},{name:"title",value:o,optional:!0},{name:"fill",value:M,scale:"color",optional:!0},{name:"fillOpacity",value:A,scale:"opacity",optional:!0},{name:"stroke",value:b,scale:"color",optional:!0},{name:"strokeOpacity",value:_,scale:"opacity",optional:!0}],m),Ht(this,{fill:S,fillOpacity:T,stroke:v,strokeOpacity:x,...m}),this.insetTop=w(f),this.insetRight=w(h),this.insetBottom=w(d),this.insetLeft=w(p),this.rx=Jt(y,"auto"),this.ry=Jt(g,"auto")}render(t,{x:e,y:n},{x1:i,y1:o,x2:a,y2:s,title:u,fill:l,fillOpacity:f,stroke:h,strokeOpacity:d}){const{rx:p,ry:y}=this,g=c(t,i,s,a,s,l,f,h,d);return(0,r.create)("svg:g").call(Wt,this).call(Zt,e,n).call((t=>t.selectAll().data(g).join("rect").call(Gt,this).attr("x",(t=>Math.min(i[t],a[t])+this.insetLeft)).attr("y",(t=>Math.min(o[t],s[t])+this.insetTop)).attr("width",(t=>Math.max(0,Math.abs(a[t]-i[t])-this.insetLeft-this.insetRight))).attr("height",(t=>Math.max(0,Math.abs(o[t]-s[t])-this.insetTop-this.insetBottom))).call(Xt,"fill",l&&(t=>l[t])).call(Xt,"fill-opacity",f&&(t=>f[t])).call(Xt,"stroke",h&&(t=>h[t])).call(Xt,"stroke-opacity",d&&(t=>d[t])).call(Xt,"rx",p).call(Xt,"ry",y).call(L(u)))).node()}}function Je(t,e){return new Ze(t,e)}function Qe(t,e){return new Ze(t,le(e))}function tn(t,e){return new Ze(t,fe(e))}class en extends p{constructor(t,{x:e,y1:n,y2:r,title:i,stroke:o,inset:a=0,insetTop:s=a,insetBottom:u=a,...c}={}){const[l,f]=I(o,"currentColor");super(t,[{name:"x",value:e,scale:"x",optional:!0},{name:"y1",value:n,scale:"y",optional:!0},{name:"y2",value:r,scale:"y",optional:!0},{name:"title",value:i,optional:!0},{name:"stroke",value:l,scale:"color",optional:!0}],c),Ht(this,{stroke:f,...c}),this.insetTop=w(s),this.insetBottom=w(u)}render(t,{x:e,y:n},{x:i,y1:o,y2:a,title:s,stroke:u},{width:l,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:y}){const g=c(t,i,o,a,u);return(0,r.create)("svg:g").call(Wt,this).call(Zt,i&&e,null,.5,0).call((t=>t.selectAll("line").data(g).join("line").call(Gt,this).attr("x1",i?t=>i[t]:(p+l-d)/2).attr("x2",i?t=>i[t]:(p+l-d)/2).attr("y1",o?t=>o[t]+this.insetTop:h+this.insetTop).attr("y2",a?n.bandwidth?t=>a[t]+n.bandwidth()-this.insetBottom:t=>a[t]-this.insetBottom:f-y-this.insetBottom).call(Xt,"stroke",u&&(t=>u[t])).call(L(s)))).node()}}class nn extends p{constructor(t,{x1:e,x2:n,y:r,title:i,stroke:o,inset:a=0,insetRight:s=a,insetLeft:u=a,...c}={}){const[l,f]=I(o,"currentColor");super(t,[{name:"y",value:r,scale:"y",optional:!0},{name:"x1",value:e,scale:"x",optional:!0},{name:"x2",value:n,scale:"x",optional:!0},{name:"title",value:i,optional:!0},{name:"stroke",value:l,scale:"color",optional:!0}],c),Ht(this,{stroke:f,...c}),this.insetRight=w(s),this.insetLeft=w(u)}render(t,{x:e,y:n},{y:i,x1:o,x2:a,title:s,stroke:u},{width:l,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:y}){const g=c(t,i,o,a);return(0,r.create)("svg:g").call(Wt,this).call(Zt,null,i&&n,0,.5).call((t=>t.selectAll("line").data(g).join("line").call(Gt,this).attr("x1",o?t=>o[t]+this.insetLeft:p+this.insetLeft).attr("x2",a?e.bandwidth?t=>a[t]+e.bandwidth()-this.insetRight:t=>a[t]-this.insetRight:l-d-this.insetRight).attr("y1",i?t=>i[t]:(h+f-y)/2).attr("y2",i?t=>i[t]:(h+f-y)/2).call(Xt,"stroke",u&&(t=>u[t])).call(L(s)))).node()}}function rn(t,{x:e=v,y:n,y1:r,y2:i,...o}={}){return[r,i]=an(n,r,i),new en(t,{...o,x:e,y1:r,y2:i})}function on(t,{y:e=v,x:n,x1:r,x2:i,...o}={}){return[r,i]=an(n,r,i),new nn(t,{...o,y:e,x1:r,x2:i})}function an(t,e,n){if(void 0===t){if(void 0===e){if(void 0!==n)return[0,n]}else if(void 0===n)return[0,e]}else{if(void 0===e)return void 0===n?[0,t]:[t,n];if(void 0===n)return[t,e]}return[e,n]}class sn extends p{constructor(t,{x:e,y:n,text:r=b,title:i,fill:o,fillOpacity:a,textAnchor:s,fontFamily:u,fontSize:c,fontStyle:l,fontVariant:f,fontWeight:h,dx:d,dy:p="0.32em",rotate:y,...g}={}){const[m,v]=I(o,"currentColor"),[w,x]=B(a),[M,S]=B(y,0),[A,T]=B(c);super(t,[{name:"x",value:e,scale:"x",optional:!0},{name:"y",value:n,scale:"y",optional:!0},{name:"fontSize",value:K(A),optional:!0},{name:"rotate",value:K(M),optional:!0},{name:"text",value:r},{name:"title",value:i,optional:!0},{name:"fill",value:m,scale:"color",optional:!0},{name:"fillOpacity",value:w,scale:"opacity",optional:!0}],g),Ht(this,{fill:v,fillOpacity:x,...g}),this.rotate=S,this.textAnchor=_(s),this.fontFamily=_(u),this.fontSize=_(T),this.fontStyle=_(l),this.fontVariant=_(f),this.fontWeight=_(h),this.dx=_(d),this.dy=_(p)}render(t,{x:e,y:n},{x:i,y:o,rotate:a,text:s,title:l,fill:f,fillOpacity:h,fontSize:d},{width:p,height:y,marginTop:g,marginRight:m,marginBottom:b,marginLeft:v}){const{rotate:_}=this,w=c(t,i,o,f,h,a).filter((t=>u(s[t]))),x=(v+p-m)/2,M=(g+y-b)/2;return(0,r.create)("svg:g").call(fn,this).call(Zt,e,n,.5,.5).call((t=>t.selectAll().data(w).join("text").call(hn,this).call(a?t=>t.attr("transform",i&&o?t=>`translate(${i[t]},${o[t]}) rotate(${a[t]})`:i?t=>`translate(${i[t]},${M}) rotate(${a[t]})`:o?t=>`translate(${x},${o[t]}) rotate(${a[t]})`:t=>`translate(${x},${M}) rotate(${a[t]})`):_?t=>t.attr("transform",i&&o?t=>`translate(${i[t]},${o[t]}) rotate(${_})`:i?t=>`translate(${i[t]},${M}) rotate(${_})`:o?t=>`translate(${x},${o[t]}) rotate(${_})`:`translate(${x},${M}) rotate(${_})`):t=>t.attr("x",i?t=>i[t]:x).attr("y",o?t=>o[t]:M)).call(Xt,"fill",f&&(t=>f[t])).call(Xt,"fill-opacity",h&&(t=>h[t])).call(Xt,"font-size",d&&(t=>d[t])).text((t=>s[t])).call(L(l)))).node()}}function un(t,{x:e,y:n,...r}={}){return[e,n]=D(e,n),new sn(t,{...r,x:e,y:n})}function cn(t,{x:e=v,...n}={}){return new sn(t,{...n,x:e})}function ln(t,{y:e=v,...n}={}){return new sn(t,{...n,y:e})}function fn(t,e){Wt(t,e),Xt(t,"text-anchor",e.textAnchor),Kt(t,"font-family",e.fontFamily),Kt(t,"font-size",e.fontSize),Kt(t,"font-style",e.fontStyle),Kt(t,"font-variant",e.fontVariant),Kt(t,"font-weight",e.fontWeight)}function hn(t,e){Gt(t,e),Xt(t,"dx",e.dx),Xt(t,"dy",e.dy)}class dn extends p{constructor(t,e,{title:n,stroke:r,strokeOpacity:i,...o}={}){const[a,s]=I(r,"currentColor"),[u,c]=B(i);super(t,[...e,{name:"title",value:n,optional:!0},{name:"stroke",value:a,scale:"color",optional:!0},{name:"strokeOpacity",value:u,scale:"opacity",optional:!0}],o),Ht(this,{stroke:s,strokeOpacity:c,...o})}render(t,e,n,i){const{x:o,y:a,title:s,stroke:u,strokeOpacity:l}=n,f=c(t,o,a,u,l);return(0,r.create)("svg:g").call(Wt,this).call(this._transform,e).call((t=>t.selectAll("line").data(f).join("line").call(Gt,this).attr("x1",this._x1(e,n,i)).attr("x2",this._x2(e,n,i)).attr("y1",this._y1(e,n,i)).attr("y2",this._y2(e,n,i)).call(Xt,"stroke",u&&(t=>u[t])).call(Xt,"stroke-opacity",l&&(t=>l[t])).call(L(s)))).node()}}class pn extends dn{constructor(t,{x:e,y:n,inset:r=0,insetTop:i=r,insetBottom:o=r,...a}={}){super(t,[{name:"x",value:e,scale:"x"},{name:"y",value:n,scale:"y",type:"band",optional:!0}],a),this.insetTop=w(i),this.insetBottom=w(o)}_transform(t,{x:e}){t.call(Zt,e,null,.5,0)}_x1(t,{x:e}){return t=>e[t]}_x2(t,{x:e}){return t=>e[t]}_y1(t,{y:e},{marginTop:n}){return e?t=>e[t]+this.insetTop:n+this.insetTop}_y2({y:t},{y:e},{height:n,marginBottom:r}){return e?n=>e[n]+t.bandwidth()-this.insetBottom:n-r-this.insetBottom}}class yn extends dn{constructor(t,{x:e,y:n,inset:r=0,insetRight:i=r,insetLeft:o=r,...a}={}){super(t,[{name:"y",value:n,scale:"y"},{name:"x",value:e,scale:"x",type:"band",optional:!0}],a),this.insetRight=w(i),this.insetLeft=w(o)}_transform(t,{y:e}){t.call(Zt,null,e,0,.5)}_x1(t,{x:e},{marginLeft:n}){return e?t=>e[t]+this.insetLeft:n+this.insetLeft}_x2({x:t},{x:e},{width:n,marginRight:r}){return e?n=>e[n]+t.bandwidth()-this.insetRight:n-r-this.insetRight}_y1(t,{y:e}){return t=>e[t]}_y2(t,{y:e}){return t=>e[t]}}function gn(t,{x:e=v,...n}={}){return new pn(t,{...n,x:e})}function mn(t,{y:e=v,...n}={}){return new yn(t,{...n,y:e})}function bn(t,e){return xn(null,null,t,e)}function vn(t,e={}){const{x:n=v}=e;if(null==n)throw new Error("missing channel: x");return xn(n,null,t,e)}function _n(t,e={}){const{y:n=v}=e;if(null==n)throw new Error("missing channel: y");return xn(null,n,t,e)}function wn(t,e={}){let{x:n,y:r}=e;if([n,r]=D(n,r),null==n)throw new Error("missing channel: x");if(null==r)throw new Error("missing channel: y");return xn(n,r,t,e)}function xn(t,e,{data:n=Bn,...r}={},i={}){n=An(n,v),r=Mn(r,i);const[o,a]=V(t),[s,u]=V(e),{z:c,fill:l,stroke:f,...h}=i,[d,p]=V(c),[y]=I(l),[m]=I(f),[b=l,_]=V(y),[w=f,x]=V(m);return{..."z"in i&&{z:d||c},..."fill"in i&&{fill:b||l},..."stroke"in i&&{stroke:w||f},...$(h,((i,o)=>{const s=g(i,t),l=g(i,e),f=g(i,c),h=g(i,y),d=g(i,m),b=Tn(r,f,h,d),v=[],w=[],M=s&&a([]),S=l&&u([]),A=f&&p([]),T=h&&_([]),I=d&&x([]);let B=0;for(const t of r)t.initialize(i);for(const t of o){const e=[];for(const n of r)n.scope("facet",t);for(const[,o]of Sn(t,b))for(const[t,a]of Sn(o,l))for(const[o,u]of Sn(a,s)){e.push(B++),w.push(n.reduce(u,i)),s&&M.push(o),l&&S.push(t),f&&A.push(f[u[0]]),h&&T.push(h[u[0]]),d&&I.push(d[u[0]]);for(const t of r)t.reduce(u)}v.push(e)}return{data:w,facets:v}})),...o&&{x:o},...s&&{y:s},...Object.fromEntries(r.map((({name:t,output:e})=>[t,e])))}}function Mn(t,e){return Object.entries(t).map((([t,n])=>{const r=z(t,e),i=An(n,r),[o,a]=j(P(r,i.label));let s,u,c;return{name:t,output:o,initialize(t){s=void 0===r?t:g(t,r),u=a([]),"data"===i.scope&&(c=i.reduce(U(t),s))},scope(t,e){i.scope===t&&(c=i.reduce(e,s))},reduce(t){u.push(i.reduce(t,s,c))}}}))}function Sn(t,e){return e?(0,r.sort)((0,r.group)(t,(t=>e[t])),M):[[,t]]}function An(t,e){if(t&&"function"===typeof t.reduce)return t;if("function"===typeof t)return n=t,{reduce:(t,e)=>n(R(e,t))};var n;switch((t+"").toLowerCase()){case"first":return En;case"last":return kn;case"count":return On;case"sum":return null==e?On:Nn;case"proportion":return Dn(e,"data");case"proportion-facet":return Dn(e,"facet");case"deviation":return In(r.deviation);case"min":return In(r.min);case"max":return In(r.max);case"mean":return In(r.mean);case"median":return In(r.median);case"variance":return In(r.variance)}throw new Error("invalid reduce")}function Tn(t,e,n,r){return function(...t){for(const e of t)if(void 0!==e)return e}(t.some((t=>"z"===t.name))?void 0:e,t.some((t=>"fill"===t.name))?void 0:n,t.some((t=>"stroke"===t.name))?void 0:r)}function In(t){return{reduce:(e,n)=>t(e,(t=>n[t]))}}const Bn={reduce:(t,e)=>R(e,t)},En={reduce:(t,e)=>e[t[0]]},kn={reduce:(t,e)=>e[t[t.length-1]]},On={label:"Frequency",reduce:t=>t.length},Nn=In(r.sum);function Dn(t,e){return null==t?{scope:e,label:"Frequency",reduce:(t,e,n=1)=>t.length/n}:{scope:e,reduce:(t,e,n=1)=>(0,r.sum)(t,(t=>e[t]))/n}}function Fn(t,{inset:e,insetLeft:n,insetRight:r,...i}={}){let{x:o,y:a}=i;return o=Rn(o,i,v),[n,r]=Hn(e,n,r),Un(o,null,null,a,t,{inset:e,insetLeft:n,insetRight:r,...i})}function Ln(t,{inset:e,insetTop:n,insetBottom:r,...i}={}){let{x:o,y:a}=i;return a=Rn(a,i,v),[n,r]=Hn(e,n,r),Un(null,a,o,null,t,{inset:e,insetTop:n,insetBottom:r,...i})}function Cn(t,{inset:e,insetTop:n,insetRight:r,insetBottom:i,insetLeft:o,...a}={}){const{x:s,y:u}=function(t={}){let{x:e,y:n}=t;return e=Rn(e,t),n=Rn(n,t),[e.value,n.value]=D(e.value,n.value),{x:e,y:n}}(a);return[n,i]=Hn(e,n,i),[o,r]=Hn(e,o,r),Un(s,u,null,null,t,{inset:e,insetTop:n,insetRight:r,insetBottom:i,insetLeft:o,...a})}function Un(t,e,n,r,{data:i=Bn,...o}={},a={}){t=zn(t),e=zn(e),i=An(i,v),o=Mn(o,a),null!=n&&Pn(o,"x","x1","x2")&&(n=null),null!=r&&Pn(o,"y","y1","y2")&&(r=null);const[s,u]=V(t),[c,l]=V(t),[f,h]=V(e),[d,p]=V(e),[y,m]=null!=n?[n,"x"]:null!=r?[r,"y"]:[],[b,_]=V(y),{x:w,y:x,z:M,fill:S,stroke:A,...T}=a,[B,E]=V(M),[k]=I(S),[O]=I(A),[N=S,D]=V(k),[F=A,L]=V(O);return{..."z"in a&&{z:B||M},..."fill"in a&&{fill:N||S},..."stroke"in a&&{stroke:F||A},...$(T,((n,r)=>{const a=g(n,y),s=g(n,M),c=g(n,k),f=g(n,O),d=Tn(o,s,c,f),m=[],b=[],v=a&&_([]),w=s&&E([]),x=c&&D([]),S=f&&L([]),A=t?t(n):[[,,t=>t]],T=e?e(n):[[,,t=>t]],I=t&&u([]),B=t&&l([]),N=e&&h([]),F=e&&p([]);let C=0;for(const t of o)t.initialize(n);for(const t of r){const e=[];for(const n of o)n.scope("facet",t);for(const[,r]of Sn(t,d))for(const[t,u]of Sn(r,a))for(const[r,l,h]of A){const d=h(u);if(0!==d.length)for(const[u,h,p]of T){const y=p(d);if(0!==y.length){e.push(C++),b.push(i.reduce(y,n)),a&&v.push(t),s&&w.push(s[y[0]]),c&&x.push(c[y[0]]),f&&S.push(f[y[0]]),I&&(I.push(r),B.push(l)),N&&(N.push(u),F.push(h));for(const t of o)t.reduce(y)}}}m.push(e)}return{data:b,facets:m}})),...s?{x1:s,x2:c,x:Y(s,c)}:{x:w},...f?{y1:f,y2:d,y:Y(f,d)}:{y:x},...b&&{[m]:b},...Object.fromEntries(o.map((({name:t,output:e})=>[t,e])))}}function Rn(t,{cumulative:e,domain:n,thresholds:i}={},o){return void 0===(t={...q(t)}).domain&&(t.domain=n),void 0===t.cumulative&&(t.cumulative=e),void 0===t.thresholds&&(t.thresholds=i),void 0===t.value&&(t.value=o),t.thresholds=function(t=r.thresholdScott){if("string"===typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return r.thresholdFreedmanDiaconis;case"scott":return r.thresholdScott;case"sturges":return r.thresholdSturges}throw new Error("invalid thresholds")}return t}(t.thresholds),t}function zn(t){if(null==t)return;const{value:e,cumulative:n,domain:i=r.extent,thresholds:o}=t,a=t=>{const a=g(t,e),s=(0,r.bin)().value((t=>a[t]));if(Q(a)){let[t,e]="function"===typeof i?i(a):i,n="function"!==typeof o||jn(o)?o:o(a,t,e);"number"===typeof n&&(n=(0,r.utcTickInterval)(t,e,n)),jn(n)&&(i===r.extent&&(t=n.floor(t),e=n.ceil(new Date(+e+1))),n=n.range(t,e)),s.thresholds(n).domain([t,e])}else s.thresholds(o).domain(i);let u=s(U(t)).map(Vn);return n&&(u=(n<0?u.reverse():u).map($n)),u.filter(qn).map(Yn)};return a.label=P(e),a}function jn(t){return!!t&&"function"===typeof t.range}function Pn(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function Vn(t){return[t,new Set(t)]}function $n([t],e,n){return[t,{get size(){for(let t=0;t<=e;++t)if(n[t][1].size)return 1;return 0},has(t){for(let r=0;r<=e;++r)if(n[r][1].has(t))return!0;return!1}}]}function Yn([{x0:t,x1:e},n]){return[t,e,t=>t.filter(n.has,n)]}function qn([,{size:t}]){return t>0}function Hn(t,e,n){return void 0===t&&void 0===e&&void 0===n?qt?[1,0]:[.5,.5]:[e,n]}function Wn(t,e={}){return Xn(Object.fromEntries(["x","x1","x2"].filter((t=>null!=e[t])).map((e=>[e,t]))),e)}function Gn(t,e={}){return Xn(Object.fromEntries(["y","y1","y2"].filter((t=>null!=e[t])).map((e=>[e,t]))),e)}function Xn(t={},e={}){const n=F(e),i=Object.entries(t).map((([t,n])=>{const r=z(t,e);if(null==r)throw new Error(`missing channel: ${t}`);const[i,o]=j(r);return{key:t,input:r,output:i,setOutput:o,map:Kn(n)}}));return{...$(e,((t,e)=>{const o=g(t,n),a=i.map((({input:e})=>g(t,e))),s=i.map((({setOutput:e})=>e(new Array(t.length))));for(const n of e)for(const t of o?(0,r.group)(n,(t=>o[t])).values():[n])i.forEach((({map:e},n)=>e.map(t,a[n],s[n])));return{data:t,facets:e}})),...Object.fromEntries(i.map((({key:t,output:e})=>[t,e])))}}function Kn(t){if(t&&"function"===typeof t.map)return t;if("function"===typeof t)return e=t,{map(t,n,r){const i=e(R(n,t));if(i.length!==t.length)throw new Error("mismatched length");for(let e=0,o=t.length;e<o;++e)r[t[e]]=i[e]}};var e;switch((t+"").toLowerCase()){case"cumsum":return Zn}throw new Error("invalid map")}const Zn={map(t,e,n){let r=0;for(const i of t)n[i]=r+=e[i]}};function Jn({basis:t,...e}={}){return Wn(tr(t),e)}function Qn({basis:t,...e}={}){return Gn(tr(t),e)}function tr(t){if(void 0===t)return rr;if("function"===typeof t)return er(((e,n)=>t(R(n,e))));switch((t+"").toLowerCase()){case"first":return rr;case"last":return ir;case"mean":return or;case"median":return ar;case"sum":return sr;case"extent":return nr}throw new Error("invalid basis")}function er(t){return{map(e,n,r){const i=+t(e,n);for(const t of e)r[t]=null===n[t]?NaN:n[t]/i}}}const nr={map(t,e,n){const[i,o]=(0,r.extent)(t,(t=>e[t])),a=o-i;for(const r of t)n[r]=null===e[r]?NaN:(e[r]-i)/a}},rr=er(((t,e)=>{for(let n=0;n<t.length;++n){const r=e[t[n]];if(a(r))return r}})),ir=er(((t,e)=>{for(let n=t.length-1;n>=0;--n){const r=e[t[n]];if(a(r))return r}})),or=er(((t,e)=>(0,r.mean)(t,(t=>e[t])))),ar=er(((t,e)=>(0,r.median)(t,(t=>e[t])))),sr=er(((t,e)=>(0,r.sum)(t,(t=>e[t]))));function ur({k:t,reduce:e,shift:n,...r}={}){return Wn(lr(t,e,n),r)}function cr({k:t,reduce:e,shift:n,...r}={}){return Gn(lr(t,e,n),r)}function lr(t,e,n){if(!((t=Math.floor(t))>0))throw new Error("invalid k");return function(t="mean"){if("string"===typeof t)switch(t.toLowerCase()){case"deviation":return fr(r.deviation);case"max":return fr(r.max);case"mean":return dr;case"median":return fr(r.median);case"min":return fr(r.min);case"sum":return hr;case"variance":return fr(r.variance);case"difference":return pr;case"ratio":return yr}if("function"!==typeof t)throw new Error("invalid reduce");return fr(t)}(e)(t,function(t="centered",e){switch((t+"").toLowerCase()){case"centered":return e-1>>1;case"leading":return 0;case"trailing":return e-1}throw new Error("invalid shift")}(n,t))}function fr(t){return(e,n)=>({map(r,i,o){const a=Float64Array.from(r,(t=>null===i[t]?NaN:i[t]));let s=0;for(let t=0;t<e-1;++t)isNaN(a[t])&&++s;for(let u=0,c=r.length-e+1;u<c;++u)isNaN(a[u+e-1])&&++s,o[r[u+n]]=0===s?t(a.subarray(u,u+e)):NaN,isNaN(a[u])&&--s}})}function hr(t,e){return{map(n,r,i){let o=0,a=0;for(let e=0;e<t-1;++e){const t=r[n[e]];null===t||isNaN(t)?++o:a+=+t}for(let s=0,u=n.length-t+1;s<u;++s){const u=r[n[s]],c=r[n[s+t-1]];null===c||isNaN(c)?++o:a+=+c,i[n[s+e]]=0===o?a:NaN,null===u||isNaN(u)?--o:a-=+u}}}}function dr(t,e){const n=hr(t,e);return{map(r,i,o){n.map(r,i,o);for(let n=0,a=r.length-t+1;n<a;++n)o[r[n+e]]/=t}}}function pr(t,e){return{map(n,r,i){for(let o=0,a=n.length-t;o<a;++o){const a=r[n[o]],s=r[n[o+t-1]];i[n[o+e]]=null===a||null===s?NaN:s-a}}}}function yr(t,e){return{map(n,r,i){for(let o=0,a=n.length-t;o<a;++o){const a=r[n[o]],s=r[n[o+t-1]];i[n[o+e]]=null===a||null===s?NaN:s/a}}}}function gr(t){return Tr(xr,void 0,t)}function mr(t){return Tr(Mr,void 0,t)}function br(t={}){return Tr(Sr,t.x,t)}function vr(t={}){return Tr(Sr,t.y,t)}function _r(t={}){return Tr(Ar,t.x,t)}function wr(t={}){return Tr(Ar,t.y,t)}function*xr(t){yield t[0]}function*Mr(t){yield t[t.length-1]}function*Sr(t,e){yield(0,r.least)(t,(t=>e[t]))}function*Ar(t,e){yield(0,r.greatest)(t,(t=>e[t]))}function Tr(t,e,n){const i=F(n);return $(n,((n,o)=>{const a=g(n,i),s=g(n,e),u=[];for(const e of o){const n=[];for(const i of a?(0,r.group)(e,(t=>a[t])).values():[e])for(const e of t(i,s))n.push(e);u.push(n)}return{data:n,facets:u}}))}function Ir(t="en-US",e="short"){const n=new Intl.DateTimeFormat(t,{timeZone:"UTC",month:e});return t=>{if(null!=t&&!isNaN(t=new Date(Date.UTC(2e3,+t))))return n.format(t)}}function Br(t="en-US",e="short"){const n=new Intl.DateTimeFormat(t,{timeZone:"UTC",weekday:e});return t=>{if(null!=t&&!isNaN(t=new Date(Date.UTC(2001,0,+t))))return n.format(t)}}},3376:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,{compareArrayLike:function(){return Tn},joinUint8Arrays:function(){return Ye},memcpy:function(){return $e},rebaseValueOffsets:function(){return An},toArrayBufferView:function(){return qe},toArrayBufferViewAsyncIterator:function(){return yn},toArrayBufferViewIterator:function(){return on},toBigInt64Array:function(){return Xe},toBigUint64Array:function(){return Qe},toFloat32Array:function(){return tn},toFloat32ArrayAsyncIterator:function(){return xn},toFloat32ArrayIterator:function(){return hn},toFloat64Array:function(){return en},toFloat64ArrayAsyncIterator:function(){return Mn},toFloat64ArrayIterator:function(){return dn},toInt16Array:function(){return We},toInt16ArrayAsyncIterator:function(){return mn},toInt16ArrayIterator:function(){return sn},toInt32Array:function(){return Ge},toInt32ArrayAsyncIterator:function(){return bn},toInt32ArrayIterator:function(){return un},toInt8Array:function(){return He},toInt8ArrayAsyncIterator:function(){return gn},toInt8ArrayIterator:function(){return an},toUint16Array:function(){return Ze},toUint16ArrayAsyncIterator:function(){return _n},toUint16ArrayIterator:function(){return ln},toUint32Array:function(){return Je},toUint32ArrayAsyncIterator:function(){return wn},toUint32ArrayIterator:function(){return fn},toUint8Array:function(){return Ke},toUint8ArrayAsyncIterator:function(){return vn},toUint8ArrayIterator:function(){return cn},toUint8ClampedArray:function(){return nn},toUint8ClampedArrayAsyncIterator:function(){return Sn},toUint8ClampedArrayIterator:function(){return pn}});var i={};n.r(i),n.d(i,{getBit:function(){return qn},getBool:function(){return Yn},iterateBits:function(){return Xn},packBools:function(){return Gn},popcnt_array:function(){return Zn},popcnt_bit_range:function(){return Kn},popcnt_uint32:function(){return Jn},setBool:function(){return Hn},truncateBitmap:function(){return Wn}});var o={};n.r(o),n.d(o,{float64ToUint16:function(){return xi},uint16ToFloat64:function(){return wi}});var a={};n.r(a),n.d(a,{BN:function(){return Ci},bignumToBigInt:function(){return Fi},bignumToString:function(){return Di},isArrowBigNumSymbol:function(){return Ii}});var s={};n.r(s),n.d(s,{clampIndex:function(){return wo},clampRange:function(){return Mo},createElementComparator:function(){return To}});var u={};n.r(u),n.d(u,{BaseInt64:function(){return Pa},Int128:function(){return Ya},Int64:function(){return $a},Uint64:function(){return Va}});var c=Array.isArray;function l(t){return null!=t?c(t)?t:[t]:[]}function f(t){return t<0?`count() + ${t}`:t}class h{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,e){return this.__derive(this,t,e)}filter(t){return this.__filter(this,t)}slice(t,e){return this.filter(function(t=0,e=1/0){return`${f(t)} < row_number() && row_number() <= ${f(e)}`}(t,e)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,e){return this.__relocate(this,l(t),e)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,e){return this.__sample(this,t,e)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,e){return this.__impute(this,t,e)}fold(t,e){return this.__fold(this,t,e)}pivot(t,e,n){return this.__pivot(this,t,e,n)}spread(t,e){return this.__spread(this,t,e)}unroll(t,e){return this.__unroll(this,t,e)}lookup(t,e,...n){return this.__lookup(this,t,e,n.flat())}join(t,e,n,r){return this.__join(this,t,e,n,r)}join_left(t,e,n,r){const i={...r,left:!0,right:!1};return this.__join(this,t,e,n,i)}join_right(t,e,n,r){const i={...r,left:!1,right:!0};return this.__join(this,t,e,n,i)}join_full(t,e,n,r){const i={...r,left:!0,right:!0};return this.__join(this,t,e,n,i)}cross(t,e,n){return this.__cross(this,t,e,n)}semijoin(t,e){return this.__semijoin(this,t,e)}antijoin(t,e){return this.__antijoin(this,t,e)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function d(t){throw Error(t)}function p(t){return"number"===typeof t}function y(t){return"function"===typeof t}function g(t,e){const n=Array(t);if(y(e))for(let r=0;r<t;++r)n[r]=e(r);else n.fill(e);return n}class m extends h{constructor(t,e,n,r,i,o,a){super(a),this._names=Object.freeze(t),this._data=n,this._total=e,this._nrows=r?r.count():e,this._mask=e!==this._nrows&&r||null,this._group=i||null,this._order=o||null}create(t){d("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(1!==this.numRows()?"s":"");return`Table: ${this.numCols()+" col"+(1!==this.numCols()?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,e){return this.array(t,e)}array(t,e){d("Not implemented")}*values(t){const e=this.getter(t),n=this.numRows();for(let r=0;r<n;++r)yield e(r)}get(t,e=0){d("Not implemented")}getter(t){d("Not implemented")}objects(t){d("Not implemented")}object(t){d("Not implemented")}[Symbol.iterator](){d("Not implemented")}print(t={}){p(t)?t={limit:t}:null==t.limit&&(t.limit=10);const e=this.objects({...t,grouped:!1}),n=`${this[Symbol.toStringTag]}. Showing ${e.length} rows.`;console.log(n),console.table(e)}indices(t=!0){if(this._index)return this._index;const e=this.numRows(),n=new Uint32Array(e),r=this.isOrdered(),i=this.mask();let o=-1;if(i)for(let a=i.next(0);a>=0;a=i.next(a+1))n[++o]=a;else for(let a=0;a<e;++a)n[++o]=a;if(t&&r){const t=this._order,e=this._data;n.sort(((n,r)=>t(n,r,e)))}return!t&&r||(this._index=n),n}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:e,size:n}=this._group,r=g(n,(()=>[])),i=this._index,o=this.mask(),a=this.numRows();if(i&&this.isOrdered())for(let s,u=0;u<a;++u)s=i[u],r[e[s]].push(s);else if(o)for(let s=o.next(0);s>=0;s=o.next(s+1))r[e[s]].push(s);else for(let s=0;s<a;++s)r[e[s]].push(s);if(t&&!i&&this.isOrdered()){const t=this._order,e=this._data;for(let i=0;i<n;++i)r[i].sort(((n,r)=>t(n,r,e)))}return!t&&this.isOrdered()||(this._partitions=r),r}scan(t,e,n=1/0,r=0){const i=this._mask,o=this._nrows,a=this._data;let s=r||0;if(s>o)return;const u=Math.min(o,s+n),c=()=>s=this._total;if(e&&this.isOrdered()||i&&this._index){const e=this.indices(),n=this._data;for(;s<u;++s)t(e[s],n,c)}else if(i){let e=u-s+1;for(s=i.nth(s);--e&&s>-1;s=i.next(s+1))t(s,a,c)}else for(;s<u;++s)t(s,a,c)}slice(t=0,e=1/0){if(this.isGrouped())return super.slice(t,e);const n=[],r=this.numRows();return t=Math.max(0,t+(t<0?r:0)),e=Math.min(r,Math.max(0,e+(e<0?r:0))),this.scan((t=>n.push(t)),!0,e-t,t),this.reify(n)}reduce(t){return this.__reduce(this,t)}}class b{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}}let v=function(t){return t&&y(t.get)?t:new b(t)};function _(t){return t instanceof Date}function w(t){return t===Object(t)}function x(t){return t instanceof RegExp}function M(t){return"string"===typeof t}function S(t,e){const n=e=>d(`Illegal argument type: ${e||typeof t}`);return t instanceof Map?A(t.entries(),e):_(t)?n("Date"):x(t)?n("RegExp"):M(t)?n():c(t)?function(t,e){const n=t.length,r={},i=t=>r[t]=Array(n);if(n){const r=(e=e||Object.keys(t[0])).map(i),o=r.length;for(let i=0;i<n;++i){const n=t[i];for(let t=0;t<o;++t)r[t][i]=n[e[t]]}}else e&&e.forEach(i);return r}(t,e):y(t[Symbol.iterator])?function(t,e){const n={},r=t=>n[t]=[];let i,o;for(const a of t){i||(i=(e=e||Object.keys(a)).map(r),o=i.length);for(let t=0;t<o;++t)i[t].push(a[e[t]])}!i&&e&&e.forEach(r);return n}(t,e):w(t)?A(Object.entries(t),e):n()}function A(t,e=["key","value"]){const n=[],r=[];for(const[o,a]of t)n.push(o),r.push(a);const i={};return e[0]&&(i[e[0]]=n),e[1]&&(i[e[1]]=r),i}const{hasOwnProperty:T}=Object.prototype;function I(t,e){return T.call(t,e)}function B(t){return t?new E({...t.data()},t.columnNames()):new E}class E{constructor(t,e){this.data=t||{},this.names=e||[]}add(t,e){return this.has(t)||this.names.push(t+""),this.data[t]=e}has(t){return I(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}var k=void 0;const O=Object.getPrototypeOf(Int8Array);function N(t){return t instanceof O}function D(t){return c(t)||N(t)}function F(t){return null!=t&&t===t}const L=t=>D(t)||M(t);var C={compact:t=>D(t)?t.filter((t=>F(t))):t,concat:(...t)=>[].concat(...t),includes:(t,e,n)=>!!L(t)&&t.includes(e,n),indexof:(t,e)=>L(t)?t.indexOf(e):-1,join:(t,e)=>D(t)?t.join(e):k,lastindexof:(t,e)=>L(t)?t.lastIndexOf(e):-1,length:t=>L(t)?t.length:0,pluck:(t,e)=>D(t)?t.map((t=>F(t)?t[e]:k)):k,reverse:t=>D(t)?t.slice().reverse():M(t)?t.split("").reverse().join(""):k,slice:(t,e,n)=>L(t)?t.slice(e,n):k};function U(t,e,n="0"){const r=t+"",i=r.length;return i<e?Array(e-i+1).join(n)+r:r}const R=t=>(t<10?"0":"")+t;function z(t,e,n,r,i,o,a,s,u){const c=s?"Z":"";return(t=>t<0?"-"+U(-t,6):t>9999?"+"+U(t,6):U(t,4))(t)+"-"+R(e+1)+"-"+R(n)+(!u||a?"T"+R(r)+":"+R(i)+":"+R(o)+"."+U(a,3)+c:o?"T"+R(r)+":"+R(i)+":"+R(o)+c:i||r||!s?"T"+R(r)+":"+R(i)+c:"")}function j(t,e){return isNaN(t)?"Invalid Date":z(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),!1,e)}function P(t,e){return isNaN(t)?"Invalid Date":z(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds(),!0,e)}const V=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function $(t){return t.match(V)}const Y=864e5,q=6048e5,H=new Date,W=new Date,G=t=>(H.setTime("string"===typeof t?function(t,e=Date.parse){return $(t)?e(t):t}(t):t),H);var X={format_date:(t,e)=>j(G(t),!e),format_utcdate:(t,e)=>P(G(t),!e),timestamp:t=>+G(t),year:t=>G(t).getFullYear(),quarter:t=>Math.floor(G(t).getMonth()/3),month:t=>G(t).getMonth(),date:t=>G(t).getDate(),dayofweek:t=>G(t).getDay(),hours:t=>G(t).getHours(),minutes:t=>G(t).getMinutes(),seconds:t=>G(t).getSeconds(),milliseconds:t=>G(t).getMilliseconds(),utcyear:t=>G(t).getUTCFullYear(),utcquarter:t=>Math.floor(G(t).getUTCMonth()/3),utcmonth:t=>G(t).getUTCMonth(),utcdate:t=>G(t).getUTCDate(),utcdayofweek:t=>G(t).getUTCDay(),utchours:t=>G(t).getUTCHours(),utcminutes:t=>G(t).getUTCMinutes(),utcseconds:t=>G(t).getUTCSeconds(),utcmilliseconds:t=>G(t).getUTCMilliseconds(),datetime:function(t,e,n,r,i,o,a){return arguments.length?new Date(t,e||0,null==n?1:n,r||0,i||0,o||0,a||0):new Date(Date.now())},dayofyear:function(t){W.setTime(+t),W.setHours(0,0,0,0),H.setTime(+W),H.setMonth(0),H.setDate(1);const e=6e4*(W.getTimezoneOffset()-H.getTimezoneOffset());return Math.floor(1+(W-H-e)/Y)},week:function(t,e){const n=e||0;W.setTime(+t),W.setDate(W.getDate()-(W.getDay()+7-n)%7),W.setHours(0,0,0,0),H.setTime(+t),H.setMonth(0),H.setDate(1),H.setDate(1-(H.getDay()+7-n)%7),H.setHours(0,0,0,0);const r=6e4*(W.getTimezoneOffset()-H.getTimezoneOffset());return Math.floor((W-H+1-r)/q)},utcdatetime:function(t,e,n,r,i,o,a){return arguments.length?new Date(Date.UTC(t,e||0,null==n?1:n,r||0,i||0,o||0,a||0)):new Date(Date.now())},utcdayofyear:function(t){W.setTime(+t),W.setUTCHours(0,0,0,0);const e=Date.UTC(W.getUTCFullYear(),0,1);return Math.floor(1+(W-e)/Y)},utcweek:function(t,e){const n=e||0;return W.setTime(+t),W.setUTCDate(W.getUTCDate()-(W.getUTCDay()+7-n)%7),W.setUTCHours(0,0,0,0),H.setTime(+t),H.setUTCMonth(0),H.setUTCDate(1),H.setUTCDate(1-(H.getUTCDay()+7-n)%7),H.setUTCHours(0,0,0,0),Math.floor((W-H+1)/q)},now:Date.now};function K(t,e){return null!=t&&null!=e&&t===t&&e===e&&(t===e||(_(t)||_(e)?+t===+e:x(t)&&x(e)?t+""===e+"":!(!w(t)||!w(e))&&function(t,e){if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if(t.length||e.length)return Z(t,e);const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;if(n.sort(),r.sort(),!Z(n,r,((t,e)=>t===e)))return!1;const i=n.length;for(let o=0;o<i;++o){const r=n[o];if(!K(t[r],e[r]))return!1}return!0}(t,e)))}function Z(t,e,n=K){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;++i)if(!n(t[i],e[i]))return!1;return!0}var J={parse_json:t=>JSON.parse(t),to_json:t=>JSON.stringify(t)};let Q=Math.random;function tt(){return Q()}function et(t){return t instanceof Map}function nt(t){return et(t)||function(t){return t instanceof Set}(t)}function rt(t){return Array.from(t)}var it={bin:function(t,e,n,r,i){return null==t?null:t<e?-1/0:t>n?1/0:(t=Math.max(e,Math.min(t,n)),e+r*Math.floor(1e-14+(t-e)/r+(i||0)))},equal:K,recode:function(t,e,n){if(e instanceof Map){if(e.has(t))return e.get(t)}else if(I(e,t))return e[t];return void 0!==n?n:t},sequence:function(t,e,n){let r=arguments.length;t=+t,e=+e,n=r<2?(e=t,t=0,1):r<3?1:+n,r=0|Math.max(0,Math.ceil((e-t)/n));const i=new Array(r);for(let o=0;o<r;++o)i[o]=t+o*n;return i},...C,...X,...J,...{random:tt,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:t=>180*t/Math.PI,radians:t=>Math.PI*t/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh},...{has:(t,e)=>nt(t)?t.has(e):null!=t&&I(t,e),keys:t=>et(t)?rt(t.keys()):null!=t?Object.keys(t):[],values:t=>nt(t)?rt(t.values()):null!=t?Object.values(t):[],entries:t=>nt(t)?rt(t.entries()):null!=t?Object.entries(t):[],object:t=>t?Object.fromEntries(t):k},...{parse_date:t=>null==t?t:new Date(t),parse_float:t=>null==t?t:Number.parseFloat(t),parse_int:(t,e)=>null==t?t:Number.parseInt(t,e),endswith:(t,e,n)=>null!=t&&String(t).endsWith(e,n),match:(t,e,n)=>{const r=null==t?t:String(t).match(e);return null==n||null==r?r:"number"===typeof n?r[n]:r.groups?r.groups[n]:null},normalize:(t,e)=>null==t?t:String(t).normalize(e),padend:(t,e,n)=>null==t?t:String(t).padEnd(e,n),padstart:(t,e,n)=>null==t?t:String(t).padStart(e,n),upper:t=>null==t?t:String(t).toUpperCase(),lower:t=>null==t?t:String(t).toLowerCase(),repeat:(t,e)=>null==t?t:String(t).repeat(e),replace:(t,e,n)=>null==t?t:String(t).replace(e,String(n)),substring:(t,e,n)=>null==t?t:String(t).substring(e,n),split:(t,e,n)=>null==t?[]:String(t).split(e,n),startswith:(t,e,n)=>null!=t&&String(t).startsWith(e,n),trim:t=>null==t?t:String(t).trim()}};function ot(t){return"bigint"===typeof t}function at(t){return void 0===t?t+"":ot(t)?t+"n":JSON.stringify(t)}function st(t,e=[],n=[]){return new ut(t,l(e),l(n))}class ut{constructor(t,e,n){this.name=t,this.fields=e,this.params=n}toString(){const t=[...this.fields.map((t=>`d[${at(t)}]`)),...this.params.map(at)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}}const ct=t=>st("any",t),lt=()=>st("count"),ft=t=>st("array_agg",t),ht=t=>st("array_agg_distinct",t),dt=(t,e)=>st("map_agg",[t,e]),pt=(t,e)=>st("object_agg",[t,e]),yt=(t,e)=>st("entries_agg",[t,e]);function gt(t,e,n,r){const i="map"===r||!0===r?dt:"entries"===r?yt:"object"===r?pt:d('groups option must be "map", "entries", or "object".'),{names:o}=t.groups(),a=function(t,e){t=nt(t)?t:new Set(t);let n=e,r=0;for(;t.has(n);)n=e+ ++r;return n}(t.columnNames(),"_");let s=t.select().reify(e).create({data:{[a]:n}}).rollup({[a]:ft(a)});for(let u=o.length;--u>=0;)s=s.groupby(o.slice(0,u)).rollup({[a]:i(o[u],a)});return s.get(a)}const mt="Identifier",bt="Literal",vt="MemberExpression",_t="ObjectPattern",wt="Property",xt="Column",Mt="Dictionary",St=(t,e)=>{const n=Ot[t.type];return n?n(t,e):d(`Unsupported expression construct: ${t.type}`)},At=(t,e)=>"("+St(t.left,e)+" "+t.operator+" "+St(t.right,e)+")",Tt=(t,e)=>"("+Bt(t.params,e)+")=>"+St(t.body,e),It=(t,e)=>St(t.callee,e)+"("+Bt(t.arguments,e)+")",Bt=(t,e,n=",")=>t.map((t=>St(t,e))).join(n),Et=t=>t.computed?`[${at(t.name)}]`:`.${t.name}`,kt=(t,e,n)=>{const r=t.table||"";return`data${r}${Et(t)}.${n}(${e.index}${r})`},Ot={Constant:t=>t.raw,Column:(t,e)=>kt(t,e,"get"),Dictionary:(t,e)=>kt(t,e,"key"),Function:t=>`fn.${t.name}`,Parameter:t=>`$${Et(t)}`,Op:(t,e)=>`op(${at(t.name)},${e.op||e.index})`,Literal:t=>t.raw,Identifier:t=>t.name,TemplateLiteral:(t,e)=>{const{quasis:n,expressions:r}=t,i=r.length;let o=n[0].value.raw;for(let a=0;a<i;)o+="${"+St(r[a],e)+"}"+n[++a].value.raw;return"`"+o+"`"},MemberExpression:(t,e)=>{const n=!t.computed,r=St(t.object,e),i=St(t.property,e);return r+(n?"."+i:"["+i+"]")},CallExpression:It,NewExpression:(t,e)=>"new "+It(t,e),ArrayExpression:(t,e)=>"["+Bt(t.elements,e)+"]",AssignmentExpression:At,BinaryExpression:At,LogicalExpression:At,UnaryExpression:(t,e)=>"("+t.operator+St(t.argument,e)+")",ConditionalExpression:(t,e)=>"("+St(t.test,e)+"?"+St(t.consequent,e)+":"+St(t.alternate,e)+")",ObjectExpression:(t,e)=>"({"+Bt(t.properties,e)+"})",Property:(t,e)=>{const n=St(t.key,e);return(t.computed?`[${n}]`:n)+":"+St(t.value,e)},ArrowFunctionExpression:Tt,FunctionExpression:Tt,FunctionDeclaration:Tt,ArrayPattern:(t,e)=>"["+Bt(t.elements,e)+"]",ObjectPattern:(t,e)=>"{"+Bt(t.properties,e)+"}",VariableDeclaration:(t,e)=>t.kind+" "+Bt(t.declarations,e,","),VariableDeclarator:(t,e)=>St(t.id,e)+"="+St(t.init,e),SpreadElement:(t,e)=>"..."+St(t.argument,e),BlockStatement:(t,e)=>"{"+Bt(t.body,e,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(t,e)=>St(t.expression,e),IfStatement:(t,e)=>"if ("+St(t.test,e)+")"+St(t.consequent,e)+(t.alternate?" else "+St(t.alternate,e):""),SwitchStatement:(t,e)=>"switch ("+St(t.discriminant,e)+") {"+Bt(t.cases,e,"")+"}",SwitchCase:(t,e)=>(t.test?"case "+St(t.test,e):"default")+": "+Bt(t.consequent,e,";")+";",ReturnStatement:(t,e)=>"return "+St(t.argument,e),Program:(t,e)=>St(t.body[0],e)};function Nt(t,e={index:"row"}){return St(t,e)}function Dt(t){const e=typeof t;return"string"===e?`"${t}"`:"object"===e&&t?_(t)?+t:c(t)||N(t)?`[${t.map(Dt)}]`:x(t)?t+"":function(t){let e="{",n=-1;for(const r in t)++n>0&&(e+=","),e+=`"${r}":${Dt(t[r])}`;return e+="}",e}(t):t}function Ft(t,e){const n=t.length;return 1===n?(e,n)=>Dt(t[0](e,n)):(r,i)=>{let o="";for(let a=0;a<n;++a){a>0&&(o+="|");const n=t[a](r,i);if(e&&(null==n||n!==n))return null;o+=Dt(n)}return o}}function Lt(){}function Ct(t){return t.init=t.init||Lt,t.add=t.add||Lt,t.rem=t.rem||Lt,t}function Ut(t,e){return t.product_v=!1,t.product=e}var Rt={count:{create:()=>Ct({value:t=>t.count}),param:[]},array_agg:{create:()=>Ct({init:t=>t.values=!0,value:t=>t.list.values(t.stream)}),param:[1]},object_agg:{create:()=>Ct({init:t=>t.values=!0,value:t=>Object.fromEntries(t.list.values())}),param:[2]},map_agg:{create:()=>Ct({init:t=>t.values=!0,value:t=>new Map(t.list.values())}),param:[2]},entries_agg:{create:()=>Ct({init:t=>t.values=!0,value:t=>t.list.values(t.stream)}),param:[2]},any:{create:()=>Ct({add:(t,e)=>{null==t.any&&(t.any=e)},value:t=>t.valid?t.any:k}),param:[1]},valid:{create:()=>Ct({value:t=>t.valid}),param:[1]},invalid:{create:()=>Ct({value:t=>t.count-t.valid}),param:[1]},distinct:{create:()=>({init:t=>t.distinct=function(){const t=new Map;return{count:()=>t.size,values:()=>Array.from(t.values(),(t=>t.v)),increment(e){const n=Dt(e),r=t.get(n);r?++r.n:t.set(n,{v:e,n:1})},decrement(e){const n=Dt(e),r=t.get(n);1===r.n?t.delete(n):--r.n},forEach(e){t.forEach((({v:t,n:n})=>e(t,n)))}}}(),value:t=>t.distinct.count()+(t.valid===t.count?0:1),add:(t,e)=>t.distinct.increment(e),rem:(t,e)=>t.distinct.decrement(e)}),param:[1]},array_agg_distinct:{create:()=>Ct({value:t=>t.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Ct({value:t=>{let e=k,n=0;return t.distinct.forEach(((t,r)=>{r>n&&(n=r,e=t)})),e}}),param:[1],req:["distinct"]},sum:{create:()=>({init:t=>t.sum=0,value:t=>t.valid?t.sum:k,add:(t,e)=>ot(e)?0===t.sum?t.sum=e:t.sum+=e:t.sum+=+e,rem:(t,e)=>t.sum-=e}),param:[1]},product:{create:()=>({init:t=>Ut(t,1),value:t=>t.valid?t.product_v?Ut(t,function(t,e=0,n=t.length){let r=t[e++];for(let i=e;i<n;++i)r*=t[i];return r}(t.list.values())):t.product:void 0,add:(t,e)=>ot(e)&&1===t.product?t.product=e:t.product*=e,rem:(t,e)=>0==e||e===1/0||e===-1/0?t.product_v=!0:t.product/=e}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:t=>t.mean=0,value:t=>t.valid?t.mean:k,add:(t,e)=>{t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid},rem:(t,e)=>{t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean}}),param:[1]},average:{create:()=>Ct({value:t=>t.valid?t.mean:k}),param:[1],req:["mean"]},variance:{create:()=>({init:t=>t.dev=0,value:t=>t.valid>1?t.dev/(t.valid-1):k,add:(t,e)=>t.dev+=t.mean_d*(e-t.mean),rem:(t,e)=>t.dev-=t.mean_d*(e-t.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Ct({value:t=>t.valid>1?t.dev/t.valid:k}),param:[1],req:["variance"]},stdev:{create:()=>Ct({value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid-1)):k}),param:[1],req:["variance"]},stdevp:{create:()=>Ct({value:t=>t.valid>1?Math.sqrt(t.dev/t.valid):k}),param:[1],req:["variance"]},min:{create:()=>({init:t=>t.min=k,value:t=>t.min=Number.isNaN(t.min)?t.list.min():t.min,add:(t,e)=>{(e<t.min||t.min===k)&&(t.min=e)},rem:(t,e)=>{e<=t.min&&(t.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:t=>t.max=k,value:t=>t.max=Number.isNaN(t.max)?t.list.max():t.max,add:(t,e)=>{(e>t.max||t.max===k)&&(t.max=e)},rem:(t,e)=>{e>=t.max&&(t.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:t=>Ct({value:e=>e.list.quantile(t)}),param:[1,1],req:["array_agg"]},median:{create:()=>Ct({value:t=>t.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:t=>{t.cov=t.mean_x=t.mean_y=t.dev_x=t.dev_y=0},value:t=>t.valid>1?t.cov/(t.valid-1):k,add:(t,e,n)=>{const r=e-t.mean_x,i=n-t.mean_y;t.mean_x+=r/t.valid,t.mean_y+=i/t.valid;const o=n-t.mean_y;t.dev_x+=r*(e-t.mean_x),t.dev_y+=i*o,t.cov+=r*o},rem:(t,e,n)=>{const r=e-t.mean_x,i=n-t.mean_y;t.mean_x-=t.valid?r/t.valid:t.mean_x,t.mean_y-=t.valid?i/t.valid:t.mean_y;const o=n-t.mean_y;t.dev_x-=r*(e-t.mean_x),t.dev_y-=i*o,t.cov-=r*o}}),param:[2]},covariancep:{create:()=>Ct({value:t=>t.valid>1?t.cov/t.valid:k}),param:[2],req:["covariance"]},corr:{create:()=>Ct({value:t=>t.valid>1?t.cov/(Math.sqrt(t.dev_x)*Math.sqrt(t.dev_y)):k}),param:[2],req:["covariance"]},bins:{create:(t,e,n,r)=>Ct({value:i=>function(t,e,n=15,r=!0,i=0,o){const a=Math.LN10;if(null==o){const r=Math.ceil(Math.log(n)/a),s=e-t||Math.abs(t)||1,u=[5,2];for(o=Math.max(i,Math.pow(10,Math.round(Math.log(s)/a)-r));Math.ceil(s/o)>n;)o*=10;const c=u.length;for(let t=0;t<c;++t){const e=o/u[t];e>=i&&s/e<=n&&(o=e)}}if(r){let n=Math.log(o);const r=n>=0?0:1+~~(-n/a),i=Math.pow(10,-r-1);n=Math.floor(t/o+i)*o,t=t<n?n-o:n,e=Math.ceil(e/o)*o}return[t,e===t?t+o:e,o]}(i.min,i.max,t,e,n,r)}),param:[1,4],req:["min","max"]}};const zt={create(){let t;return{init:()=>t=1,value:e=>{const n=e.index;return n&&!e.peer(n)?t=n+1:t}}},param:[]},jt={create(){let t;return{init:()=>t=0,value:e=>{const{index:n,peer:r,size:i}=e;let o=n;if(t<o){for(;o+1<i&&r(o+1);)++o;t=o}return(1+t)/i}}},param:[]};var Pt={row_number:{create:()=>({init:Lt,value:t=>t.index+1}),param:[]},rank:zt,avg_rank:{create(){let t,e;return{init:()=>(t=-1,e=1),value:n=>{const r=n.index;if(r>=t){for(e=t=r+1;n.peer(t);e+=++t);e/=t-r}return e}}},param:[]},dense_rank:{create(){let t;return{init:()=>t=1,value:e=>{const n=e.index;return n&&!e.peer(n)?++t:t}}},param:[]},percent_rank:{create(){const{init:t,value:e}=zt.create();return{init:t,value:t=>(e(t)-1)/(t.size-1)}},param:[]},cume_dist:jt,ntile:{create(t){(t=+t)>0||d("ntile num must be greater than zero.");const{init:e,value:n}=jt.create();return{init:e,value:e=>Math.ceil(t*n(e))}},param:[0,1]},lag:{create:(t,e)=>(t=+t||1,{init:Lt,value:(n,r)=>{const i=n.index-t;return i>=0?n.value(i,r):e}}),param:[1,2]},lead:{create:(t,e)=>(t=+t||1,{init:Lt,value:(n,r)=>{const i=n.index+t;return i<n.size?n.value(i,r):e}}),param:[1,2]},first_value:{create:()=>({init:Lt,value:(t,e)=>t.value(t.i0,e)}),param:[1]},last_value:{create:()=>({init:Lt,value:(t,e)=>t.value(t.i1-1,e)}),param:[1]},nth_value:{create:t=>((t=+t)>0||d("nth_value nth must be greater than zero."),{init:Lt,value:(e,n)=>{const r=e.i0+(t-1);return r<e.i1?e.value(r,n):k}}),param:[1,1]},fill_down:{create(t){let e;return{init:()=>e=t,value:(t,n)=>{const r=t.value(t.index,n);return F(r)?e=r:e}}},param:[1,1]},fill_up:{create(t){let e,n;return{init:()=>(e=t,n=-1),value:(r,i)=>r.index<=n?e:(n=function(t,e,n){for(const r=t.size;n<r;++n)if(F(t.value(n,e)))return n;return-1}(r,i,r.index))>=0?e=r.value(n,i):(n=r.size,e=t)}},param:[1,1]}};function Vt(t){return I(Rt,t)}function $t(t){return I(Pt,t)}function Yt(t){return I(it,t)||"row_object"===t}function qt(t){return Vt(t)&&Rt[t]}function Ht(t){return $t(t)&&Pt[t]}function Wt(t,e,n){return t=`"use strict"; return ${t};`,Function("fn","$",t)(e,n)}var Gt={escape:(t,e,n)=>Wt(t,e,n),expr:(t,e)=>Wt(`(row,data,op)=>${t}`,it,e),expr2:(t,e)=>Wt(`(row0,data0,row,data)=>${t}`,it,e),join:(t,e)=>Wt(`(row1,data1,row2,data2)=>${t}`,it,e),param:(t,e)=>Wt(t,it,e)};const Xt={"==":1,"!=":1,"===":1,"!==":1};function Kt(t,e,n=0,r,i){if(t.type=xt,t.name=e,t.table=n,i&&r&&y(r.keyFor)){const e=Xt[i.operator]?i.left===t?i.right:i.left:i.callee&&"equal"===i.callee.name?i.arguments[i.arguments[0]===t?1:0]:null;e&&e.type===bt&&function(t,e,n,r){r<0?(t.type=bt,t.value=!1,t.raw="false"):(e.type=Mt,n.value=r,n.raw=r+"")}(i,t,e,r.keyFor(e.value))}return t}function Zt(t){return c(t)?t:et(t)?t.entries():t?Object.entries(t):[]}const Jt="row_object";function Qt(t,e){t.type="ObjectExpression";const n=t.properties=[];for(const r of Zt(e)){const[t,e]=c(r)?r:[r,r];n.push({type:wt,key:{type:bt,raw:at(e)},value:Kt({computed:!0},t)})}return t}function te(t){return Nt(Qt({},t))}function ee(t){return Gt.expr(te(t))}var ne={};function re(t,e,n){return e<=t&&t<=n}function ie(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}ne.Offset,ne.Table,ne.SIZEOF_SHORT=2,ne.SIZEOF_INT=4,ne.FILE_IDENTIFIER_LENGTH=4,ne.Encoding={UTF8_BYTES:1,UTF16_STRING:2},ne.int32=new Int32Array(2),ne.float32=new Float32Array(ne.int32.buffer),ne.float64=new Float64Array(ne.int32.buffer),ne.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],ne.Long=function(t,e){this.low=0|t,this.high=0|e},ne.Long.create=function(t,e){return 0==t&&0==e?ne.Long.ZERO:new ne.Long(t,e)},ne.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},ne.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},ne.Long.ZERO=new ne.Long(0,0),ne.Builder=function(t){if(t)e=t;else var e=1024;this.bb=ne.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},ne.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},ne.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},ne.Builder.prototype.dataBuffer=function(){return this.bb},ne.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},ne.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var n=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<n+t+e;){var r=this.bb.capacity();this.bb=ne.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(n)},ne.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},ne.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},ne.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},ne.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},ne.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},ne.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},ne.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},ne.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},ne.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},ne.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},ne.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},ne.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},ne.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},ne.Builder.prototype.addFieldInt8=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))},ne.Builder.prototype.addFieldInt16=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))},ne.Builder.prototype.addFieldInt32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))},ne.Builder.prototype.addFieldInt64=function(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))},ne.Builder.prototype.addFieldFloat32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))},ne.Builder.prototype.addFieldFloat64=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))},ne.Builder.prototype.addFieldOffset=function(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))},ne.Builder.prototype.addFieldStruct=function(t,e,n){e!=n&&(this.nested(e),this.slot(t))},ne.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},ne.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},ne.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},ne.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},ne.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=e<<1,r=ne.ByteBuffer.allocate(n);return r.setPosition(n-e),r.bytes().set(t.bytes(),n-e),r},ne.Builder.prototype.addOffset=function(t){this.prep(ne.SIZEOF_INT,0),this.writeInt32(this.offset()-t+ne.SIZEOF_INT)},ne.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},ne.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--);for(var n=e+1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);var r=(n+2)*ne.SIZEOF_SHORT;this.addInt16(r);var i=0,o=this.space;t:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(a)){for(var s=ne.SIZEOF_SHORT;s<r;s+=ne.SIZEOF_SHORT)if(this.bb.readInt16(o+s)!=this.bb.readInt16(a+s))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},ne.Builder.prototype.finish=function(t,e){if(e){var n=e;if(this.prep(this.minalign,ne.SIZEOF_INT+ne.FILE_IDENTIFIER_LENGTH),n.length!=ne.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+ne.FILE_IDENTIFIER_LENGTH);for(var r=ne.FILE_IDENTIFIER_LENGTH-1;r>=0;r--)this.writeInt8(n.charCodeAt(r))}this.prep(this.minalign,ne.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)},ne.Builder.prototype.requiredField=function(t,e){var n=this.bb.capacity()-t,r=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(r+e)))throw new Error("FlatBuffers: field "+e+" must be set")},ne.Builder.prototype.startVector=function(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(ne.SIZEOF_INT,t*e),this.prep(n,t*e)},ne.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},ne.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var n=0;n<t.length;){var r,i=t.charCodeAt(n++);if(i<55296||i>=56320)r=i;else r=(i<<10)+t.charCodeAt(n++)+-56613888;r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);n=0;for(var o=this.space,a=this.bb.bytes();n<e.length;n++)a[o++]=e[n];return this.endVector()},ne.Builder.prototype.createLong=function(t,e){return ne.Long.create(t,e)},ne.ByteBuffer=function(t){this.bytes_=t,this.position_=0},ne.ByteBuffer.allocate=function(t){return new ne.ByteBuffer(new Uint8Array(t))},ne.ByteBuffer.prototype.clear=function(){this.position_=0},ne.ByteBuffer.prototype.bytes=function(){return this.bytes_},ne.ByteBuffer.prototype.position=function(){return this.position_},ne.ByteBuffer.prototype.setPosition=function(t){this.position_=t},ne.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},ne.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},ne.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},ne.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},ne.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},ne.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},ne.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},ne.ByteBuffer.prototype.readInt64=function(t){return new ne.Long(this.readInt32(t),this.readInt32(t+4))},ne.ByteBuffer.prototype.readUint64=function(t){return new ne.Long(this.readUint32(t),this.readUint32(t+4))},ne.ByteBuffer.prototype.readFloat32=function(t){return ne.int32[0]=this.readInt32(t),ne.float32[0]},ne.ByteBuffer.prototype.readFloat64=function(t){return ne.int32[ne.isLittleEndian?0:1]=this.readInt32(t),ne.int32[ne.isLittleEndian?1:0]=this.readInt32(t+4),ne.float64[0]},ne.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},ne.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},ne.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},ne.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},ne.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},ne.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},ne.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},ne.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},ne.ByteBuffer.prototype.writeFloat32=function(t,e){ne.float32[0]=e,this.writeInt32(t,ne.int32[0])},ne.ByteBuffer.prototype.writeFloat64=function(t,e){ne.float64[0]=e,this.writeInt32(t,ne.int32[ne.isLittleEndian?0:1]),this.writeInt32(t+4,ne.int32[ne.isLittleEndian?1:0])},ne.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+ne.SIZEOF_INT+ne.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<ne.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+ne.SIZEOF_INT+e));return t},ne.ByteBuffer.prototype.__offset=function(t,e){var n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0},ne.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},ne.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var n=this.readInt32(t),r="",i=0;if(t+=ne.SIZEOF_INT,e===ne.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;i<n;){var o,a=this.readUint8(t+i++);if(a<192)o=a;else{var s=this.readUint8(t+i++);if(a<224)o=(31&a)<<6|63&s;else{var u=this.readUint8(t+i++);if(a<240)o=(15&a)<<12|(63&s)<<6|63&u;else o=(7&a)<<18|(63&s)<<12|(63&u)<<6|63&this.readUint8(t+i++)}}o<65536?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return r},ne.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},ne.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+ne.SIZEOF_INT},ne.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},ne.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=ne.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+ne.FILE_IDENTIFIER_LENGTH);for(var e=0;e<ne.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+ne.SIZEOF_INT+e))return!1;return!0},ne.ByteBuffer.prototype.createLong=function(t,e){return ne.Long.create(t,e)};function oe(t){this.tokens=[].slice.call(t)}oe.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var ae=-1;function se(t,e){if(t)throw TypeError("Decoder error");return e||65533}var ue="utf-8";function ce(t,e){if(!(this instanceof ce))return new ce(t,e);if((t=void 0!==t?String(t).toLowerCase():ue)!==ue)throw new Error("Encoding not supported. Only utf-8 is supported");e=ie(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function le(t,e){if(!(this instanceof le))return new le(t,e);if((t=void 0!==t?String(t).toLowerCase():ue)!==ue)throw new Error("Encoding not supported. Only utf-8 is supported");e=ie(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function fe(t){var e=t.fatal,n=0,r=0,i=0,o=128,a=191;this.handler=function(t,s){if(-1===s&&0!==i)return i=0,se(e);if(-1===s)return ae;if(0===i){if(re(s,0,127))return s;if(re(s,194,223))i=1,n=s-192;else if(re(s,224,239))224===s&&(o=160),237===s&&(a=159),i=2,n=s-224;else{if(!re(s,240,244))return se(e);240===s&&(o=144),244===s&&(a=143),i=3,n=s-240}return n<<=6*i,null}if(!re(s,o,a))return n=i=r=0,o=128,a=191,t.prepend(s),se(e);if(o=128,a=191,n+=s-128<<6*(i-(r+=1)),r!==i)return null;var u=n;return n=i=r=0,u}}function he(t){t.fatal;this.handler=function(t,e){if(-1===e)return ae;if(re(e,0,127))return e;var n,r;re(e,128,2047)?(n=1,r=192):re(e,2048,65535)?(n=2,r=224):re(e,65536,1114111)&&(n=3,r=240);for(var i=[(e>>6*n)+r];n>0;){var o=e>>6*(n-1);i.push(128|63&o),n-=1}return i}}ce.prototype={decode:function(t,e){var n;n="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=ie(e),this._streaming||(this._decoder=new fe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,i=new oe(n),o=[];!i.endOfStream()&&(r=this._decoder.handler(i,i.read()))!==ae;)null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));if(!this._streaming){do{if((r=this._decoder.handler(i,i.read()))===ae)break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(o)}},le.prototype={encode:function(t,e){t=t?String(t):"",e=ie(e),this._streaming||(this._encoder=new he(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],i=new oe(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(t));!i.endOfStream()&&(n=this._encoder.handler(i,i.read()))!==ae;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(i,i.read()))!==ae;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}};var de=n(8764).Buffer;const pe="function"===typeof de?de:null,ye="function"===typeof TextDecoder&&"function"===typeof TextEncoder,ge=(t=>{if(ye||!pe){const e=new t("utf-8");return t=>e.decode(t)}return t=>{const{buffer:e,byteOffset:n,length:r}=Ke(t);return pe.from(e,n,r).toString()}})("undefined"!==typeof TextDecoder?TextDecoder:ce),me=(t=>{if(ye||!pe){const e=new t;return t=>e.encode(t)}return(t="")=>Ke(pe.from(t,"utf8"))})("undefined"!==typeof TextEncoder?TextEncoder:le),be=Object.freeze({done:!0,value:void 0});class ve{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class _e{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class we extends _e{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}async cancel(t){await this.return(t)}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(be);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return In.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return In.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}async throw(t){return await this.abort(t),be}async return(t){return await this.close(),be}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(be)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error(`${this} is closed`)}}const[xe,Me]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[Se,Ae]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[Te,Ie]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),Be=t=>"number"===typeof t,Ee=t=>"boolean"===typeof t,ke=t=>"function"===typeof t,Oe=t=>null!=t&&Object(t)===t,Ne=t=>Oe(t)&&ke(t.then),De=t=>Oe(t)&&ke(t[Symbol.iterator]),Fe=t=>Oe(t)&&ke(t[Symbol.asyncIterator]),Le=t=>Oe(t)&&Oe(t.schema),Ce=t=>Oe(t)&&"done"in t&&"value"in t,Ue=t=>Oe(t)&&ke(t.stat)&&Be(t.fd),Re=t=>Oe(t)&&ze(t.body),ze=t=>Oe(t)&&ke(t.cancel)&&ke(t.getReader)&&!(t instanceof _e),je=t=>Oe(t)&&ke(t.read)&&ke(t.pipe)&&Ee(t.readable)&&!(t instanceof _e);var Pe=ne.ByteBuffer;const Ve="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function $e(t,e,n=0,r=e.byteLength){const i=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,i),a=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return o.set(a,n),t}function Ye(t,e){let n,r,i,o=function(t){let e,n,r,i,o=t[0]?[t[0]]:[];for(let a,s,u=0,c=0,l=t.length;++u<l;)a=o[c],s=t[u],!a||!s||a.buffer!==s.buffer||s.byteOffset<a.byteOffset?s&&(o[++c]=s):(({byteOffset:e,byteLength:r}=a),({byteOffset:n,byteLength:i}=s),e+r<n||n+i<e?s&&(o[++c]=s):o[c]=new Uint8Array(a.buffer,e,n-e+i));return o}(t),a=o.reduce(((t,e)=>t+e.byteLength),0),s=0,u=-1,c=Math.min(e||1/0,a);for(let l=o.length;++u<l;){if(n=o[u],r=n.subarray(0,Math.min(n.length,c-s)),c<=s+r.length){r.length<n.length?o[u]=n.subarray(r.length):r.length===n.length&&u++,i?$e(i,r,s):i=r;break}$e(i||(i=new Uint8Array(c)),r,s),s+=r.length}return[i||new Uint8Array(0),o.slice(u),a-(i?i.byteLength:0)]}function qe(t,e){let n=Ce(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?("string"===typeof n&&(n=me(n)),n instanceof ArrayBuffer||n instanceof Ve?new t(n):n instanceof Pe?qe(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const He=t=>qe(Int8Array,t),We=t=>qe(Int16Array,t),Ge=t=>qe(Int32Array,t),Xe=t=>qe(Se,t),Ke=t=>qe(Uint8Array,t),Ze=t=>qe(Uint16Array,t),Je=t=>qe(Uint32Array,t),Qe=t=>qe(Te,t),tn=t=>qe(Float32Array,t),en=t=>qe(Float64Array,t),nn=t=>qe(Uint8ClampedArray,t),rn=t=>(t.next(),t);function*on(t,e){const n=function*(t){yield t},r="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Ve?n(e):De(e)?e:n(e);return yield*rn(function*(e){let n=null;do{n=e.next(yield qe(t,n))}while(!n.done)}(r[Symbol.iterator]())),new t}const an=t=>on(Int8Array,t),sn=t=>on(Int16Array,t),un=t=>on(Int32Array,t),cn=t=>on(Uint8Array,t),ln=t=>on(Uint16Array,t),fn=t=>on(Uint32Array,t),hn=t=>on(Float32Array,t),dn=t=>on(Float64Array,t),pn=t=>on(Uint8ClampedArray,t);async function*yn(t,e){if(Ne(e))return yield*yn(t,await e);const n=async function*(t){yield await t},r="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Ve?n(e):De(e)?async function*(t){yield*rn(function*(t){let e=null;do{e=t.next(yield e&&e.value)}while(!e.done)}(t[Symbol.iterator]()))}(e):Fe(e)?e:n(e);return yield*rn(async function*(e){let n=null;do{n=await e.next(yield qe(t,n))}while(!n.done)}(r[Symbol.asyncIterator]())),new t}const gn=t=>yn(Int8Array,t),mn=t=>yn(Int16Array,t),bn=t=>yn(Int32Array,t),vn=t=>yn(Uint8Array,t),_n=t=>yn(Uint16Array,t),wn=t=>yn(Uint32Array,t),xn=t=>yn(Float32Array,t),Mn=t=>yn(Float64Array,t),Sn=t=>yn(Uint8ClampedArray,t);function An(t,e,n){if(0!==t){n=n.slice(0,e+1);for(let r=-1;++r<=e;)n[r]+=t}return n}function Tn(t,e){let n=0,r=t.length;if(r!==e.length)return!1;if(r>0)do{if(t[n]!==e[n])return!1}while(++n<r);return!0}var In={fromIterable:t=>Bn(function*(t){let e,n,r,i,o=!1,a=[],s=0;function u(){return"peek"===r?Ye(a,i)[0]:([n,a,s]=Ye(a,i),n)}({cmd:r,size:i}=yield null);let c=cn(t)[Symbol.iterator]();try{do{if(({done:e,value:n}=isNaN(i-s)?c.next(void 0):c.next(i-s)),!e&&n.byteLength>0&&(a.push(n),s+=n.byteLength),e||i<=s)do{({cmd:r,size:i}=yield u())}while(i<s)}while(!e)}catch(l){(o=!0)&&"function"===typeof c.throw&&c.throw(l)}finally{!1===o&&"function"===typeof c.return&&c.return(null)}return null}(t)),fromAsyncIterable:t=>Bn(async function*(t){let e,n,r,i,o=!1,a=[],s=0;function u(){return"peek"===r?Ye(a,i)[0]:([n,a,s]=Ye(a,i),n)}({cmd:r,size:i}=yield null);let c=vn(t)[Symbol.asyncIterator]();try{do{if(({done:e,value:n}=isNaN(i-s)?await c.next(void 0):await c.next(i-s)),!e&&n.byteLength>0&&(a.push(n),s+=n.byteLength),e||i<=s)do{({cmd:r,size:i}=yield u())}while(i<s)}while(!e)}catch(l){(o=!0)&&"function"===typeof c.throw&&await c.throw(l)}finally{!1===o&&"function"===typeof c.return&&await c.return(new Uint8Array(0))}return null}(t)),fromDOMStream:t=>Bn(async function*(t){let e,n,r,i=!1,o=!1,a=[],s=0;function u(){return"peek"===n?Ye(a,r)[0]:([e,a,s]=Ye(a,r),e)}({cmd:n,size:r}=yield null);let c=new En(t);try{do{if(({done:i,value:e}=isNaN(r-s)?await c.read(void 0):await c.read(r-s)),!i&&e.byteLength>0&&(a.push(Ke(e)),s+=e.byteLength),i||r<=s)do{({cmd:n,size:r}=yield u())}while(r<s)}while(!i)}catch(l){(o=!0)&&await c.cancel(l)}finally{!1===o?await c.cancel():t.locked&&c.releaseLock()}return null}(t)),fromNodeStream:t=>Bn(async function*(t){let e,n,r,i=[],o="error",a=!1,s=null,u=0,c=[];function l(){return"peek"===e?Ye(c,n)[0]:([r,c,u]=Ye(c,n),r)}if(({cmd:e,size:n}=yield null),t.isTTY)return yield new Uint8Array(0),null;try{i[0]=On(t,"end"),i[1]=On(t,"error");do{if(i[2]=On(t,"readable"),[o,s]=await Promise.race(i.map((t=>t[2]))),"error"===o)break;if((a="end"===o)||(isFinite(n-u)?(r=Ke(t.read(n-u)),r.byteLength<n-u&&(r=Ke(t.read(void 0)))):r=Ke(t.read(void 0)),r.byteLength>0&&(c.push(r),u+=r.byteLength)),a||n<=u)do{({cmd:e,size:n}=yield l())}while(n<u)}while(!a)}finally{await f(i,"error"===o?s:null)}return null;function f(e,n){return r=c=null,new Promise((async(r,i)=>{for(const[n,a]of e)t.off(n,a);try{const e=t.destroy;e&&e.call(t,n),n=void 0}catch(o){n=o||n}finally{null!=n?i(n):r()}}))}}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}};const Bn=t=>(t.next(),t);class En{constructor(t){this.source=t,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(e){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(t){const{reader:e,source:n}=this;e&&await e.cancel(t).catch((()=>{})),n&&n.locked&&this.releaseLock()}async read(t){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=this.supportsBYOB&&"number"===typeof t?await this.readFromBYOBReader(t):await this.getDefaultReader().read();return!e.done&&(e.value=Ke(e)),e}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((()=>{}))),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((()=>{}))),this.reader=this.byobReader}async readFromBYOBReader(t){return await kn(this.getBYOBReader(),new ArrayBuffer(t),0,t)}}async function kn(t,e,n,r){if(n>=r)return{done:!1,value:new Uint8Array(e,0,r)};const{done:i,value:o}=await t.read(new Uint8Array(e,n,r-n));return(n+=o.byteLength)<r&&!i?await kn(t,o.buffer,n,r):{done:i,value:new Uint8Array(o.buffer,0,n)}}const On=(t,e)=>{let n,r=t=>n([e,t]);return[e,r,new Promise((i=>(n=i)&&t.once(e,r)))]};class Nn{}var Dn,Fn;Nn.prototype.data=null,function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4"}(e=t.MetadataVersion||(t.MetadataVersion={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e=t.UnionMode||(t.UnionMode={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(e=t.Precision||(t.Precision={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(e=t.DateUnit||(t.DateUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(e=t.TimeUnit||(t.TimeUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME"}(e=t.IntervalUnit||(t.IntervalUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(e=t.Type||(t.Type={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(e=t.Endianness||(t.Endianness={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return e.startNull(t),e.endNull(t)}}t.Null=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return e.startStruct_(t),e.endStruct_(t)}}t.Struct_=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return e.startList(t),e.endList(t)}}t.List=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeList(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeList(t){t.startObject(0)}static endLargeList(t){return t.endObject()}static createLargeList(t){return e.startLargeList(t),e.endLargeList(t)}}t.LargeList=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)}}t.FixedSizeList=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)}}t.Map=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.UnionMode.Sparse}typeIds(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.UnionMode.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,r){return n.startUnion(t),n.addMode(t,e),n.addTypeIds(t,r),n.endUnion(t)}}e.Union=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,r),e.endInt(t)}}t.Int=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.Precision.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.Precision.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return n.startFloatingPoint(t),n.addPrecision(t,e),n.endFloatingPoint(t)}}e.FloatingPoint=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return e.startUtf8(t),e.endUtf8(t)}}t.Utf8=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return e.startBinary(t),e.endBinary(t)}}t.Binary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)}}t.LargeUtf8=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return e.startLargeBinary(t),e.endLargeBinary(t)}}t.LargeBinary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)}}t.FixedSizeBinary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return e.startBool(t),e.endBool(t)}}t.Bool=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}static startDecimal(t){t.startObject(2)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,r),e.endDecimal(t)}}t.Decimal=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.DateUnit.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.DateUnit.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return n.startDate(t),n.addUnit(t,e),n.endDate(t)}}e.Date=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,r){return n.startTime(t),n.addUnit(t,e),n.addBitWidth(t,r),n.endTime(t)}}e.Time=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.SECOND}timezone(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.TimeUnit.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,r){return n.startTimestamp(t),n.addUnit(t,e),n.addTimezone(t,r),n.endTimestamp(t)}}e.Timestamp=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return n.startInterval(t),n.addUnit(t,e),n.endInterval(t)}}e.Interval=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return n.startDuration(t),n.addUnit(t,e),n.endDuration(t)}}e.Duration=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}key(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,r),e.endKeyValue(t)}}t.KeyValue=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.apache.arrow.flatbuf.Int).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryEncoding(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryEncoding(t){return t.endObject()}static createDictionaryEncoding(t,e,r,i){return n.startDictionaryEncoding(t),n.addId(t,e),n.addIndexType(t,r),n.addIsOrdered(t,i),n.endDictionaryEncoding(t)}}e.DictionaryEncoding=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):t.apache.arrow.flatbuf.Type.NONE}type(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(e){let n=this.bb.__offset(this.bb_pos,12);return n?(e||new t.apache.arrow.flatbuf.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){let r=this.bb.__offset(this.bb_pos,14);return r?(n||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(e,n){let r=this.bb.__offset(this.bb_pos,16);return r?(n||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(e,n){e.addFieldInt8(2,n,t.apache.arrow.flatbuf.Type.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}static createField(t,e,r,i,o,a,s,u){return n.startField(t),n.addName(t,e),n.addNullable(t,r),n.addTypeType(t,i),n.addType(t,o),n.addDictionary(t,a),n.addChildren(t,s),n.addCustomMetadata(t,u),n.endField(t)}}e.Field=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){t.Buffer=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.Endianness.Little}fields(e,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(e,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(3)}static addEndianness(e,n){e.addFieldInt16(0,n,t.apache.arrow.flatbuf.Endianness.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static createSchema(t,e,r,i){return n.startSchema(t),n.addEndianness(t,e),n.addFields(t,r),n.addCustomMetadata(t,i),n.endSchema(t)}}e.Schema=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Dn||(Dn={})),function(t){!function(t){!function(t){!function(t){t.Schema=Dn.apache.arrow.flatbuf.Schema}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Fn||(Fn={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(e=t.MessageHeader||(t.MessageHeader={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Fn||(Fn={})),function(t){!function(t){!function(t){!function(t){t.FieldNode=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Fn||(Fn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(e,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.apache.arrow.flatbuf.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+16*e,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){let n=this.bb.__offset(this.bb_pos,8);return n?(e||new Dn.apache.arrow.flatbuf.Buffer).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startRecordBatch(t){t.startObject(3)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static endRecordBatch(t){return t.endObject()}static createRecordBatch(t,e,r,i){return n.startRecordBatch(t),n.addLength(t,e),n.addNodes(t,r),n.addBuffers(t,i),n.endRecordBatch(t)}}e.RecordBatch=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Fn||(Fn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.apache.arrow.flatbuf.RecordBatch).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}static createDictionaryBatch(t,e,r,i){return n.startDictionaryBatch(t),n.addId(t,e),n.addData(t,r),n.addIsDelta(t,i),n.endDictionaryBatch(t)}}e.DictionaryBatch=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Fn||(Fn={})),function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Dn.apache.arrow.flatbuf.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.apache.arrow.flatbuf.MessageHeader.NONE}header(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){let n=this.bb.__offset(this.bb_pos,12);return n?(e||new Dn.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Dn.apache.arrow.flatbuf.MetadataVersion.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,t.apache.arrow.flatbuf.MessageHeader.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static createMessage(t,e,r,i,o,a){return n.startMessage(t),n.addVersion(t,e),n.addHeaderType(t,r),n.addHeader(t,i),n.addBodyLength(t,o),n.addCustomMetadata(t,a),n.endMessage(t)}}e.Message=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Fn||(Fn={}));Dn.apache.arrow.flatbuf.Type;var Ln,Cn,Un=Dn.apache.arrow.flatbuf.DateUnit,Rn=Dn.apache.arrow.flatbuf.TimeUnit,zn=Dn.apache.arrow.flatbuf.Precision,jn=Dn.apache.arrow.flatbuf.UnionMode,Pn=Dn.apache.arrow.flatbuf.IntervalUnit,Vn=Fn.apache.arrow.flatbuf.MessageHeader,$n=Dn.apache.arrow.flatbuf.MetadataVersion;function Yn(t,e,n,r){return 0!==(n&1<<r)}function qn(t,e,n,r){return(n&1<<r)>>r}function Hn(t,e,n){return n?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}function Wn(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):Gn(Xn(n,t,e,null,Yn)).subarray(0,r)),i}return n}function Gn(t){let e=[],n=0,r=0,i=0;for(const a of t)a&&(i|=1<<r),8===++r&&(e[n++]=i,i=r=0);(0===n||r>0)&&(e[n++]=i);let o=new Uint8Array(e.length+7&-8);return o.set(e),o}function*Xn(t,e,n,r,i){let o=e%8,a=e>>3,s=0,u=n;for(;u>0;o=0){let e=t[a++];do{yield i(r,s++,e,o)}while(--u>0&&++o<8)}}function Kn(t,e,n){if(n-e<=0)return 0;if(n-e<8){let r=0;for(const i of Xn(t,e,n-e,t,qn))r+=i;return r}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return Kn(t,e,i)+Kn(t,r,n)+Zn(t,i>>3,r-i>>3)}function Zn(t,e,n){let r=0,i=0|e;const o=new DataView(t.buffer,t.byteOffset,t.byteLength),a=void 0===n?t.byteLength:i+n;for(;a-i>=4;)r+=Jn(o.getUint32(i)),i+=4;for(;a-i>=2;)r+=Jn(o.getUint16(i)),i+=2;for(;a-i>=1;)r+=Jn(o.getUint8(i)),i+=1;return r}function Jn(t){let e=0|t;return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(Ln||(Ln={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(Cn||(Cn={}));class Qn{visitMany(t,...e){return t.map(((t,n)=>this.visit(t,...e.map((t=>t[n])))))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return function(t,e,n=!0){let r=null,i=Ln.NONE;e instanceof Qr||e instanceof Nn?i=tr(e.type):e instanceof hr?i=tr(e):"number"!==typeof(i=e)&&(i=Ln[e]);switch(i){case Ln.Null:r=t.visitNull;break;case Ln.Bool:r=t.visitBool;break;case Ln.Int:r=t.visitInt;break;case Ln.Int8:r=t.visitInt8||t.visitInt;break;case Ln.Int16:r=t.visitInt16||t.visitInt;break;case Ln.Int32:r=t.visitInt32||t.visitInt;break;case Ln.Int64:r=t.visitInt64||t.visitInt;break;case Ln.Uint8:r=t.visitUint8||t.visitInt;break;case Ln.Uint16:r=t.visitUint16||t.visitInt;break;case Ln.Uint32:r=t.visitUint32||t.visitInt;break;case Ln.Uint64:r=t.visitUint64||t.visitInt;break;case Ln.Float:r=t.visitFloat;break;case Ln.Float16:r=t.visitFloat16||t.visitFloat;break;case Ln.Float32:r=t.visitFloat32||t.visitFloat;break;case Ln.Float64:r=t.visitFloat64||t.visitFloat;break;case Ln.Utf8:r=t.visitUtf8;break;case Ln.Binary:r=t.visitBinary;break;case Ln.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case Ln.Date:r=t.visitDate;break;case Ln.DateDay:r=t.visitDateDay||t.visitDate;break;case Ln.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case Ln.Timestamp:r=t.visitTimestamp;break;case Ln.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case Ln.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case Ln.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case Ln.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case Ln.Time:r=t.visitTime;break;case Ln.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case Ln.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case Ln.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case Ln.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case Ln.Decimal:r=t.visitDecimal;break;case Ln.List:r=t.visitList;break;case Ln.Struct:r=t.visitStruct;break;case Ln.Union:r=t.visitUnion;break;case Ln.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case Ln.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case Ln.Dictionary:r=t.visitDictionary;break;case Ln.Interval:r=t.visitInterval;break;case Ln.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case Ln.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case Ln.FixedSizeList:r=t.visitFixedSizeList;break;case Ln.Map:r=t.visitMap}if("function"===typeof r)return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Ln[i]}'`)}(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function tr(t){switch(t.typeId){case Ln.Null:return Ln.Null;case Ln.Int:const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?Ln.Int8:Ln.Uint8;case 16:return n?Ln.Int16:Ln.Uint16;case 32:return n?Ln.Int32:Ln.Uint32;case 64:return n?Ln.Int64:Ln.Uint64}return Ln.Int;case Ln.Float:switch(t.precision){case zn.HALF:return Ln.Float16;case zn.SINGLE:return Ln.Float32;case zn.DOUBLE:return Ln.Float64}return Ln.Float;case Ln.Binary:return Ln.Binary;case Ln.Utf8:return Ln.Utf8;case Ln.Bool:return Ln.Bool;case Ln.Decimal:return Ln.Decimal;case Ln.Time:switch(t.unit){case Rn.SECOND:return Ln.TimeSecond;case Rn.MILLISECOND:return Ln.TimeMillisecond;case Rn.MICROSECOND:return Ln.TimeMicrosecond;case Rn.NANOSECOND:return Ln.TimeNanosecond}return Ln.Time;case Ln.Timestamp:switch(t.unit){case Rn.SECOND:return Ln.TimestampSecond;case Rn.MILLISECOND:return Ln.TimestampMillisecond;case Rn.MICROSECOND:return Ln.TimestampMicrosecond;case Rn.NANOSECOND:return Ln.TimestampNanosecond}return Ln.Timestamp;case Ln.Date:switch(t.unit){case Un.DAY:return Ln.DateDay;case Un.MILLISECOND:return Ln.DateMillisecond}return Ln.Date;case Ln.Interval:switch(t.unit){case Pn.DAY_TIME:return Ln.IntervalDayTime;case Pn.YEAR_MONTH:return Ln.IntervalYearMonth}return Ln.Interval;case Ln.Map:return Ln.Map;case Ln.List:return Ln.List;case Ln.Struct:return Ln.Struct;case Ln.Union:switch(t.mode){case jn.Dense:return Ln.DenseUnion;case jn.Sparse:return Ln.SparseUnion}return Ln.Union;case Ln.FixedSizeBinary:return Ln.FixedSizeBinary;case Ln.FixedSizeList:return Ln.FixedSizeList;case Ln.Dictionary:return Ln.Dictionary}throw new Error(`Unrecognized type '${Ln[t.typeId]}'`)}Qn.prototype.visitInt8=null,Qn.prototype.visitInt16=null,Qn.prototype.visitInt32=null,Qn.prototype.visitInt64=null,Qn.prototype.visitUint8=null,Qn.prototype.visitUint16=null,Qn.prototype.visitUint32=null,Qn.prototype.visitUint64=null,Qn.prototype.visitFloat16=null,Qn.prototype.visitFloat32=null,Qn.prototype.visitFloat64=null,Qn.prototype.visitDateDay=null,Qn.prototype.visitDateMillisecond=null,Qn.prototype.visitTimestampSecond=null,Qn.prototype.visitTimestampMillisecond=null,Qn.prototype.visitTimestampMicrosecond=null,Qn.prototype.visitTimestampNanosecond=null,Qn.prototype.visitTimeSecond=null,Qn.prototype.visitTimeMillisecond=null,Qn.prototype.visitTimeMicrosecond=null,Qn.prototype.visitTimeNanosecond=null,Qn.prototype.visitDenseUnion=null,Qn.prototype.visitSparseUnion=null,Qn.prototype.visitIntervalDayTime=null,Qn.prototype.visitIntervalYearMonth=null;class er extends Qn{compareSchemas(t,e){return t===e||e instanceof t.constructor&&fr.compareFields(t.fields,e.fields)}compareFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>fr.compareField(t,e[n])))}compareField(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&fr.visit(t.type,e.type)}}function nr(t,e){return e instanceof t.constructor}function rr(t,e){return t===e||nr(t,e)}function ir(t,e){return t===e||nr(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function or(t,e){return t===e||nr(t,e)&&t.precision===e.precision}function ar(t,e){return t===e||nr(t,e)&&t.unit===e.unit}function sr(t,e){return t===e||nr(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function ur(t,e){return t===e||nr(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function cr(t,e){return t===e||nr(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,n)=>t===e.typeIds[n]))&&fr.compareFields(t.children,e.children)}function lr(t,e){return t===e||nr(t,e)&&t.unit===e.unit}er.prototype.visitNull=rr,er.prototype.visitBool=rr,er.prototype.visitInt=ir,er.prototype.visitInt8=ir,er.prototype.visitInt16=ir,er.prototype.visitInt32=ir,er.prototype.visitInt64=ir,er.prototype.visitUint8=ir,er.prototype.visitUint16=ir,er.prototype.visitUint32=ir,er.prototype.visitUint64=ir,er.prototype.visitFloat=or,er.prototype.visitFloat16=or,er.prototype.visitFloat32=or,er.prototype.visitFloat64=or,er.prototype.visitUtf8=rr,er.prototype.visitBinary=rr,er.prototype.visitFixedSizeBinary=function(t,e){return t===e||nr(t,e)&&t.byteWidth===e.byteWidth},er.prototype.visitDate=ar,er.prototype.visitDateDay=ar,er.prototype.visitDateMillisecond=ar,er.prototype.visitTimestamp=sr,er.prototype.visitTimestampSecond=sr,er.prototype.visitTimestampMillisecond=sr,er.prototype.visitTimestampMicrosecond=sr,er.prototype.visitTimestampNanosecond=sr,er.prototype.visitTime=ur,er.prototype.visitTimeSecond=ur,er.prototype.visitTimeMillisecond=ur,er.prototype.visitTimeMicrosecond=ur,er.prototype.visitTimeNanosecond=ur,er.prototype.visitDecimal=rr,er.prototype.visitList=function(t,e){return t===e||nr(t,e)&&t.children.length===e.children.length&&fr.compareFields(t.children,e.children)},er.prototype.visitStruct=function(t,e){return t===e||nr(t,e)&&t.children.length===e.children.length&&fr.compareFields(t.children,e.children)},er.prototype.visitUnion=cr,er.prototype.visitDenseUnion=cr,er.prototype.visitSparseUnion=cr,er.prototype.visitDictionary=function(t,e){return t===e||nr(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&fr.visit(t.indices,e.indices)&&fr.visit(t.dictionary,e.dictionary)},er.prototype.visitInterval=lr,er.prototype.visitIntervalDayTime=lr,er.prototype.visitIntervalYearMonth=lr,er.prototype.visitFixedSizeList=function(t,e){return t===e||nr(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&fr.compareFields(t.children,e.children)},er.prototype.visitMap=function(t,e){return t===e||nr(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&fr.compareFields(t.children,e.children)};const fr=new er;class hr{static isNull(t){return t&&t.typeId===Ln.Null}static isInt(t){return t&&t.typeId===Ln.Int}static isFloat(t){return t&&t.typeId===Ln.Float}static isBinary(t){return t&&t.typeId===Ln.Binary}static isUtf8(t){return t&&t.typeId===Ln.Utf8}static isBool(t){return t&&t.typeId===Ln.Bool}static isDecimal(t){return t&&t.typeId===Ln.Decimal}static isDate(t){return t&&t.typeId===Ln.Date}static isTime(t){return t&&t.typeId===Ln.Time}static isTimestamp(t){return t&&t.typeId===Ln.Timestamp}static isInterval(t){return t&&t.typeId===Ln.Interval}static isList(t){return t&&t.typeId===Ln.List}static isStruct(t){return t&&t.typeId===Ln.Struct}static isUnion(t){return t&&t.typeId===Ln.Union}static isFixedSizeBinary(t){return t&&t.typeId===Ln.FixedSizeBinary}static isFixedSizeList(t){return t&&t.typeId===Ln.FixedSizeList}static isMap(t){return t&&t.typeId===Ln.Map}static isDictionary(t){return t&&t.typeId===Ln.Dictionary}get typeId(){return Ln.NONE}compareTo(t){return fr.visit(this,t)}}hr[Symbol.toStringTag]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(hr.prototype);class dr extends hr{toString(){return"Null"}get typeId(){return Ln.Null}}dr[Symbol.toStringTag]=(t=>t[Symbol.toStringTag]="Null")(dr.prototype);class pr extends hr{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return Ln.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}pr[Symbol.toStringTag]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(pr.prototype);class yr extends pr{constructor(){super(!0,8)}}class gr extends pr{constructor(){super(!0,16)}}class mr extends pr{constructor(){super(!0,32)}}class br extends pr{constructor(){super(!0,64)}}class vr extends pr{constructor(){super(!1,8)}}class _r extends pr{constructor(){super(!1,16)}}class wr extends pr{constructor(){super(!1,32)}}class xr extends pr{constructor(){super(!1,64)}}Object.defineProperty(yr.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(gr.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(mr.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(br.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(vr.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(_r.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(wr.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(xr.prototype,"ArrayType",{value:Uint32Array});class Mr extends hr{constructor(t){super(),this.precision=t}get typeId(){return Ln.Float}get ArrayType(){switch(this.precision){case zn.HALF:return Uint16Array;case zn.SINGLE:return Float32Array;case zn.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Mr[Symbol.toStringTag]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Mr.prototype);class Sr extends Mr{constructor(){super(zn.HALF)}}class Ar extends Mr{constructor(){super(zn.SINGLE)}}class Tr extends Mr{constructor(){super(zn.DOUBLE)}}Object.defineProperty(Sr.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(Ar.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(Tr.prototype,"ArrayType",{value:Float64Array});class Ir extends hr{constructor(){super()}get typeId(){return Ln.Binary}toString(){return"Binary"}}Ir[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Ir.prototype);class Br extends hr{constructor(){super()}get typeId(){return Ln.Utf8}toString(){return"Utf8"}}Br[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Br.prototype);class Er extends hr{constructor(){super()}get typeId(){return Ln.Bool}toString(){return"Bool"}}Er[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Er.prototype);class kr extends hr{constructor(t,e){super(),this.scale=t,this.precision=e}get typeId(){return Ln.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}kr[Symbol.toStringTag]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(kr.prototype);class Or extends hr{constructor(t){super(),this.unit=t}get typeId(){return Ln.Date}toString(){return`Date${32*(this.unit+1)}<${Un[this.unit]}>`}}Or[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Or.prototype);class Nr extends Or{constructor(){super(Un.DAY)}}class Dr extends Or{constructor(){super(Un.MILLISECOND)}}class Fr extends hr{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return Ln.Time}toString(){return`Time${this.bitWidth}<${Rn[this.unit]}>`}}Fr[Symbol.toStringTag]=(t=>(t.unit=null,t.bitWidth=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Time"))(Fr.prototype);class Lr extends Fr{constructor(){super(Rn.SECOND,32)}}class Cr extends Fr{constructor(){super(Rn.MILLISECOND,32)}}class Ur extends Fr{constructor(){super(Rn.MICROSECOND,64)}}class Rr extends Fr{constructor(){super(Rn.NANOSECOND,64)}}class zr extends hr{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return Ln.Timestamp}toString(){return`Timestamp<${Rn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}zr[Symbol.toStringTag]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(zr.prototype);class jr extends hr{constructor(t){super(),this.unit=t}get typeId(){return Ln.Interval}toString(){return`Interval<${Pn[this.unit]}>`}}jr[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(jr.prototype);class Pr extends jr{constructor(){super(Pn.DAY_TIME)}}class Vr extends jr{constructor(){super(Pn.YEAR_MONTH)}}class $r extends hr{constructor(t){super(),this.children=[t]}get typeId(){return Ln.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}$r[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))($r.prototype);class Yr extends hr{constructor(t){super(),this.children=t}get typeId(){return Ln.Struct}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Yr[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Yr.prototype);class qr extends hr{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,n)=>(t[e]=n)&&t||t),Object.create(null))}get typeId(){return Ln.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}qr[Symbol.toStringTag]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(qr.prototype);class Hr extends hr{constructor(t){super(),this.byteWidth=t}get typeId(){return Ln.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Hr[Symbol.toStringTag]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Hr.prototype);class Wr extends hr{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return Ln.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Wr[Symbol.toStringTag]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Wr.prototype);class Gr extends hr{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return Ln.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Gr[Symbol.toStringTag]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Gr.prototype);const Xr=(Kr=-1,()=>++Kr);var Kr;class Zr extends hr{constructor(t,e,n,r){super(),this.indices=e,this.dictionary=t,this.isOrdered=r||!1,this.id=null==n?Xr():"number"===typeof n?n:n.low}get typeId(){return Ln.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function Jr(t){let e=t;switch(t.typeId){case Ln.Decimal:return 4;case Ln.Timestamp:return 2;case Ln.Date:case Ln.Interval:return 1+e.unit;case Ln.Int:case Ln.Time:return+(e.bitWidth>32)+1;case Ln.FixedSizeList:return e.listSize;case Ln.FixedSizeBinary:return e.byteWidth;default:return 1}}Zr[Symbol.toStringTag]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Zr.prototype);class Qr{constructor(t,e,n,r,i,o,a){let s;this.type=t,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),this.childData=(o||[]).map((t=>t instanceof Qr?t:t.data)),i instanceof Qr?(this.stride=i.stride,this.values=i.values,this.typeIds=i.typeIds,this.nullBitmap=i.nullBitmap,this.valueOffsets=i.valueOffsets):(this.stride=Jr(t),i&&((s=i[0])&&(this.valueOffsets=s),(s=i[1])&&(this.values=s),(s=i[2])&&(this.nullBitmap=s),(s=i[3])&&(this.typeIds=s)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0,{valueOffsets:e,values:n,nullBitmap:r,typeIds:i}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),this.childData.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Kn(t,this.offset,this.offset+this.length)),e}clone(t,e=this.offset,n=this.length,r=this._nullCount,i=this,o=this.childData){return new Qr(t,e,n,r,i,o,this.dictionary)}slice(t,e){const{stride:n,typeId:r,childData:i}=this,o=+(0===this._nullCount)-1,a=16===r?n:1,s=this._sliceBuffers(t,e,n,r);return this.clone(this.type,this.offset+t,e,o,s,!i.length||this.valueOffsets?i:this._sliceChildren(i,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Ln.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);r[e>>3]=(1<<e-(-8&e))-1,n>0&&r.set(Wn(this.offset,e,this.nullBitmap),0);const i=this.buffers;return i[Cn.VALIDITY]=r,this.clone(this.type,0,t,n+(t-e),i)}_sliceBuffers(t,e,n,r){let i,{buffers:o}=this;return(i=o[Cn.TYPE])&&(o[Cn.TYPE]=i.subarray(t,t+e)),(i=o[Cn.OFFSET])&&(o[Cn.OFFSET]=i.subarray(t,t+e+1))||(i=o[Cn.DATA])&&(o[Cn.DATA]=6===r?i:i.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map((t=>t.slice(e,n)))}static new(t,e,n,r,i,o,a){switch(i instanceof Qr?i=i.buffers:i||(i=[]),t.typeId){case Ln.Null:return Qr.Null(t,e,n);case Ln.Int:return Qr.Int(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Dictionary:return Qr.Dictionary(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[],a);case Ln.Float:return Qr.Float(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Bool:return Qr.Bool(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Decimal:return Qr.Decimal(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Date:return Qr.Date(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Time:return Qr.Time(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Timestamp:return Qr.Timestamp(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Interval:return Qr.Interval(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.FixedSizeBinary:return Qr.FixedSizeBinary(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.DATA]||[]);case Ln.Binary:return Qr.Binary(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.OFFSET]||[],i[Cn.DATA]||[]);case Ln.Utf8:return Qr.Utf8(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.OFFSET]||[],i[Cn.DATA]||[]);case Ln.List:return Qr.List(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.OFFSET]||[],(o||[])[0]);case Ln.FixedSizeList:return Qr.FixedSizeList(t,e,n,r||0,i[Cn.VALIDITY],(o||[])[0]);case Ln.Struct:return Qr.Struct(t,e,n,r||0,i[Cn.VALIDITY],o||[]);case Ln.Map:return Qr.Map(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.OFFSET]||[],(o||[])[0]);case Ln.Union:return Qr.Union(t,e,n,r||0,i[Cn.VALIDITY],i[Cn.TYPE]||[],i[Cn.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${t.typeId}`)}static Null(t,e,n){return new Qr(t,e,n,0)}static Int(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Dictionary(t,e,n,r,i,o,a){return new Qr(t,e,n,r,[void 0,qe(t.indices.ArrayType,o),Ke(i)],[],a)}static Float(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Bool(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Decimal(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Date(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Time(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Timestamp(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Interval(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static FixedSizeBinary(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,qe(t.ArrayType,o),Ke(i)])}static Binary(t,e,n,r,i,o,a){return new Qr(t,e,n,r,[Ge(o),Ke(a),Ke(i)])}static Utf8(t,e,n,r,i,o,a){return new Qr(t,e,n,r,[Ge(o),Ke(a),Ke(i)])}static List(t,e,n,r,i,o,a){return new Qr(t,e,n,r,[Ge(o),void 0,Ke(i)],a?[a]:[])}static FixedSizeList(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,void 0,Ke(i)],o?[o]:[])}static Struct(t,e,n,r,i,o){return new Qr(t,e,n,r,[void 0,void 0,Ke(i)],o)}static Map(t,e,n,r,i,o,a){return new Qr(t,e,n,r,[Ge(o),void 0,Ke(i)],a?[a]:[])}static Union(t,e,n,r,i,o,a,s){const u=[void 0,void 0,Ke(i),qe(t.ArrayType,o)];return t.mode===jn.Sparse?new Qr(t,e,n,r,u,a):(u[Cn.OFFSET]=Ge(a),new Qr(t,e,n,r,u,s))}}Qr.prototype.childData=Object.freeze([]);function ti(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t)}function ei(t){if(!t||t.length<=0)return function(t){return!0};let e="",n=t.filter((t=>t===t));return n.length>0&&(e=`\n    switch (x) {${n.map((t=>`\n        case ${function(t){if("bigint"!==typeof t)return ti(t);if(Me)return`${ti(t)}n`;return`"${ti(t)}"`}(t)}:`)).join("")}\n            return false;\n    }`),t.length!==n.length&&(e=`if (x !== x) return false;\n${e}`),new Function("x",`${e}\nreturn true;`)}const ni=(t,e)=>(t*e+63&-64||64)/e;class ri{constructor(t,e=1){this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=t.length/e|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const e=this.stride,n=this.length*e,r=this.buffer.length;n>=r&&this._resize(ni(0===r?1*n:2*n,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=ni(t*this.stride,this.BYTES_PER_ELEMENT);const e=((t,e=0)=>t.length>=e?t.subarray(0,e):$e(new t.constructor(e),t,0))(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=$e(new this.ArrayType(t),this.buffer)}}ri.prototype.offset=0;class ii extends ri{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}class oi extends ii{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:n}=this.reserve(t-this.length+1),r=t>>3,i=t%8,o=n[r]>>i&1;return e?0===o&&(n[r]|=1<<i,++this.numValid):1===o&&(n[r]&=~(1<<i),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class ai extends ii{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,e){const n=this.length-1,r=this.reserve(t-n+1).buffer;return n<t++&&r.fill(r[n],n,t),r[t]=r[t-1]+e,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}class si extends ri{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?Se:Te)}set(t,e){switch(this.reserve(t-this.length+1),typeof e){case"bigint":this.buffer64[t]=e;break;case"number":this.buffer[t*this.stride]=e;break;default:this.buffer.set(e,t*this.stride)}return this}_resize(t){const e=super._resize(t),n=e.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return Me&&(this.buffer64=new this.ArrayType64(e.buffer,e.byteOffset,n)),e}}class ui{constructor({type:t,nullValues:e}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=e,this.stride=Jr(t),this._nulls=new oi,e&&e.length>0&&(this._isValid=ei(e))}static new(t){}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}static throughIterable(t){return function(t){const{queueingStrategy:e="count"}=t,{highWaterMark:n=("bytes"!==e?1e3:16384)}=t,r="bytes"!==e?"length":"byteLength";return function*(e){let i=0,o=ui.new(t);for(const t of e)o.append(t)[r]>=n&&++i&&(yield o.toVector());(o.finish().length>0||0===i)&&(yield o.toVector())}}(t)}static throughAsyncIterable(t){return function(t){const{queueingStrategy:e="count"}=t,{highWaterMark:n=("bytes"!==e?1e3:16384)}=t,r="bytes"!==e?"length":"byteLength";return async function*(e){let i=0,o=ui.new(t);for await(const t of e)o.append(t)[r]>=n&&++i&&(yield o.toVector());(o.finish().length>0||0===i)&&(yield o.toVector())}}(t)}toVector(){return Nn.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),this._typeIds&&(t+=this._typeIds.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce(((t,e)=>t+e.reservedByteLength),t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t,e=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){const t=[],e=this._values,n=this._offsets,r=this._typeIds,{length:i,nullCount:o}=this;r?(t[Cn.TYPE]=r.flush(i),n&&(t[Cn.OFFSET]=n.flush(i))):n?(e&&(t[Cn.DATA]=e.flush(n.last())),t[Cn.OFFSET]=n.flush(i)):e&&(t[Cn.DATA]=e.flush(i)),o>0&&(t[Cn.VALIDITY]=this._nulls.flush(i));const a=Qr.new(this.type,0,i,o,t,this.children.map((t=>t.flush())));return this.clear(),a}finish(){return this.finished=!0,this.children.forEach((t=>t.finish())),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((t=>t.clear())),this}}ui.prototype.length=1,ui.prototype.stride=1,ui.prototype.children=null,ui.prototype.finished=!1,ui.prototype.nullValues=null,ui.prototype._isValid=()=>!0;class ci extends ui{constructor(t){super(t),this._values=new ii(new this.ArrayType(0),this.stride)}setValue(t,e){const n=this._values;return n.reserve(t-n.length+1),super.setValue(t,e)}}class li extends ui{constructor(t){super(t),this._pendingLength=0,this._offsets=new ai}setValue(t,e){const n=this._pending||(this._pending=new Map),r=n.get(t);r&&(this._pendingLength-=r.length),this._pendingLength+=e.length,n.set(t,e)}setValid(t,e){return!!super.setValid(t,e)||((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,e=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,e),this}}class fi extends ui{constructor(t){super(t),this._values=new oi}setValue(t,e){this._values.set(t,+e)}}class hi extends ui{setValue(t,e){}setValid(t,e){return this.length=Math.max(t+1,this.length),e}}class di extends ci{}class pi extends di{}class yi extends di{}class gi extends ci{}class mi extends ui{constructor({type:t,nullValues:e,dictionaryHashFunction:n}){super({type:new Zr(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=ui.new({type:this.type.indices,nullValues:e}),this.dictionary=ui.new({type:this.type.dictionary,nullValues:null}),"function"===typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,e){const n=this.indices;return e=n.setValid(t,e),this.length=n.length,e}setValue(t,e){let n=this._keysToIndices,r=this.valueToKey(e),i=n[r];return void 0===i&&(n[r]=i=this._dictionaryOffset+this.dictionary.append(e).length-1),this.indices.setValue(t,i)}flush(){const t=this.type,e=this._dictionary,n=this.dictionary.toVector(),r=this.indices.flush().clone(t);return r.dictionary=e?e.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=r.dictionary,this.clear(),r}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return"string"===typeof t?t:`${t}`}}class bi extends ci{}const vi=new Float64Array(1),_i=new Uint32Array(vi.buffer);function wi(t){let e=(31744&t)>>10,n=(1023&t)/1024,r=(-1)**((32768&t)>>15);switch(e){case 31:return r*(n?NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*2**(e-15)*(1+n)}function xi(t){if(t!==t)return 32256;vi[0]=t;let e=(2147483648&_i[1])>>16&65535,n=2146435072&_i[1],r=0;return n>=1089470464?_i[0]>0?n=31744:(n=(2080374784&n)>>16,r=(1048575&_i[1])>>10):n<=1056964608?(r=1048576+(1048575&_i[1]),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=512+(1048575&_i[1])>>10),e|n|65535&r}class Mi extends ci{}class Si extends Mi{setValue(t,e){this._values.set(t,xi(e))}}class Ai extends Mi{setValue(t,e){this._values.set(t,e)}}class Ti extends Mi{setValue(t,e){this._values.set(t,e)}}const Ii=Symbol.for("isArrowBigNum");function Bi(t,...e){return 0===e.length?Object.setPrototypeOf(qe(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}function Ei(...t){return Bi.apply(this,t)}function ki(...t){return Bi.apply(this,t)}function Oi(...t){return Bi.apply(this,t)}function Ni(t){let e,n,{buffer:r,byteOffset:i,length:o,signed:a}=t,s=new Int32Array(r,i,o),u=0,c=0,l=s.length;for(;c<l;)n=s[c++],e=s[c++],a||(e>>>=0),u+=(n>>>0)+e*c**32;return u}let Di,Fi;function Li(t){let e="",n=new Uint32Array(2),r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),o=-1,a=r.length-1;do{for(n[0]=r[o=0];o<a;)r[o++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+r[o];r[o]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}Bi.prototype[Ii]=!0,Bi.prototype.toJSON=function(){return`"${Di(this)}"`},Bi.prototype.valueOf=function(){return Ni(this)},Bi.prototype.toString=function(){return Di(this)},Bi.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return Ni(this);case"string":return Di(this);case"default":return Fi(this)}return Di(this)},Object.setPrototypeOf(Ei.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(ki.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(Oi.prototype,Object.create(Uint32Array.prototype)),Object.assign(Ei.prototype,Bi.prototype,{constructor:Ei,signed:!0,TypedArray:Int32Array,BigIntArray:Se}),Object.assign(ki.prototype,Bi.prototype,{constructor:ki,signed:!1,TypedArray:Uint32Array,BigIntArray:Te}),Object.assign(Oi.prototype,Bi.prototype,{constructor:Oi,signed:!0,TypedArray:Uint32Array,BigIntArray:Te}),Me?(Fi=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Li(t),Di=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:Li(t)):(Di=Li,Fi=Di);class Ci{static new(t,e){switch(e){case!0:return new Ei(t);case!1:return new ki(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Se:return new Ei(t)}return 16===t.byteLength?new Oi(t):new ki(t)}static signed(t){return new Ei(t)}static unsigned(t){return new ki(t)}static decimal(t){return new Oi(t)}constructor(t,e){return Ci.new(t,e)}}class Ui extends ci{setValue(t,e){this._values.set(t,e)}}class Ri extends Ui{}class zi extends Ui{}class ji extends Ui{}class Pi extends Ui{constructor(t){t.nullValues&&(t.nullValues=t.nullValues.map(Hi)),super(t),this._values=new si(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(t){return super.isValid(Hi(t))}}class Vi extends Ui{}class $i extends Ui{}class Yi extends Ui{}class qi extends Ui{constructor(t){t.nullValues&&(t.nullValues=t.nullValues.map(Hi)),super(t),this._values=new si(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(t){return super.isValid(Hi(t))}}const Hi=(Wi={BigIntArray:Se},t=>(ArrayBuffer.isView(t)&&(Wi.buffer=t.buffer,Wi.byteOffset=t.byteOffset,Wi.byteLength=t.byteLength,t=Fi(Wi),Wi.buffer=null),t));var Wi;class Gi extends ci{}class Xi extends Gi{}class Ki extends Gi{}class Zi extends Gi{}class Ji extends Gi{}class Qi extends ci{}class to extends Qi{}class eo extends Qi{}class no extends Qi{}class ro extends Qi{}class io extends ci{}class oo extends io{}class ao extends io{}class so extends li{constructor(t){super(t),this._values=new ri(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,Ke(e))}_flushPending(t,e){const n=this._offsets,r=this._values.reserve(e).buffer;let i,o=0,a=0,s=0;for([o,i]of t)void 0===i?n.set(o,0):(a=i.length,r.set(i,s),n.set(o,a),s+=a)}}class uo extends li{constructor(t){super(t),this._values=new ri(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,me(e))}_flushPending(t,e){}}uo.prototype._flushPending=so.prototype._flushPending;class co{get length(){return this._values.length}get(t){return this._values[t]}clear(){return this._values=null,this}bind(t){return t instanceof Nn?t:(this._values=t,this)}}const lo=Symbol.for("parent"),fo=Symbol.for("rowIndex"),ho=Symbol.for("keyToIdx"),po=Symbol.for("idxToVal"),yo=Symbol.for("nodejs.util.inspect.custom");class go{constructor(t,e){this[lo]=t,this.size=e}entries(){return this[Symbol.iterator]()}has(t){return void 0!==this.get(t)}get(t){let e;if(null!==t&&void 0!==t){const n=this[ho]||(this[ho]=new Map);let r=n.get(t);if(void 0!==r){const t=this[po]||(this[po]=new Array(this.size));void 0!==(e=t[r])||(t[r]=e=this.getValue(r))}else if((r=this.getIndex(t))>-1){n.set(t,r);const i=this[po]||(this[po]=new Array(this.size));void 0!==(e=i[r])||(i[r]=e=this.getValue(r))}}return e}set(t,e){if(null!==t&&void 0!==t){const n=this[ho]||(this[ho]=new Map);let r=n.get(t);if(void 0===r&&n.set(t,r=this.getIndex(t)),r>-1){(this[po]||(this[po]=new Array(this.size)))[r]=this.setValue(r,e)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(t){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){const t=this.keys(),e=this.values(),n=this[ho]||(this[ho]=new Map),r=this[po]||(this[po]=new Array(this.size));for(let i,o,a,s,u=0;!(a=t.next()).done&&!(s=e.next()).done;++u)i=a.value,o=s.value,r[u]=o,n.has(i)||n.set(i,u),yield[i,o]}forEach(t,e){const n=this.keys(),r=this.values(),i=void 0===e?t:(n,r,i)=>t.call(e,n,r,i),o=this[ho]||(this[ho]=new Map),a=this[po]||(this[po]=new Array(this.size));for(let s,u,c,l,f=0;!(c=n.next()).done&&!(l=r.next()).done;++f)s=c.value,u=l.value,a[f]=u,o.has(s)||o.set(s,f),i(u,s,this)}toArray(){return[...this.values()]}toJSON(){const t={};return this.forEach(((e,n)=>t[n]=e)),t}inspect(){return this.toString()}[yo](){return this.toString()}toString(){const t=[];return this.forEach(((e,n)=>{n=ti(n),e=ti(e),t.push(`${n}: ${e}`)})),`{ ${t.join(", ")} }`}}go[Symbol.toStringTag]=(t=>(Object.defineProperties(t,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[lo]:{writable:!0,enumerable:!1,configurable:!1,value:null},[fo]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),t[Symbol.toStringTag]="Row"))(go.prototype);class mo extends go{constructor(t){return super(t,t.length),_o(this)}keys(){return this[lo].getChildAt(0)[Symbol.iterator]()}values(){return this[lo].getChildAt(1)[Symbol.iterator]()}getKey(t){return this[lo].getChildAt(0).get(t)}getIndex(t){return this[lo].getChildAt(0).indexOf(t)}getValue(t){return this[lo].getChildAt(1).get(t)}setValue(t,e){this[lo].getChildAt(1).set(t,e)}}class bo extends go{constructor(t){return super(t,t.type.children.length),vo(this)}*keys(){for(const t of this[lo].type.children)yield t.name}*values(){for(const t of this[lo].type.children)yield this[t.name]}getKey(t){return this[lo].type.children[t].name}getIndex(t){return this[lo].type.children.findIndex((e=>e.name===t))}getValue(t){return this[lo].getChildAt(t).get(this[fo])}setValue(t,e){return this[lo].getChildAt(t).set(this[fo],e)}}Object.setPrototypeOf(go.prototype,Map.prototype);const vo=(()=>{const t={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let n=-1,r=e[ho]||(e[ho]=new Map);const i=t=>function(){return this.get(t)},o=t=>function(e){return this.set(t,e)};for(const a of e.keys())r.set(a,++n),t.get=i(a),t.set=o(a),e.hasOwnProperty(a)||(t.enumerable=!0,Object.defineProperty(e,a,t)),e.hasOwnProperty(n)||(t.enumerable=!1,Object.defineProperty(e,n,t));return t.get=t.set=null,e}})(),_o=(()=>{if("undefined"===typeof Proxy)return vo;const t=go.prototype.has,e=go.prototype.get,n=go.prototype.set,r=go.prototype.getKey,i={isExtensible:()=>!1,deleteProperty:()=>!1,preventExtensions:()=>!0,ownKeys:t=>[...t.keys()].map((t=>`${t}`)),has(t,e){switch(e){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case lo:case fo:case po:case ho:case yo:return!0}return"number"!==typeof e||t.has(e)||(e=t.getKey(e)),t.has(e)},get(n,i,o){switch(i){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case lo:case fo:case po:case ho:case yo:return Reflect.get(n,i,o)}return"number"!==typeof i||t.call(o,i)||(i=r.call(o,i)),e.call(o,i)},set(e,i,o,a){switch(i){case lo:case fo:case po:case ho:return Reflect.set(e,i,o,a);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"!==typeof i||t.call(a,i)||(i=r.call(a,i)),!!t.call(a,i)&&!!n.call(a,i,o)}};return t=>new Proxy(t,i)})();function wo(t,e,n){const r=t.length,i=e>-1?e:r+e%r;return n?n(t,i):i}let xo;function Mo(t,e,n,r){let{length:i=0}=t,o="number"!==typeof e?0:e,a="number"!==typeof n?i:n;return o<0&&(o=(o%i+i)%i),a<0&&(a=(a%i+i)%i),a<o&&(xo=o,o=a,a=xo),a>i&&(a=i),r?r(t,o,a):[o,a]}const So=Me?xe(0):0,Ao=t=>t!==t;function To(t){let e=typeof t;if("object"!==e||null===t)return Ao(t)?Ao:"bigint"!==e?e=>e===t:e=>So+e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&Tn(t,e):t instanceof Map?function(t){let e=-1;const n=[];return t.forEach((t=>n[++e]=To(t))),Io(n)}(t):Array.isArray(t)?function(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=To(t[n]);return Io(e)}(t):t instanceof Nn?function(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=To(t.get(n));return Io(e)}(t):function(t){const e=Object.keys(t);if(0===e.length)return()=>!1;const n=[];for(let r=-1,i=e.length;++r<i;)n[r]=To(t[e[r]]);return Io(n,e)}(t)}function Io(t,e){return n=>{if(!n||"object"!==typeof n)return!1;switch(n.constructor){case Array:return function(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}(t,n);case Map:case mo:case bo:return Bo(t,n,n.keys());case Object:case void 0:return Bo(t,n,e||Object.keys(n))}return n instanceof Nn&&function(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}(t,n)}}function Bo(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let a=0,s=t.length,u=o.next(),c=r.next(),l=i.next();for(;a<s&&!c.done&&!l.done&&!u.done&&(c.value===l.value&&t[a](u.value));++a,c=r.next(),l=i.next(),u=o.next());return!!(a===s&&c.done&&l.done&&u.done)||(r.return&&r.return(),i.return&&i.return(),o.return&&o.return(),!1)}class Eo extends Nn{constructor(t,e=[],n=function(t){let e=new Uint32Array((t||[]).length+1),n=e[0]=0,r=e.length;for(let i=0;++i<r;)e[i]=n+=t[i-1].length;return e}(e)){super(),this._nullCount=-1,this._type=t,this._chunks=e,this._chunkOffsets=n,this._length=n[n.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...t){return Uo(Nn,t)}static concat(...t){const e=Eo.flatten(...t);return new Eo(e[0].type,e)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce(((t,e)=>t+e.byteLength),0)}get nullCount(){let t=this._nullCount;return t<0&&(this._nullCount=t=this._chunks.reduce(((t,{nullCount:e})=>t+e),0)),t}get indices(){if(hr.isDictionary(this._type)){if(!this._indices){const t=this._chunks;this._indices=1===t.length?t[0].indices:Eo.concat(...t.map((t=>t.indices)))}return this._indices}return null}get dictionary(){return hr.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}*[Symbol.iterator](){for(const t of this._chunks)yield*t}clone(t=this._chunks){return new Eo(this._type,t)}concat(...t){return this.clone(Eo.flatten(this,...t))}slice(t,e){return Mo(this,t,e,this._sliceInternal)}getChildAt(t){if(t<0||t>=this._numChildren)return null;let e,n,r,i=this._children||(this._children=[]);return(e=i[t])?e:(n=(this._type.children||[])[t])&&(r=this._chunks.map((e=>e.getChildAt(t))).filter((t=>null!=t)),r.length>0)?i[t]=new Eo(n.type,r):null}search(t,e){let n=t,r=this._chunkOffsets,i=r.length-1;if(n<0)return null;if(n>=r[i])return null;if(i<=1)return e?e(this,0,n):[0,n];let o=0,a=0,s=0;do{if(o+1===i)return e?e(this,o,n-a):[o,n-a];s=o+(i-o)/2|0,n>=r[s]?o=s:i=s}while(n<r[i]&&n>=(a=r[o]));return null}isValid(t){return!!this.search(t,this.isValidInternal)}get(t){return this.search(t,this.getInternal)}set(t,e){this.search(t,(({chunks:t},n,r)=>t[n].set(r,e)))}indexOf(t,e){return e&&"number"===typeof e?this.search(e,((e,n,r)=>this.indexOfInternal(e,n,r,t))):this.indexOfInternal(this,0,Math.max(0,e||0),t)}toArray(){const{chunks:t}=this,e=t.length;let n=this._type.ArrayType;if(e<=0)return new n(0);if(e<=1)return t[0].toArray();let r=0,i=new Array(e);for(let s=-1;++s<e;)r+=(i[s]=t[s].toArray()).length;n!==i[0].constructor&&(n=i[0].constructor);let o=new n(r),a=n===Array?Oo:ko;for(let s=-1,u=0;++s<e;)u=a(i[s],o,u);return o}getInternal({_chunks:t},e,n){return t[e].get(n)}isValidInternal({_chunks:t},e,n){return t[e].isValid(n)}indexOfInternal({_chunks:t},e,n,r){let i=e-1,o=t.length,a=n,s=0,u=-1;for(;++i<o;){if(~(u=t[i].indexOf(r,a)))return s+u;a=0,s+=t[i].length}return-1}_sliceInternal(t,e,n){const r=[],{chunks:i,_chunkOffsets:o}=t;for(let a=-1,s=i.length;++a<s;){const t=i[a],s=t.length,u=o[a];if(u>=n)break;if(e>=u+s)continue;if(u>=e&&u+s<=n){r.push(t);continue}const c=Math.max(0,e-u),l=Math.min(n-u,s);r.push(t.slice(c,l))}return t.clone(r)}}const ko=(t,e,n)=>(e.set(t,n),n+t.length),Oo=(t,e,n)=>{let r=n;for(let i=-1,o=t.length;++i<o;)e[r++]=t[i];return r};class No extends Eo{constructor(t,e=[],n){if(e=Eo.flatten(...e),super(t.type,e,n),this._field=t,1===e.length&&!(this instanceof Do))return new Do(t,e[0],this._chunkOffsets)}static new(...t){let[e,n,...r]=t;"string"===typeof e||e instanceof qo||(n=e,e="");const i=Eo.flatten(Array.isArray(n)?[...n,...r]:n instanceof Nn?[n,...r]:[Nn.new(n,...r)]);if("string"===typeof e){const t=i[0].data.type;e=new qo(e,t,!0)}else!e.nullable&&i.some((({nullCount:t})=>t>0))&&(e=e.clone({nullable:!0}));return new No(e,i)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(t=this._chunks){return new No(this._field,t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,n,r,i=this._children||(this._children=[]);return(e=i[t])?e:(n=(this.type.children||[])[t])&&(r=this._chunks.map((e=>e.getChildAt(t))).filter((t=>null!=t)),r.length>0)?i[t]=new No(n,r):null}}class Do extends No{constructor(t,e,n){super(t,[e],n),this._chunk=e}search(t,e){return e?e(this,0,t):[0,t]}isValid(t){return this._chunk.isValid(t)}get(t){return this._chunk.get(t)}set(t,e){this._chunk.set(t,e)}indexOf(t,e){return this._chunk.indexOf(t,e)}}const Fo=Array.isArray,Lo=(t,e)=>zo(t,e,[],0),Co=t=>$o(t,[[],[]]),Uo=(t,e)=>jo(t,e,[],0),Ro=(t,e)=>Po(t,e,[],0);function zo(t,e,n,r){let i,o=r,a=-1,s=e.length;for(;++a<s;)Fo(i=e[a])?o=zo(t,i,n,o).length:i instanceof t&&(n[o++]=i);return n}function jo(t,e,n,r){let i,o=r,a=-1,s=e.length;for(;++a<s;)Fo(i=e[a])?o=jo(t,i,n,o).length:i instanceof Eo?o=jo(t,i.chunks,n,o).length:i instanceof t&&(n[o++]=i);return n}function Po(t,e,n,r){let i,o=r,a=-1,s=e.length;for(;++a<s;)Fo(i=e[a])?o=Po(t,i,n,o).length:i instanceof t?o=zo(Nn,i.schema.fields.map(((t,e)=>i.getChildAt(e))),n,o).length:i instanceof Nn&&(n[o++]=i);return n}const Vo=(t,[e,n],r)=>(t[0][r]=e,t[1][r]=n,t);function $o(t,e){let n,r;switch(r=t.length){case 0:return e;case 1:if(n=e[0],!t[0])return e;if(Fo(t[0]))return $o(t[0],e);t[0]instanceof Qr||t[0]instanceof Nn||t[0]instanceof hr||([n,t]=Object.entries(t[0]).reduce(Vo,e));break;default:Fo(n=t[r-1])?t=Fo(t[0])?t[0]:t.slice(0,r-1):(t=Fo(t[0])?t[0]:t,n=[])}let i,o,a=-1,s=-1,u=-1,c=t.length,[l,f]=e;for(;++u<c;)o=t[u],o instanceof No&&(f[++s]=o)?l[++a]=o.field.clone(n[u],o.type,!0):(({[u]:i=u}=n),o instanceof hr&&(f[++s]=o)?l[++a]=qo.new(i,o,!0):o&&o.type&&(f[++s]=o)&&(o instanceof Qr&&(f[s]=o=Nn.new(o)),l[++a]=qo.new(i,o.type,!0)));return e}class Yo{constructor(t=[],e,n){this.fields=t||[],this.metadata=e||new Map,n||(n=Wo(t)),this.dictionaries=n}static from(...t){return Yo.new(t[0],t[1])}static new(...t){return new Yo(Co(t)[0])}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}compareTo(t){return fr.compareSchemas(this,t)}select(...t){const e=t.reduce(((t,e)=>(t[e]=!0)&&t),Object.create(null));return new Yo(this.fields.filter((t=>e[t.name])),this.metadata)}selectAt(...t){return new Yo(t.map((t=>this.fields[t])).filter(Boolean),this.metadata)}assign(...t){const e=t[0]instanceof Yo?t[0]:new Yo(Lo(qo,t)),n=[...this.fields],r=Ho(Ho(new Map,this.metadata),e.metadata),i=e.fields.filter((t=>{const e=n.findIndex((e=>e.name===t.name));return!~e||(n[e]=t.clone({metadata:Ho(Ho(new Map,n[e].metadata),t.metadata)}))&&!1})),o=Wo(i,new Map);return new Yo([...n,...i],r,new Map([...this.dictionaries,...o]))}}class qo{constructor(t,e,n=!1,r){this.name=t,this.type=e,this.nullable=n,this.metadata=r||new Map}static new(...t){let[e,n,r,i]=t;return t[0]&&"object"===typeof t[0]&&(({name:e}=t[0]),void 0===n&&(n=t[0].type),void 0===r&&(r=t[0].nullable),void 0===i&&(i=t[0].metadata)),new qo(`${e}`,n,r,i)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}compareTo(t){return fr.compareField(this,t)}clone(...t){let[e,n,r,i]=t;return t[0]&&"object"===typeof t[0]?({name:e=this.name,type:n=this.type,nullable:r=this.nullable,metadata:i=this.metadata}=t[0]):[e=this.name,n=this.type,r=this.nullable,i=this.metadata]=t,qo.new(e,n,r,i)}}function Ho(t,e){return new Map([...t||new Map,...e||new Map])}function Wo(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const r=t[n].type;if(hr.isDictionary(r))if(e.has(r.id)){if(e.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(r.id,r.dictionary);r.children&&r.children.length>0&&Wo(r.children,e)}return e}Yo.prototype.fields=null,Yo.prototype.metadata=null,Yo.prototype.dictionaries=null,qo.prototype.type=null,qo.prototype.name=null,qo.prototype.nullable=null,qo.prototype.metadata=null;class Go extends li{constructor(t){super(t),this._run=new co,this._offsets=new ai}addChild(t,e="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new $r(new qo(e,t.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(t){const e=this._run,n=this._offsets,r=this._setValue;let i,o=0;for([o,i]of t)void 0===i?n.set(o,0):(n.set(o,i.length),r(this,o,e.bind(i)))}}class Xo extends ui{constructor(){super(...arguments),this._run=new co}setValue(t,e){super.setValue(t,this._run.bind(e))}addChild(t,e="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const n=this.children.push(t);return this.type=new Wr(this.type.listSize,new qo(e,t.type,!0)),n}clear(){return this._run.clear(),super.clear()}}class Ko extends li{set(t,e){return super.set(t,e)}setValue(t,e){e=e instanceof Map?e:new Map(Object.entries(e));const n=this._pending||(this._pending=new Map),r=n.get(t);r&&(this._pendingLength-=r.size),this._pendingLength+=e.size,n.set(t,e)}addChild(t,e=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Gr(new qo(e,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const e=this._offsets,n=this._setValue;t.forEach(((t,r)=>{void 0===t?e.set(r,0):(e.set(r,t.size),n(this,r,t))}))}}class Zo extends ui{addChild(t,e=`${this.numChildren}`){const n=this.children.push(t);return this.type=new Yr([...this.type.children,new qo(e,t.type,!0)]),n}}class Jo extends ui{constructor(t){super(t),this._typeIds=new ii(new Int8Array(0),1),"function"===typeof t.valueToChildTypeId&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,e){return this.set(this.length,t,e)}set(t,e,n){return void 0===n&&(n=this._valueToChildTypeId(this,e,t)),this.setValid(t,this.isValid(e))&&this.setValue(t,e,n),this}setValue(t,e,n){this._typeIds.set(t,n),super.setValue(t,e)}addChild(t,e=`${this.children.length}`){const n=this.children.push(t),{type:{children:r,mode:i,typeIds:o}}=this,a=[...r,new qo(e,t.type)];return this.type=new qr(i,[...o,n],a),n}_valueToChildTypeId(t,e,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class Qo extends Jo{}class ta extends Jo{constructor(t){super(t),this._offsets=new ii(new Int32Array(0))}setValue(t,e,n){const r=this.type.typeIdToChildIndex[n];return this._offsets.set(t,this.getChildAt(r).length),super.setValue(t,e,n)}}class ea extends Qn{}const na=(t,e,n)=>{t[e]=n%4294967296|0,t[e+1]=n/4294967296|0},ra=(t,e,n,r)=>{const{[n]:i,[n+1]:o}=e;null!=i&&null!=o&&t.set(r.subarray(0,o-i),i)},ia=({values:t},e,n)=>{((t,e,n)=>{t[e]=n/864e5|0})(t,e,n.valueOf())},oa=({values:t},e,n)=>{na(t,2*e,n.valueOf())},aa=({stride:t,values:e},n,r)=>{e[t*n]=r},sa=({stride:t,values:e},n,r)=>{e[t*n]=xi(r)},ua=(t,e,n)=>{switch(typeof n){case"bigint":t.values64[e]=n;break;case"number":t.values[e*t.stride]=n;break;default:const r=n,{stride:i,ArrayType:o}=t,a=qe(o,r);t.values.set(a.subarray(0,i),i*e)}},ca=({values:t},e,n)=>na(t,2*e,n/1e3),la=({values:t},e,n)=>na(t,2*e,n),fa=({values:t},e,n)=>((t,e,n)=>{t[e]=1e3*n%4294967296|0,t[e+1]=1e3*n/4294967296|0})(t,2*e,n),ha=({values:t},e,n)=>((t,e,n)=>{t[e]=1e6*n%4294967296|0,t[e+1]=1e6*n/4294967296|0})(t,2*e,n),da=({values:t,stride:e},n,r)=>{t[e*n]=r},pa=({values:t,stride:e},n,r)=>{t[e*n]=r},ya=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},ga=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},ma=(t,e,n)=>{const r=t.typeIdToChildIndex[t.typeIds[e]],i=t.getChildAt(r);i&&i.set(t.valueOffsets[e],n)},ba=(t,e,n)=>{const r=t.typeIdToChildIndex[t.typeIds[e]],i=t.getChildAt(r);i&&i.set(e,n)},va=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},_a=({values:t},e,n)=>{t[e]=12*n[0]+n[1]%12};ea.prototype.visitBool=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},ea.prototype.visitInt=(t,e,n)=>{t.type.bitWidth<64?aa(t,e,n):ua(t,e,n)},ea.prototype.visitInt8=aa,ea.prototype.visitInt16=aa,ea.prototype.visitInt32=aa,ea.prototype.visitInt64=ua,ea.prototype.visitUint8=aa,ea.prototype.visitUint16=aa,ea.prototype.visitUint32=aa,ea.prototype.visitUint64=ua,ea.prototype.visitFloat=(t,e,n)=>{t.type.precision!==zn.HALF?aa(t,e,n):sa(t,e,n)},ea.prototype.visitFloat16=sa,ea.prototype.visitFloat32=aa,ea.prototype.visitFloat64=aa,ea.prototype.visitUtf8=({values:t,valueOffsets:e},n,r)=>{ra(t,e,n,me(r))},ea.prototype.visitBinary=({values:t,valueOffsets:e},n,r)=>ra(t,e,n,r),ea.prototype.visitFixedSizeBinary=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},ea.prototype.visitDate=(t,e,n)=>{t.type.unit===Un.DAY?ia(t,e,n):oa(t,e,n)},ea.prototype.visitDateDay=ia,ea.prototype.visitDateMillisecond=oa,ea.prototype.visitTimestamp=(t,e,n)=>{switch(t.type.unit){case Rn.SECOND:return ca(t,e,n);case Rn.MILLISECOND:return la(t,e,n);case Rn.MICROSECOND:return fa(t,e,n);case Rn.NANOSECOND:return ha(t,e,n)}},ea.prototype.visitTimestampSecond=ca,ea.prototype.visitTimestampMillisecond=la,ea.prototype.visitTimestampMicrosecond=fa,ea.prototype.visitTimestampNanosecond=ha,ea.prototype.visitTime=(t,e,n)=>{switch(t.type.unit){case Rn.SECOND:return da(t,e,n);case Rn.MILLISECOND:return pa(t,e,n);case Rn.MICROSECOND:return ya(t,e,n);case Rn.NANOSECOND:return ga(t,e,n)}},ea.prototype.visitTimeSecond=da,ea.prototype.visitTimeMillisecond=pa,ea.prototype.visitTimeMicrosecond=ya,ea.prototype.visitTimeNanosecond=ga,ea.prototype.visitDecimal=({values:t},e,n)=>{t.set(n.subarray(0,4),4*e)},ea.prototype.visitList=(t,e,n)=>{const r=t.getChildAt(0),i=t.valueOffsets;for(let o=-1,a=i[e],s=i[e+1];a<s;)r.set(a++,n.get(++o))},ea.prototype.visitStruct=(t,e,n)=>{const r=n instanceof Map?(i=e,o=n,(t,e,n)=>t&&t.set(i,o.get(e.name))):n instanceof Nn?((t,e)=>(n,r,i)=>n&&n.set(t,e.get(i)))(e,n):Array.isArray(n)?((t,e)=>(n,r,i)=>n&&n.set(t,e[i]))(e,n):((t,e)=>(n,r,i)=>n&&n.set(t,e[r.name]))(e,n);var i,o;t.type.children.forEach(((e,n)=>r(t.getChildAt(n),e,n)))},ea.prototype.visitUnion=(t,e,n)=>{t.type.mode===jn.Dense?ma(t,e,n):ba(t,e,n)},ea.prototype.visitDenseUnion=ma,ea.prototype.visitSparseUnion=ba,ea.prototype.visitDictionary=(t,e,n)=>{const r=t.getKey(e);null!==r&&t.setValue(r,n)},ea.prototype.visitInterval=(t,e,n)=>{t.type.unit===Pn.DAY_TIME?va(t,e,n):_a(t,e,n)},ea.prototype.visitIntervalDayTime=va,ea.prototype.visitIntervalYearMonth=_a,ea.prototype.visitFixedSizeList=(t,e,n)=>{const r=t.getChildAt(0),{stride:i}=t;for(let o=-1,a=e*i;++o<i;)r.set(a+o,n.get(o))},ea.prototype.visitMap=(t,e,n)=>{const r=t.getChildAt(0),i=t.valueOffsets,o=n instanceof Map?[...n]:Object.entries(n);for(let a=-1,s=i[e],u=i[e+1];s<u;)r.set(s++,o[++a])};const wa=new ea;const xa=new class extends Qn{visitNull(){return hi}visitBool(){return fi}visitInt(){return Ui}visitInt8(){return Ri}visitInt16(){return zi}visitInt32(){return ji}visitInt64(){return Pi}visitUint8(){return Vi}visitUint16(){return $i}visitUint32(){return Yi}visitUint64(){return qi}visitFloat(){return Mi}visitFloat16(){return Si}visitFloat32(){return Ai}visitFloat64(){return Ti}visitUtf8(){return uo}visitBinary(){return so}visitFixedSizeBinary(){return bi}visitDate(){return di}visitDateDay(){return pi}visitDateMillisecond(){return yi}visitTimestamp(){return Qi}visitTimestampSecond(){return to}visitTimestampMillisecond(){return eo}visitTimestampMicrosecond(){return no}visitTimestampNanosecond(){return ro}visitTime(){return Gi}visitTimeSecond(){return Xi}visitTimeMillisecond(){return Ki}visitTimeMicrosecond(){return Zi}visitTimeNanosecond(){return Ji}visitDecimal(){return gi}visitList(){return Go}visitStruct(){return Zo}visitUnion(){return Jo}visitDenseUnion(){return ta}visitSparseUnion(){return Qo}visitDictionary(){return mi}visitInterval(){return io}visitIntervalDayTime(){return oo}visitIntervalYearMonth(){return ao}visitFixedSizeList(){return Xo}visitMap(){return Ko}};var Ma;ui.new=function t(e){const n=e.type,r=new(xa.getVisitFn(n)())(e);if(n.children&&n.children.length>0){const i=e.children||[],o={nullValues:e.nullValues},a=Array.isArray(i)?(t,e)=>i[e]||o:({name:t})=>i[t]||o;n.children.forEach(((e,n)=>{const{type:i}=e,o=a(e,n);r.children.push(t({...o,type:i}))}))}return r},Object.keys(Ln).map((t=>Ln[t])).filter((t=>"number"===typeof t&&t!==Ln.NONE)).forEach((t=>{xa.visit(t).prototype._setValue=wa.getVisitFn(t)})),uo.prototype._setValue=wa.visitBinary,function(t){!function(e){!function(e){!function(e){class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Dn.apache.arrow.flatbuf.MetadataVersion.V1}schema(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new Dn.apache.arrow.flatbuf.Schema).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(e,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+r)+24*e,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(e,n){let r=this.bb.__offset(this.bb_pos,10);return r?(n||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+r)+24*e,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(4)}static addVersion(t,e){t.addFieldInt16(0,e,Dn.apache.arrow.flatbuf.MetadataVersion.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static createFooter(t,e,r,i,o){return n.startFooter(t),n.addVersion(t,e),n.addSchema(t,r),n.addDictionaries(t,i),n.addRecordBatches(t,o),n.endFooter(t)}}e.Footer=n}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(Ma||(Ma={})),function(t){!function(t){!function(t){!function(t){t.Block=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(t,e,n,r){return t.prep(8,24),t.writeInt64(r),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(Ma||(Ma={}));var Sa=ne.Long,Aa=ne.Builder,Ta=ne.ByteBuffer,Ia=Ma.apache.arrow.flatbuf.Block,Ba=Ma.apache.arrow.flatbuf.Footer;class Ea{constructor(t,e=$n.V4,n,r){this.schema=t,this.version=e,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new Ta(Ke(t));const e=Ba.getRootAsFooter(t),n=Yo.decode(e.schema());return new ka(n,e)}static encode(t){const e=new Aa,n=Yo.encode(e,t.schema);Ba.startRecordBatchesVector(e,t.numRecordBatches),[...t.recordBatches()].slice().reverse().forEach((t=>Oa.encode(e,t)));const r=e.endVector();Ba.startDictionariesVector(e,t.numDictionaries),[...t.dictionaryBatches()].slice().reverse().forEach((t=>Oa.encode(e,t)));const i=e.endVector();return Ba.startFooter(e),Ba.addSchema(e,n),Ba.addVersion(e,$n.V4),Ba.addRecordBatches(e,r),Ba.addDictionaries(e,i),Ba.finishFooterBuffer(e,Ba.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class ka extends Ea{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Oa.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Oa.decode(e)}return null}}class Oa{constructor(t,e,n){this.metaDataLength=t,this.offset="number"===typeof n?n:n.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Oa(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,r=new Sa(e.offset,0),i=new Sa(e.bodyLength,0);return Ia.createBlock(t,r,n,i)}}class Na extends we{write(t){if((t=Ke(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?ge(this.toUint8Array(!0)):this.toUint8Array(!1).then(ge)}toUint8Array(t=!1){return t?Ye(this._values)[0]:(async()=>{let t=[],e=0;for await(const n of this)t.push(n),e+=n.byteLength;return Ye(t,e)[0]})()}}class Da{constructor(t){t&&(this.source=new La(In.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Fa{constructor(t){t instanceof Fa?this.source=t.source:t instanceof Na?this.source=new Ca(In.fromAsyncIterable(t)):je(t)?this.source=new Ca(In.fromNodeStream(t)):ze(t)?this.source=new Ca(In.fromDOMStream(t)):Re(t)?this.source=new Ca(In.fromDOMStream(t.body)):De(t)?this.source=new Ca(In.fromIterable(t)):(Ne(t)||Fe(t))&&(this.source=new Ca(In.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class La{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||be)}return(t){return Object.create(this.source.return&&this.source.return(t)||be)}}class Ca{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}async cancel(t){await this.return(t)}get closed(){return this._closedPromise}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}async next(t,e="read"){return await this.source.next({cmd:e,size:t})}async throw(t){const e=this.source.throw&&await this.source.throw(t)||be;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}async return(t){const e=this.source.return&&await this.source.return(t)||be;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}}class Ua extends Da{constructor(t,e){super(),this.position=0,this.buffer=Ke(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:r}=this;return e&&r<n?("number"!==typeof t&&(t=1/0),this.position=Math.min(n,r+Math.min(n-r,t)),e.subarray(r,this.position)):null}readAt(t,e){const n=this.buffer,r=Math.min(this.size,t+e);return n?n.subarray(t,r):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Ra extends Fa{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(async()=>{this.size=(await t.stat()).size,delete this._pending})()}async readInt32(t){const{buffer:e,byteOffset:n}=await this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}async seek(t){return this._pending&&await this._pending,this.position=Math.min(t,this.size),t<this.size}async read(t){this._pending&&await this._pending;const{_handle:e,size:n,position:r}=this;if(e&&r<n){"number"!==typeof t&&(t=1/0);let i=r,o=0,a=0,s=Math.min(n,i+Math.min(n-i,t)),u=new Uint8Array(Math.max(0,(this.position=s)-i));for(;(i+=a)<s&&(o+=a)<u.byteLength;)({bytesRead:a}=await e.read(u,o,u.byteLength-o,i));return u}return null}async readAt(t,e){this._pending&&await this._pending;const{_handle:n,size:r}=this;if(n&&t+e<r){const i=Math.min(r,t+e),o=new Uint8Array(i-t);return(await n.read(o,0,e,t)).buffer}return new Uint8Array(e)}async close(){const t=this._handle;this._handle=null,t&&await t.close()}async throw(t){return await this.close(),{done:!0,value:t}}async return(t){return await this.close(),{done:!0,value:t}}}function za(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const ja=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Pa{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let r=e[3]*n[3];this.buffer[0]=65535&r;let i=r>>>16;return r=e[2]*n[3],i+=r,r=e[3]*n[2]>>>0,i+=r,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<r?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${za(this.buffer[1])} ${za(this.buffer[0])}`}}class Va extends Pa{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return Va.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Va.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length;let r=new Va(e);for(let i=0;i<n;){const e=8<n-i?8:n-i,o=new Va(new Uint32Array([parseInt(t.substr(i,e),10),0])),a=new Va(new Uint32Array([ja[e],0]));r.times(a),r.plus(o),i+=e}return r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,r=t.length;++n<r;)Va.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new Va(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Va(new Uint32Array(t.buffer)).plus(e)}}class $a extends Pa{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return $a.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return $a.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),r=t.length;let i=new $a(e);for(let o=n?1:0;o<r;){const e=8<r-o?8:r-o,n=new $a(new Uint32Array([parseInt(t.substr(o,e),10),0])),a=new $a(new Uint32Array([ja[e],0]));i.times(a),i.plus(n),o+=e}return n?i.negate():i}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,r=t.length;++n<r;)$a.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new $a(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new $a(new Uint32Array(t.buffer)).plus(e)}}class Ya{constructor(t){this.buffer=t}high(){return new $a(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new $a(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new Va(new Uint32Array([this.buffer[3],0])),n=new Va(new Uint32Array([this.buffer[2],0])),r=new Va(new Uint32Array([this.buffer[1],0])),i=new Va(new Uint32Array([this.buffer[0],0])),o=new Va(new Uint32Array([t.buffer[3],0])),a=new Va(new Uint32Array([t.buffer[2],0])),s=new Va(new Uint32Array([t.buffer[1],0])),u=new Va(new Uint32Array([t.buffer[0],0]));let c=Va.multiply(i,u);this.buffer[0]=c.low();let l=new Va(new Uint32Array([c.high(),0]));return c=Va.multiply(r,u),l.plus(c),c=Va.multiply(i,s),l.plus(c),this.buffer[1]=l.low(),this.buffer[3]=l.lessThan(c)?1:0,this.buffer[2]=l.high(),new Va(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Va.multiply(n,u)).plus(Va.multiply(r,s)).plus(Va.multiply(i,a)),this.buffer[3]+=Va.multiply(e,u).plus(Va.multiply(n,s)).plus(Va.multiply(r,a)).plus(Va.multiply(i,o)).low(),this}plus(t){let e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${za(this.buffer[3])} ${za(this.buffer[2])} ${za(this.buffer[1])} ${za(this.buffer[0])}`}static multiply(t,e){return new Ya(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Ya(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return Ya.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return Ya.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),r=t.length;let i=new Ya(e);for(let o=n?1:0;o<r;){const e=8<r-o?8:r-o,n=new Ya(new Uint32Array([parseInt(t.substr(o,e),10),0,0,0])),a=new Ya(new Uint32Array([ja[e],0,0,0]));i.times(a),i.plus(n),o+=e}return n?i.negate():i}static convertArray(t){const e=new Uint32Array(4*t.length);for(let n=-1,r=t.length;++n<r;)Ya.from(t[n],new Uint32Array(e.buffer,e.byteOffset+16*n,4));return e}}class qa extends Qn{constructor(t,e,n,r){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=r}visit(t){return super.visit(t instanceof qo?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return Qr.Null(t,0,e)}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Bool(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Int(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Float(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Utf8(t,0,e,n,this.readNullBitmap(t,n),this.readOffsets(t),this.readData(t))}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Binary(t,0,e,n,this.readNullBitmap(t,n),this.readOffsets(t),this.readData(t))}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.FixedSizeBinary(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Date(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Timestamp(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Time(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Decimal(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.List(t,0,e,n,this.readNullBitmap(t,n),this.readOffsets(t),this.visit(t.children[0]))}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Struct(t,0,e,n,this.readNullBitmap(t,n),this.visitMany(t.children))}visitUnion(t){return t.mode===jn.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Union(t,0,e,n,this.readNullBitmap(t,n),this.readTypeIds(t),this.readOffsets(t),this.visitMany(t.children))}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Union(t,0,e,n,this.readNullBitmap(t,n),this.readTypeIds(t),this.visitMany(t.children))}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Dictionary(t,0,e,n,this.readNullBitmap(t,n),this.readData(t.indices),this.readDictionary(t))}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Interval(t,0,e,n,this.readNullBitmap(t,n),this.readData(t))}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.FixedSizeList(t,0,e,n,this.readNullBitmap(t,n),this.visit(t.children[0]))}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return Qr.Map(t,0,e,n,this.readNullBitmap(t,n),this.readOffsets(t),this.visit(t.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class Ha extends qa{constructor(t,e,n,r){super(new Uint8Array(0),e,n,r),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):Gn(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return qe(Uint8Array,qe(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return qe(Uint8Array,qe(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return hr.isTimestamp(t)||(hr.isInt(t)||hr.isTime(t))&&64===t.bitWidth||hr.isDate(t)&&t.unit===Un.MILLISECOND?qe(Uint8Array,$a.convertArray(n[e])):hr.isDecimal(t)?qe(Uint8Array,Ya.convertArray(n[e])):hr.isBinary(t)||hr.isFixedSizeBinary(t)?function(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=parseInt(e.substr(r,2),16);return n}(n[e]):hr.isBool(t)?Gn(n[e]):hr.isUtf8(t)?me(n[e].join("")):qe(Uint8Array,qe(t.ArrayType,n[e].map((t=>+t))))}}var Wa=ne.Long,Ga=Dn.apache.arrow.flatbuf.Null,Xa=Dn.apache.arrow.flatbuf.Int,Ka=Dn.apache.arrow.flatbuf.FloatingPoint,Za=Dn.apache.arrow.flatbuf.Binary,Ja=Dn.apache.arrow.flatbuf.Bool,Qa=Dn.apache.arrow.flatbuf.Utf8,ts=Dn.apache.arrow.flatbuf.Decimal,es=Dn.apache.arrow.flatbuf.Date,ns=Dn.apache.arrow.flatbuf.Time,rs=Dn.apache.arrow.flatbuf.Timestamp,is=Dn.apache.arrow.flatbuf.Interval,os=Dn.apache.arrow.flatbuf.List,as=Dn.apache.arrow.flatbuf.Struct_,ss=Dn.apache.arrow.flatbuf.Union,us=Dn.apache.arrow.flatbuf.DictionaryEncoding,cs=Dn.apache.arrow.flatbuf.FixedSizeBinary,ls=Dn.apache.arrow.flatbuf.FixedSizeList,fs=Dn.apache.arrow.flatbuf.Map;const hs=new class extends Qn{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Ga.startNull(e),Ga.endNull(e)}visitInt(t,e){return Xa.startInt(e),Xa.addBitWidth(e,t.bitWidth),Xa.addIsSigned(e,t.isSigned),Xa.endInt(e)}visitFloat(t,e){return Ka.startFloatingPoint(e),Ka.addPrecision(e,t.precision),Ka.endFloatingPoint(e)}visitBinary(t,e){return Za.startBinary(e),Za.endBinary(e)}visitBool(t,e){return Ja.startBool(e),Ja.endBool(e)}visitUtf8(t,e){return Qa.startUtf8(e),Qa.endUtf8(e)}visitDecimal(t,e){return ts.startDecimal(e),ts.addScale(e,t.scale),ts.addPrecision(e,t.precision),ts.endDecimal(e)}visitDate(t,e){return es.startDate(e),es.addUnit(e,t.unit),es.endDate(e)}visitTime(t,e){return ns.startTime(e),ns.addUnit(e,t.unit),ns.addBitWidth(e,t.bitWidth),ns.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return rs.startTimestamp(e),rs.addUnit(e,t.unit),void 0!==n&&rs.addTimezone(e,n),rs.endTimestamp(e)}visitInterval(t,e){return is.startInterval(e),is.addUnit(e,t.unit),is.endInterval(e)}visitList(t,e){return os.startList(e),os.endList(e)}visitStruct(t,e){return as.startStruct_(e),as.endStruct_(e)}visitUnion(t,e){ss.startTypeIdsVector(e,t.typeIds.length);const n=ss.createTypeIdsVector(e,t.typeIds);return ss.startUnion(e),ss.addMode(e,t.mode),ss.addTypeIds(e,n),ss.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return us.startDictionaryEncoding(e),us.addId(e,new Wa(t.id,0)),us.addIsOrdered(e,t.isOrdered),void 0!==n&&us.addIndexType(e,n),us.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return cs.startFixedSizeBinary(e),cs.addByteWidth(e,t.byteWidth),cs.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return ls.startFixedSizeList(e),ls.addListSize(e,t.listSize),ls.endFixedSizeList(e)}visitMap(t,e){return fs.startMap(e),fs.addKeysSorted(e,t.keysSorted),fs.endMap(e)}};function ds(t){return new Fs(t.count,ys(t.columns),gs(t.columns))}function ps(t,e){return(t.children||[]).filter(Boolean).map((t=>qo.fromJSON(t,e)))}function ys(t){return(t||[]).reduce(((t,e)=>{return[...t,new Us(e.count,(n=e.VALIDITY,(n||[]).reduce(((t,e)=>t+ +(0===e)),0))),...ys(e.children)];var n}),[])}function gs(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const r=t[n];r.VALIDITY&&e.push(new Cs(e.length,r.VALIDITY.length)),r.TYPE&&e.push(new Cs(e.length,r.TYPE.length)),r.OFFSET&&e.push(new Cs(e.length,r.OFFSET.length)),r.DATA&&e.push(new Cs(e.length,r.DATA.length)),e=gs(r.children,e)}return e}function ms(t){return new Map(Object.entries(t||{}))}function bs(t){return new pr(t.isSigned,t.bitWidth)}function vs(t,e){const n=t.type.name;switch(n){case"NONE":case"null":return new dr;case"binary":return new Ir;case"utf8":return new Br;case"bool":return new Er;case"list":return new $r((e||[])[0]);case"struct":case"struct_":return new Yr(e||[])}switch(n){case"int":{const e=t.type;return new pr(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Mr(zn[e.precision])}case"decimal":{const e=t.type;return new kr(e.scale,e.precision)}case"date":{const e=t.type;return new Or(Un[e.unit])}case"time":{const e=t.type;return new Fr(Rn[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new zr(Rn[e.unit],e.timezone)}case"interval":{const e=t.type;return new jr(Pn[e.unit])}case"union":{const n=t.type;return new qr(jn[n.mode],n.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Hr(e.byteWidth)}case"fixedsizelist":{const n=t.type;return new Wr(n.listSize,(e||[])[0])}case"map":{const n=t.type;return new Gr((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var _s=ne.Long,ws=ne.Builder,xs=ne.ByteBuffer,Ms=Dn.apache.arrow.flatbuf.Type,Ss=Dn.apache.arrow.flatbuf.Field,As=Dn.apache.arrow.flatbuf.Schema,Ts=Dn.apache.arrow.flatbuf.Buffer,Is=Fn.apache.arrow.flatbuf.Message,Bs=Dn.apache.arrow.flatbuf.KeyValue,Es=Fn.apache.arrow.flatbuf.FieldNode,ks=Dn.apache.arrow.flatbuf.Endianness,Os=Fn.apache.arrow.flatbuf.RecordBatch,Ns=Fn.apache.arrow.flatbuf.DictionaryBatch;class Ds{constructor(t,e,n,r){this._version=e,this._headerType=n,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const n=new Ds(0,$n.V4,e);return n._createHeader=function(t,e){return()=>{switch(e){case Vn.Schema:return Yo.fromJSON(t);case Vn.RecordBatch:return Fs.fromJSON(t);case Vn.DictionaryBatch:return Ls.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${Vn[e]}, type: ${e} }`)}}(t,e),n}static decode(t){t=new xs(Ke(t));const e=Is.getRootAsMessage(t),n=e.bodyLength(),r=e.version(),i=e.headerType(),o=new Ds(n,r,i);return o._createHeader=function(t,e){return()=>{switch(e){case Vn.Schema:return Yo.decode(t.header(new As));case Vn.RecordBatch:return Fs.decode(t.header(new Os),t.version());case Vn.DictionaryBatch:return Ls.decode(t.header(new Ns),t.version())}throw new Error(`Unrecognized Message type: { name: ${Vn[e]}, type: ${e} }`)}}(e,i),o}static encode(t){let e=new ws,n=-1;return t.isSchema()?n=Yo.encode(e,t.header()):t.isRecordBatch()?n=Fs.encode(e,t.header()):t.isDictionaryBatch()&&(n=Ls.encode(e,t.header())),Is.startMessage(e),Is.addVersion(e,$n.V4),Is.addHeader(e,n),Is.addHeaderType(e,t.headerType),Is.addBodyLength(e,new _s(t.bodyLength,0)),Is.finishMessageBuffer(e,Is.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof Yo)return new Ds(0,$n.V4,Vn.Schema,t);if(t instanceof Fs)return new Ds(e,$n.V4,Vn.RecordBatch,t);if(t instanceof Ls)return new Ds(e,$n.V4,Vn.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Vn.Schema}isRecordBatch(){return this.headerType===Vn.RecordBatch}isDictionaryBatch(){return this.headerType===Vn.DictionaryBatch}}class Fs{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Ls{constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class Cs{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class Us{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function Rs(t,e){const n=[];for(let r,i=-1,o=-1,a=t.childrenLength();++i<a;)(r=t.children(i))&&(n[++o]=qo.decode(r,e));return n}function zs(t){const e=new Map;if(t)for(let n,r,i=-1,o=0|t.customMetadataLength();++i<o;)(n=t.customMetadata(i))&&null!=(r=n.key())&&e.set(r,n.value());return e}function js(t){return new pr(t.isSigned(),t.bitWidth())}function Ps(t,e){const n=t.typeType();switch(n){case Ms.NONE:case Ms.Null:return new dr;case Ms.Binary:return new Ir;case Ms.Utf8:return new Br;case Ms.Bool:return new Er;case Ms.List:return new $r((e||[])[0]);case Ms.Struct_:return new Yr(e||[])}switch(n){case Ms.Int:{const e=t.type(new Dn.apache.arrow.flatbuf.Int);return new pr(e.isSigned(),e.bitWidth())}case Ms.FloatingPoint:{const e=t.type(new Dn.apache.arrow.flatbuf.FloatingPoint);return new Mr(e.precision())}case Ms.Decimal:{const e=t.type(new Dn.apache.arrow.flatbuf.Decimal);return new kr(e.scale(),e.precision())}case Ms.Date:{const e=t.type(new Dn.apache.arrow.flatbuf.Date);return new Or(e.unit())}case Ms.Time:{const e=t.type(new Dn.apache.arrow.flatbuf.Time);return new Fr(e.unit(),e.bitWidth())}case Ms.Timestamp:{const e=t.type(new Dn.apache.arrow.flatbuf.Timestamp);return new zr(e.unit(),e.timezone())}case Ms.Interval:{const e=t.type(new Dn.apache.arrow.flatbuf.Interval);return new jr(e.unit())}case Ms.Union:{const n=t.type(new Dn.apache.arrow.flatbuf.Union);return new qr(n.mode(),n.typeIdsArray()||[],e||[])}case Ms.FixedSizeBinary:{const e=t.type(new Dn.apache.arrow.flatbuf.FixedSizeBinary);return new Hr(e.byteWidth())}case Ms.FixedSizeList:{const n=t.type(new Dn.apache.arrow.flatbuf.FixedSizeList);return new Wr(n.listSize(),(e||[])[0])}case Ms.Map:{const n=t.type(new Dn.apache.arrow.flatbuf.Map);return new Gr((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Ms[n]}" (${n})`)}qo.encode=function(t,e){let n=-1,r=-1,i=-1,o=e.type,a=e.typeId;hr.isDictionary(o)?(a=o.dictionary.typeId,i=hs.visit(o,t),r=hs.visit(o.dictionary,t)):r=hs.visit(o,t);const s=(o.children||[]).map((e=>qo.encode(t,e))),u=Ss.createChildrenVector(t,s),c=e.metadata&&e.metadata.size>0?Ss.createCustomMetadataVector(t,[...e.metadata].map((([e,n])=>{const r=t.createString(`${e}`),i=t.createString(`${n}`);return Bs.startKeyValue(t),Bs.addKey(t,r),Bs.addValue(t,i),Bs.endKeyValue(t)}))):-1;e.name&&(n=t.createString(e.name));Ss.startField(t),Ss.addType(t,r),Ss.addTypeType(t,a),Ss.addChildren(t,u),Ss.addNullable(t,!!e.nullable),-1!==n&&Ss.addName(t,n);-1!==i&&Ss.addDictionary(t,i);-1!==c&&Ss.addCustomMetadata(t,c);return Ss.endField(t)},qo.decode=function(t,e){let n,r,i,o,a,s;e&&(s=t.dictionary())?e.has(n=s.id().low)?(o=(o=s.indexType())?js(o):new mr,a=new Zr(e.get(n),o,n,s.isOrdered()),r=new qo(t.name(),a,t.nullable(),zs(t))):(o=(o=s.indexType())?js(o):new mr,e.set(n,i=Ps(t,Rs(t,e))),a=new Zr(i,o,n,s.isOrdered()),r=new qo(t.name(),a,t.nullable(),zs(t))):(i=Ps(t,Rs(t,e)),r=new qo(t.name(),i,t.nullable(),zs(t)));return r||null},qo.fromJSON=function(t,e){let n,r,i,o,a,s;return e&&(o=t.dictionary)?e.has(n=o.id)?(r=(r=o.indexType)?bs(r):new mr,s=new Zr(e.get(n),r,n,o.isOrdered),i=new qo(t.name,s,t.nullable,ms(t.customMetadata))):(r=(r=o.indexType)?bs(r):new mr,e.set(n,a=vs(t,ps(t,e))),s=new Zr(a,r,n,o.isOrdered),i=new qo(t.name,s,t.nullable,ms(t.customMetadata))):(a=vs(t,ps(t,e)),i=new qo(t.name,a,t.nullable,ms(t.customMetadata))),i||null},Yo.encode=function(t,e){const n=e.fields.map((e=>qo.encode(t,e)));As.startFieldsVector(t,n.length);const r=As.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?As.createCustomMetadataVector(t,[...e.metadata].map((([e,n])=>{const r=t.createString(`${e}`),i=t.createString(`${n}`);return Bs.startKeyValue(t),Bs.addKey(t,r),Bs.addValue(t,i),Bs.endKeyValue(t)}))):-1;As.startSchema(t),As.addFields(t,r),As.addEndianness(t,Vs?ks.Little:ks.Big),-1!==i&&As.addCustomMetadata(t,i);return As.endSchema(t)},Yo.decode=function(t,e=new Map){const n=function(t,e){const n=[];for(let r,i=-1,o=-1,a=t.fieldsLength();++i<a;)(r=t.fields(i))&&(n[++o]=qo.decode(r,e));return n}(t,e);return new Yo(n,zs(t),e)},Yo.fromJSON=function(t,e=new Map){return new Yo(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>qo.fromJSON(t,e)))}(t,e),ms(t.customMetadata),e)},Fs.encode=function(t,e){const n=e.nodes||[],r=e.buffers||[];Os.startNodesVector(t,n.length),n.slice().reverse().forEach((e=>Us.encode(t,e)));const i=t.endVector();Os.startBuffersVector(t,r.length),r.slice().reverse().forEach((e=>Cs.encode(t,e)));const o=t.endVector();return Os.startRecordBatch(t),Os.addLength(t,new _s(e.length,0)),Os.addNodes(t,i),Os.addBuffers(t,o),Os.endRecordBatch(t)},Fs.decode=function(t,e=$n.V4){return new Fs(t.length(),function(t){const e=[];for(let n,r=-1,i=-1,o=t.nodesLength();++r<o;)(n=t.nodes(r))&&(e[++i]=Us.decode(n));return e}(t),function(t,e){const n=[];for(let r,i=-1,o=-1,a=t.buffersLength();++i<a;)(r=t.buffers(i))&&(e<$n.V4&&(r.bb_pos+=8*(i+1)),n[++o]=Cs.decode(r));return n}(t,e))},Fs.fromJSON=ds,Ls.encode=function(t,e){const n=Fs.encode(t,e.data);return Ns.startDictionaryBatch(t),Ns.addId(t,new _s(e.id,0)),Ns.addIsDelta(t,e.isDelta),Ns.addData(t,n),Ns.endDictionaryBatch(t)},Ls.decode=function(t,e=$n.V4){return new Ls(Fs.decode(t.data(),e),t.id(),t.isDelta())},Ls.fromJSON=function(t){return new Ls(ds(t.data),t.id,t.isDelta)},Us.encode=function(t,e){return Es.createFieldNode(t,new _s(e.length,0),new _s(e.nullCount,0))},Us.decode=function(t){return new Us(t.length(),t.nullCount())},Cs.encode=function(t,e){return Ts.createBuffer(t,new _s(e.offset,0),new _s(e.length,0))},Cs.decode=function(t){return new Cs(t.offset(),t.length())};const Vs=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();var $s=ne.ByteBuffer;const Ys=t=>`Expected ${Vn[t]} Message in stream, but was null or length 0.`,qs=t=>`Header pointer of flatbuffer-encoded ${Vn[t]} Message is null or length 0.`,Hs=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,Ws=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class Gs{constructor(t){this.source=t instanceof Da?t:new Da(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?be:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Ys(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Ke(this.source.read(t));if(e.byteLength<t)throw new Error(Ws(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=Vn.Schema,n=this.readMessage(e),r=n&&n.header();if(t&&!r)throw new Error(qs(e));return r}readMetadataLength(){const t=this.source.read(Zs),e=t&&new $s(t),n=e&&e.readInt32(0)||0;return{done:0===n,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return be;if(e.byteLength<t)throw new Error(Hs(t,e.byteLength));return{done:!1,value:Ds.decode(e)}}}class Xs{constructor(t,e){this.source=t instanceof Fa?t:Ue(t)?new Ra(t,e):new Fa(t)}[Symbol.asyncIterator](){return this}async next(){let t;return(t=await this.readMetadataLength()).done||-1===t.value&&(t=await this.readMetadataLength()).done||(t=await this.readMetadata(t.value)).done?be:t}async throw(t){return await this.source.throw(t)}async return(t){return await this.source.return(t)}async readMessage(t){let e;if((e=await this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Ys(t));return e.value}async readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Ke(await this.source.read(t));if(e.byteLength<t)throw new Error(Ws(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}async readSchema(t=!1){const e=Vn.Schema,n=await this.readMessage(e),r=n&&n.header();if(t&&!r)throw new Error(qs(e));return r}async readMetadataLength(){const t=await this.source.read(Zs),e=t&&new $s(t),n=e&&e.readInt32(0)||0;return{done:0===n,value:n}}async readMetadata(t){const e=await this.source.read(t);if(!e)return be;if(e.byteLength<t)throw new Error(Hs(t,e.byteLength));return{done:!1,value:Ds.decode(e)}}}class Ks extends Gs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof ve?t:new ve(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:Ds.fromJSON(t.schema,Vn.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:Ds.fromJSON(e,Vn.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:Ds.fromJSON(e,Vn.RecordBatch)}}return this._body=[],be}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,n)=>[...e,...n.VALIDITY&&[n.VALIDITY]||[],...n.TYPE&&[n.TYPE]||[],...n.OFFSET&&[n.OFFSET]||[],...n.DATA&&[n.DATA]||[],...t(n.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Ys(t));return e.value}readSchema(){const t=Vn.Schema,e=this.readMessage(t),n=e&&e.header();if(!e||!n)throw new Error(qs(t));return n}}const Zs=4,Js="ARROW1",Qs=new Uint8Array(Js.length);for(let Ep=0;Ep<Js.length;Ep+=1)Qs[Ep]=Js.charCodeAt(Ep);function tu(t,e=0){for(let n=-1,r=Qs.length;++n<r;)if(Qs[n]!==t[e+n])return!1;return!0}const eu=Qs.length,nu=eu+Zs,ru=2*eu+Zs;class iu extends Qn{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=new iu,n=Ro(nl,t),[r=e]=e.visitMany(n);return r}visit(t){if(!hr.isDictionary(t.type)){const{data:e,length:n,nullCount:r}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");hr.isNull(t.type)||ou.call(this,r<=0?new Uint8Array(0):Wn(e.offset,n,e.nullBitmap)),this.nodes.push(new Us(n,r))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function ou(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new Cs(this._byteLength,e)),this._byteLength+=e,this}function au(t){return ou.call(this,t.values.subarray(0,t.length*t.stride))}function su(t){const{length:e,values:n,valueOffsets:r}=t,i=r[0],o=r[e],a=Math.min(o-i,n.byteLength-i);return ou.call(this,An(-r[0],e,r)),ou.call(this,n.subarray(i,i+a)),this}function uu(t){const{length:e,valueOffsets:n}=t;return n&&ou.call(this,An(n[0],e,n)),this.visit(t.getChildAt(0))}function cu(t){return this.visitMany(t.type.children.map(((e,n)=>t.getChildAt(n))).filter(Boolean))[0]}iu.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?ou.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?ou.call(this,Wn(t.offset,t.length,e)):ou.call(this,Gn(t))},iu.prototype.visitInt=au,iu.prototype.visitFloat=au,iu.prototype.visitUtf8=su,iu.prototype.visitBinary=su,iu.prototype.visitFixedSizeBinary=au,iu.prototype.visitDate=au,iu.prototype.visitTimestamp=au,iu.prototype.visitTime=au,iu.prototype.visitDecimal=au,iu.prototype.visitList=uu,iu.prototype.visitStruct=cu,iu.prototype.visitUnion=function(t){const{type:e,length:n,typeIds:r,valueOffsets:i}=t;if(ou.call(this,r),e.mode===jn.Sparse)return cu.call(this,t);if(e.mode===jn.Dense){if(t.offset<=0)return ou.call(this,i),cu.call(this,t);{const o=r.reduce(((t,e)=>Math.max(t,e)),r[0]),a=new Int32Array(o+1),s=new Int32Array(o+1).fill(-1),u=new Int32Array(n),c=An(-i[0],n,i);for(let t,e,i=-1;++i<n;)-1===(e=s[t=r[i]])&&(e=s[t]=c[t]),u[i]=c[i]-e,++a[t];ou.call(this,u);for(let r,i=-1,l=e.children.length;++i<l;)if(r=t.getChildAt(i)){const t=e.typeIds[i],o=Math.min(n,a[t]);this.visit(r.slice(s[t],o))}}}return this},iu.prototype.visitInterval=au,iu.prototype.visitFixedSizeList=uu,iu.prototype.visitMap=uu;class lu extends _e{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Na,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Oe(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Ne(t)?t.then((t=>this.writeAll(t))):Fe(t)?pu(this,t):du(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){var n;return t===this._sink||t instanceof Na?this._sink=t:(this._sink=new Na,t&&(Oe(n=t)&&ke(n.abort)&&ke(n.getWriter)&&!(n instanceof _e))?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>Oe(t)&&ke(t.end)&&ke(t.write)&&Ee(t.writable)&&!(t instanceof _e))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&e.compareTo(this._schema)||(null===e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null===t||void 0===t)return this.finish()&&void 0;if(t instanceof el&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof nl&&!(e=t.schema))return this.finish()&&void 0;if(e&&!e.compareTo(this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof nl?t instanceof rl||this._writeRecordBatch(t):t instanceof el?this.writeAll(t.chunks):De(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,r=Ds.encode(t),i=r.byteLength,o=this._writeLegacyIpcFormat?4:8,a=i+o+n&~n,s=a-i-o;return t.headerType===Vn.RecordBatch?this._recordBatchBlocks.push(new Oa(a,t.bodyLength,this._position)):t.headerType===Vn.DictionaryBatch&&this._dictionaryBlocks.push(new Oa(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),i>0&&this._write(r),this._writePadding(s)}_write(t){if(this._started){const e=Ke(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(Ds.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Qs)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:r,buffers:i}=iu.assemble(t),o=new Fs(t.length,n,r),a=Ds.from(o,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(i)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:r,nodes:i,bufferRegions:o,buffers:a}=iu.assemble(t),s=new Fs(t.length,i,o),u=new Ls(s,e,n),c=Ds.from(u,r);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,n,r;for(let i=-1,o=t.length;++i<o;)(e=t[i])&&(n=e.byteLength)>0&&(this._write(e),(r=(n+7&-8)-n)>0&&this._writePadding(r));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(n=n.slice(t)).length>0){const r="chunks"in n?n.chunks:[n];for(const n of r)this._writeDictionaryBatch(n,e,t>0),t+=n.length}}return this}}class fu extends lu{static writeAll(t,e){const n=new fu(e);return Ne(t)?t.then((t=>n.writeAll(t))):Fe(t)?pu(n,t):du(n,t)}}class hu extends lu{static writeAll(t){const e=new hu;return Ne(t)?t.then((t=>e.writeAll(t))):Fe(t)?pu(e,t):du(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=Ea.encode(new Ea(t,$n.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function du(t,e){let n=e;e instanceof el&&(n=e.chunks,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}async function pu(t,e){for await(const n of e)t.write(n);return t.finish()}const yu=new Uint8Array(0),gu=t=>[yu,yu,new Uint8Array(t),yu];function mu(t,e){return function(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let o,a=0,s=0,u=-1,c=e.length,l=[];for(;i.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,u=-1;++u<c;)l[u]=o=e[u].shift(),s=Math.min(s,o?o.length:s);isFinite(s)&&(l=bu(n,s,l,e,i),s>0&&(r[a++]=[s,l.slice()]))}return[t=new Yo(n,t.metadata),r.map((e=>new nl(t,...e)))]}(t,e.map((t=>t instanceof Eo?t.chunks.map((t=>t.data)):[t.data])))}function bu(t,e,n,r,i){let o,a,s=0,u=-1,c=r.length;const l=(e+63&-64)>>3;for(;++u<c;)(o=n[u])&&(s=o.length)>=e?s===e?n[u]=o:(n[u]=o.slice(0,e),o=o.slice(e,s-e),i.numBatches=Math.max(i.numBatches,r[u].unshift(o))):((a=t[u]).nullable||(t[u]=a.clone({nullable:!0})),n[u]=o?o._changeLengthAndBackfillNullBitmap(e):Qr.new(a.type,0,e,e,gu(l)));return n}class vu extends Nn{constructor(t,e){super(),this._children=e,this.numChildren=t.childData.length,this._bindDataAccessors(this.data=t)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${Ln[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(t,e=this._children){return Nn.new(t,e)}concat(...t){return Eo.concat(this,...t)}slice(t,e){return Mo(this,t,e,this._sliceInternal)}isValid(t){if(this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}getChildAt(t){return t<0||t>=this.numChildren?null:(this._children||(this._children=[]))[t]||(this._children[t]=Nn.new(this.data.childData[t]))}toJSON(){return[...this]}_sliceInternal(t,e,n){return t.clone(t.data.slice(e,n-e),null)}_bindDataAccessors(t){}}vu.prototype[Symbol.isConcatSpreadable]=!0;class _u extends vu{asUtf8(){return Nn.new(this.data.clone(new Br))}}class wu extends vu{static from(t){return tl((()=>new Er),t)}}class xu extends vu{static from(...t){return 2===t.length?tl((()=>t[1]===Un.DAY?new Nr:new Dr),t[0]):tl((()=>new Dr),t[0])}}class Mu extends xu{}class Su extends xu{}class Au extends vu{}class Tu extends vu{constructor(t){super(t),this.indices=Nn.new(t.clone(this.type.indices))}static from(...t){if(3===t.length){const[e,n,r]=t,i=new Zr(e.type,n,null,null);return Nn.new(Qr.Dictionary(i,0,r.length,0,null,r,e))}return tl((()=>t[0].type),t[0])}get dictionary(){return this.data.dictionary}reverseLookup(t){return this.dictionary.indexOf(t)}getKey(t){return this.indices.get(t)}getValue(t){return this.dictionary.get(t)}setKey(t,e){return this.indices.set(t,e)}setValue(t,e){return this.dictionary.set(t,e)}}Tu.prototype.indices=null;class Iu extends vu{}class Bu extends vu{}class Eu extends vu{static from(t){let e=Lu(this);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){let n=Fu(t.constructor)||e;if(null===e&&(e=n),e&&e===n){let n=new e,r=t.byteLength/n.ArrayType.BYTES_PER_ELEMENT;if(!Du(e,t.constructor))return Nn.new(Qr.Float(n,0,r,0,null,t))}}if(e)return tl((()=>new e),t);if(t instanceof DataView||t instanceof ArrayBuffer)throw new TypeError(`Cannot infer float type from instance of ${t.constructor.name}`);throw new TypeError("Unrecognized FloatVector input")}}class ku extends Eu{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}}class Ou extends Eu{}class Nu extends Eu{}const Du=(t,e)=>t===Sr&&e!==Uint16Array,Fu=t=>{switch(t){case Uint16Array:return Sr;case Float32Array:return Ar;case Float64Array:return Tr;default:return null}},Lu=t=>{switch(t){case ku:return Sr;case Ou:return Ar;case Nu:return Tr;default:return null}};class Cu extends vu{}class Uu extends Cu{}class Ru extends Cu{}class zu extends vu{static from(...t){let[e,n=!1]=t,r=Ku(this,n);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let t=Xu(e.constructor,n)||r;if(null===r&&(r=t),r&&r===t){let t=new r,n=e.byteLength/t.ArrayType.BYTES_PER_ELEMENT;return Gu(r,e.constructor)&&(n*=.5),Nn.new(Qr.Int(t,0,n,0,null,e))}}if(r)return tl((()=>new r),e);if(e instanceof DataView||e instanceof ArrayBuffer)throw new TypeError(`Cannot infer integer type from instance of ${e.constructor.name}`);throw new TypeError("Unrecognized IntVector input")}}class ju extends zu{}class Pu extends zu{}class Vu extends zu{}class $u extends zu{toBigInt64Array(){return Xe(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}}class Yu extends zu{}class qu extends zu{}class Hu extends zu{}class Wu extends zu{toBigUint64Array(){return Qe(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}}const Gu=(t,e)=>(t===br||t===xr)&&(e===Int32Array||e===Uint32Array),Xu=(t,e)=>{switch(t){case Int8Array:return yr;case Int16Array:return gr;case Int32Array:return e?br:mr;case Se:return br;case Uint8Array:return vr;case Uint16Array:return _r;case Uint32Array:return e?xr:wr;case Te:return xr;default:return null}},Ku=(t,e)=>{switch(t){case ju:return yr;case Pu:return gr;case Vu:return e?br:mr;case $u:return br;case Yu:return vr;case qu:return _r;case Hu:return e?xr:wr;case Wu:return xr;default:return null}};class Zu extends vu{}class Ju extends vu{asList(){const t=this.type.children[0];return Nn.new(this.data.clone(new $r(t)))}bind(t){const e=this.getChildAt(0),{[t]:n,[t+1]:r}=this.valueOffsets;return new mo(e.slice(n,r))}}class Qu extends vu{}const tc=Symbol.for("rowIndex");class ec extends vu{bind(t){const e=this._row||(this._row=new bo(this)),n=Object.create(e);return n[tc]=t,n}}class nc extends vu{}class rc extends nc{}class ic extends nc{}class oc extends nc{}class ac extends nc{}class sc extends vu{}class uc extends sc{}class cc extends sc{}class lc extends sc{}class fc extends sc{}class hc extends vu{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}}class dc extends hc{get valueOffsets(){return this.data.valueOffsets}}class pc extends hc{}class yc extends vu{static from(t){return tl((()=>new Br),t)}asBinary(){return Nn.new(this.data.clone(new Ir))}}function gc(t){return function(){return t(this)}}function mc(t){return function(e,n){return t(this,e,n)}}class bc extends Qn{}const vc=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),_c=t=>new Date(t),wc=(t,e,n)=>{const{[n]:r,[n+1]:i}=e;return null!=r&&null!=i?t.subarray(r,i):null},xc=({values:t},e)=>((t,e)=>_c(((t,e)=>864e5*t[e])(t,e)))(t,e),Mc=({values:t},e)=>((t,e)=>_c(vc(t,e)))(t,2*e),Sc=({stride:t,values:e},n)=>e[t*n],Ac=({stride:t,values:e},n)=>wi(e[t*n]),Tc=({stride:t,values:e,type:n},r)=>Ci.new(e.subarray(t*r,t*(r+1)),n.isSigned),Ic=({values:t},e)=>1e3*vc(t,2*e),Bc=({values:t},e)=>vc(t,2*e),Ec=({values:t},e)=>((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(t,2*e),kc=({values:t},e)=>((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(t,2*e),Oc=({values:t,stride:e},n)=>t[e*n],Nc=({values:t,stride:e},n)=>t[e*n],Dc=({values:t},e)=>Ci.signed(t.subarray(2*e,2*(e+1))),Fc=({values:t},e)=>Ci.signed(t.subarray(2*e,2*(e+1))),Lc=(t,e)=>{const n=t.typeIdToChildIndex[t.typeIds[e]],r=t.getChildAt(n);return r?r.get(t.valueOffsets[e]):null},Cc=(t,e)=>{const n=t.typeIdToChildIndex[t.typeIds[e]],r=t.getChildAt(n);return r?r.get(e):null},Uc=({values:t},e)=>t.subarray(2*e,2*(e+1)),Rc=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=n/12|0,r[1]=n%12|0,r};bc.prototype.visitNull=(t,e)=>null,bc.prototype.visitBool=({offset:t,values:e},n)=>{const r=t+n;return 0!==(e[r>>3]&1<<r%8)},bc.prototype.visitInt=(t,e)=>t.type.bitWidth<64?Sc(t,e):Tc(t,e),bc.prototype.visitInt8=Sc,bc.prototype.visitInt16=Sc,bc.prototype.visitInt32=Sc,bc.prototype.visitInt64=Tc,bc.prototype.visitUint8=Sc,bc.prototype.visitUint16=Sc,bc.prototype.visitUint32=Sc,bc.prototype.visitUint64=Tc,bc.prototype.visitFloat=(t,e)=>t.type.precision!==zn.HALF?Sc(t,e):Ac(t,e),bc.prototype.visitFloat16=Ac,bc.prototype.visitFloat32=Sc,bc.prototype.visitFloat64=Sc,bc.prototype.visitUtf8=({values:t,valueOffsets:e},n)=>{const r=wc(t,e,n);return null!==r?ge(r):null},bc.prototype.visitBinary=({values:t,valueOffsets:e},n)=>wc(t,e,n),bc.prototype.visitFixedSizeBinary=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),bc.prototype.visitDate=(t,e)=>t.type.unit===Un.DAY?xc(t,e):Mc(t,e),bc.prototype.visitDateDay=xc,bc.prototype.visitDateMillisecond=Mc,bc.prototype.visitTimestamp=(t,e)=>{switch(t.type.unit){case Rn.SECOND:return Ic(t,e);case Rn.MILLISECOND:return Bc(t,e);case Rn.MICROSECOND:return Ec(t,e);case Rn.NANOSECOND:return kc(t,e)}},bc.prototype.visitTimestampSecond=Ic,bc.prototype.visitTimestampMillisecond=Bc,bc.prototype.visitTimestampMicrosecond=Ec,bc.prototype.visitTimestampNanosecond=kc,bc.prototype.visitTime=(t,e)=>{switch(t.type.unit){case Rn.SECOND:return Oc(t,e);case Rn.MILLISECOND:return Nc(t,e);case Rn.MICROSECOND:return Dc(t,e);case Rn.NANOSECOND:return Fc(t,e)}},bc.prototype.visitTimeSecond=Oc,bc.prototype.visitTimeMillisecond=Nc,bc.prototype.visitTimeMicrosecond=Dc,bc.prototype.visitTimeNanosecond=Fc,bc.prototype.visitDecimal=({values:t},e)=>Ci.decimal(t.subarray(4*e,4*(e+1))),bc.prototype.visitList=(t,e)=>{const n=t.getChildAt(0),{valueOffsets:r,stride:i}=t;return n.slice(r[e*i],r[e*i+1])},bc.prototype.visitStruct=(t,e)=>t.bind(e),bc.prototype.visitUnion=(t,e)=>t.type.mode===jn.Dense?Lc(t,e):Cc(t,e),bc.prototype.visitDenseUnion=Lc,bc.prototype.visitSparseUnion=Cc,bc.prototype.visitDictionary=(t,e)=>t.getValue(t.getKey(e)),bc.prototype.visitInterval=(t,e)=>t.type.unit===Pn.DAY_TIME?Uc(t,e):Rc(t,e),bc.prototype.visitIntervalDayTime=Uc,bc.prototype.visitIntervalYearMonth=Rc,bc.prototype.visitFixedSizeList=(t,e)=>{const n=t.getChildAt(0),{stride:r}=t;return n.slice(e*r,(e+1)*r)},bc.prototype.visitMap=(t,e)=>t.bind(e);const zc=new bc;class jc extends Qn{}function Pc(t,e,n){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:n}=t.data;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of Xn(n,t.data.offset+(e||0),t.length,n,Yn)){if(!i)return r;++r}return-1}(t,n);const r=To(e);for(let i=(n||0)-1,o=t.length;++i<o;)if(r(t.get(i)))return i;return-1}function Vc(t,e,n){const r=To(e);for(let i=(n||0)-1,o=t.length;++i<o;)if(r(t.get(i)))return i;return-1}jc.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},jc.prototype.visitBool=Pc,jc.prototype.visitInt=Pc,jc.prototype.visitInt8=Pc,jc.prototype.visitInt16=Pc,jc.prototype.visitInt32=Pc,jc.prototype.visitInt64=Pc,jc.prototype.visitUint8=Pc,jc.prototype.visitUint16=Pc,jc.prototype.visitUint32=Pc,jc.prototype.visitUint64=Pc,jc.prototype.visitFloat=Pc,jc.prototype.visitFloat16=Pc,jc.prototype.visitFloat32=Pc,jc.prototype.visitFloat64=Pc,jc.prototype.visitUtf8=Pc,jc.prototype.visitBinary=Pc,jc.prototype.visitFixedSizeBinary=Pc,jc.prototype.visitDate=Pc,jc.prototype.visitDateDay=Pc,jc.prototype.visitDateMillisecond=Pc,jc.prototype.visitTimestamp=Pc,jc.prototype.visitTimestampSecond=Pc,jc.prototype.visitTimestampMillisecond=Pc,jc.prototype.visitTimestampMicrosecond=Pc,jc.prototype.visitTimestampNanosecond=Pc,jc.prototype.visitTime=Pc,jc.prototype.visitTimeSecond=Pc,jc.prototype.visitTimeMillisecond=Pc,jc.prototype.visitTimeMicrosecond=Pc,jc.prototype.visitTimeNanosecond=Pc,jc.prototype.visitDecimal=Pc,jc.prototype.visitList=Pc,jc.prototype.visitStruct=Pc,jc.prototype.visitUnion=Pc,jc.prototype.visitDenseUnion=Vc,jc.prototype.visitSparseUnion=Vc,jc.prototype.visitDictionary=Pc,jc.prototype.visitInterval=Pc,jc.prototype.visitIntervalDayTime=Pc,jc.prototype.visitIntervalYearMonth=Pc,jc.prototype.visitFixedSizeList=Pc,jc.prototype.visitMap=Pc;const $c=new jc;class Yc extends Qn{}function qc(t){if(t.nullCount>0)return function(t){const e=zc.getVisitFn(t);return Xn(t.data.nullBitmap,t.data.offset,t.length,t,((t,n,r,i)=>0!==(r&1<<i)?e(t,n):null))}(t);const{type:e,typeId:n,length:r}=t;return 1===t.stride&&(n===Ln.Timestamp||n===Ln.Int&&64!==e.bitWidth||n===Ln.Time&&64!==e.bitWidth||n===Ln.Float&&e.precision>0)?t.data.values.subarray(0,r)[Symbol.iterator]():function*(e){for(let n=-1;++n<r;)yield e(t,n)}(zc.getVisitFn(t))}Yc.prototype.visitNull=qc,Yc.prototype.visitBool=qc,Yc.prototype.visitInt=qc,Yc.prototype.visitInt8=qc,Yc.prototype.visitInt16=qc,Yc.prototype.visitInt32=qc,Yc.prototype.visitInt64=qc,Yc.prototype.visitUint8=qc,Yc.prototype.visitUint16=qc,Yc.prototype.visitUint32=qc,Yc.prototype.visitUint64=qc,Yc.prototype.visitFloat=qc,Yc.prototype.visitFloat16=qc,Yc.prototype.visitFloat32=qc,Yc.prototype.visitFloat64=qc,Yc.prototype.visitUtf8=qc,Yc.prototype.visitBinary=qc,Yc.prototype.visitFixedSizeBinary=qc,Yc.prototype.visitDate=qc,Yc.prototype.visitDateDay=qc,Yc.prototype.visitDateMillisecond=qc,Yc.prototype.visitTimestamp=qc,Yc.prototype.visitTimestampSecond=qc,Yc.prototype.visitTimestampMillisecond=qc,Yc.prototype.visitTimestampMicrosecond=qc,Yc.prototype.visitTimestampNanosecond=qc,Yc.prototype.visitTime=qc,Yc.prototype.visitTimeSecond=qc,Yc.prototype.visitTimeMillisecond=qc,Yc.prototype.visitTimeMicrosecond=qc,Yc.prototype.visitTimeNanosecond=qc,Yc.prototype.visitDecimal=qc,Yc.prototype.visitList=qc,Yc.prototype.visitStruct=qc,Yc.prototype.visitUnion=qc,Yc.prototype.visitDenseUnion=qc,Yc.prototype.visitSparseUnion=qc,Yc.prototype.visitDictionary=qc,Yc.prototype.visitInterval=qc,Yc.prototype.visitIntervalDayTime=qc,Yc.prototype.visitIntervalYearMonth=qc,Yc.prototype.visitFixedSizeList=qc,Yc.prototype.visitMap=qc;const Hc=new Yc;class Wc extends Qn{}function Gc(t){const{type:e,length:n,stride:r}=t;switch(e.typeId){case Ln.Int:case Ln.Float:case Ln.Decimal:case Ln.Time:case Ln.Timestamp:return t.data.values.subarray(0,n*r)}return[...Hc.visit(t)]}Wc.prototype.visitNull=Gc,Wc.prototype.visitBool=Gc,Wc.prototype.visitInt=Gc,Wc.prototype.visitInt8=Gc,Wc.prototype.visitInt16=Gc,Wc.prototype.visitInt32=Gc,Wc.prototype.visitInt64=Gc,Wc.prototype.visitUint8=Gc,Wc.prototype.visitUint16=Gc,Wc.prototype.visitUint32=Gc,Wc.prototype.visitUint64=Gc,Wc.prototype.visitFloat=Gc,Wc.prototype.visitFloat16=Gc,Wc.prototype.visitFloat32=Gc,Wc.prototype.visitFloat64=Gc,Wc.prototype.visitUtf8=Gc,Wc.prototype.visitBinary=Gc,Wc.prototype.visitFixedSizeBinary=Gc,Wc.prototype.visitDate=Gc,Wc.prototype.visitDateDay=Gc,Wc.prototype.visitDateMillisecond=Gc,Wc.prototype.visitTimestamp=Gc,Wc.prototype.visitTimestampSecond=Gc,Wc.prototype.visitTimestampMillisecond=Gc,Wc.prototype.visitTimestampMicrosecond=Gc,Wc.prototype.visitTimestampNanosecond=Gc,Wc.prototype.visitTime=Gc,Wc.prototype.visitTimeSecond=Gc,Wc.prototype.visitTimeMillisecond=Gc,Wc.prototype.visitTimeMicrosecond=Gc,Wc.prototype.visitTimeNanosecond=Gc,Wc.prototype.visitDecimal=Gc,Wc.prototype.visitList=Gc,Wc.prototype.visitStruct=Gc,Wc.prototype.visitUnion=Gc,Wc.prototype.visitDenseUnion=Gc,Wc.prototype.visitSparseUnion=Gc,Wc.prototype.visitDictionary=Gc,Wc.prototype.visitInterval=Gc,Wc.prototype.visitIntervalDayTime=Gc,Wc.prototype.visitIntervalYearMonth=Gc,Wc.prototype.visitFixedSizeList=Gc,Wc.prototype.visitMap=Gc;const Xc=new Wc,Kc=(t,e)=>t+e,Zc=t=>`Cannot compute the byte width of variable-width column ${t}`;const Jc=new class extends Qn{visitNull(t){return 0}visitInt(t){return t.bitWidth/8}visitFloat(t){return t.ArrayType.BYTES_PER_ELEMENT}visitBinary(t){throw new Error(Zc(t))}visitUtf8(t){throw new Error(Zc(t))}visitBool(t){return 1/8}visitDecimal(t){return 16}visitDate(t){return 4*(t.unit+1)}visitTime(t){return t.bitWidth/8}visitTimestamp(t){return t.unit===Rn.SECOND?4:8}visitInterval(t){return 4*(t.unit+1)}visitList(t){throw new Error(Zc(t))}visitStruct(t){return this.visitFields(t.children).reduce(Kc,0)}visitUnion(t){return this.visitFields(t.children).reduce(Kc,0)}visitFixedSizeBinary(t){return t.byteWidth}visitFixedSizeList(t){return t.listSize*this.visitFields(t.children).reduce(Kc,0)}visitMap(t){return this.visitFields(t.children).reduce(Kc,0)}visitDictionary(t){return this.visit(t.indices)}visitFields(t){return(t||[]).map((t=>this.visit(t.type)))}visitSchema(t){return this.visitFields(t.fields).reduce(Kc,0)}};const Qc=new class extends Qn{visitNull(){return Qu}visitBool(){return wu}visitInt(){return zu}visitInt8(){return ju}visitInt16(){return Pu}visitInt32(){return Vu}visitInt64(){return $u}visitUint8(){return Yu}visitUint16(){return qu}visitUint32(){return Hu}visitUint64(){return Wu}visitFloat(){return Eu}visitFloat16(){return ku}visitFloat32(){return Ou}visitFloat64(){return Nu}visitUtf8(){return yc}visitBinary(){return _u}visitFixedSizeBinary(){return Iu}visitDate(){return xu}visitDateDay(){return Mu}visitDateMillisecond(){return Su}visitTimestamp(){return nc}visitTimestampSecond(){return rc}visitTimestampMillisecond(){return ic}visitTimestampMicrosecond(){return oc}visitTimestampNanosecond(){return ac}visitTime(){return sc}visitTimeSecond(){return uc}visitTimeMillisecond(){return cc}visitTimeMicrosecond(){return lc}visitTimeNanosecond(){return fc}visitDecimal(){return Au}visitList(){return Zu}visitStruct(){return ec}visitUnion(){return hc}visitDenseUnion(){return dc}visitSparseUnion(){return pc}visitDictionary(){return Tu}visitInterval(){return Cu}visitIntervalDayTime(){return Uu}visitIntervalYearMonth(){return Ru}visitFixedSizeList(){return Bu}visitMap(){return Ju}};function tl(t,e){if(De(e))return Nn.from({nullValues:[null,void 0],type:t(),values:e});if(Fe(e))return Nn.from({nullValues:[null,void 0],type:t(),values:e});const{values:n=[],type:r=t(),nullValues:i=[null,void 0]}={...e};return De(n),Nn.from({nullValues:i,...e,type:r})}Nn.new=function(t,...e){return new(Qc.getVisitFn(t)())(t,...e)},Nn.from=function(t){const{values:e=[],...n}={nullValues:[null,void 0],...t};if(De(e)){const t=[...ui.throughIterable(n)(e)];return 1===t.length?t[0]:Eo.concat(t)}return(async t=>{const r=ui.throughAsyncIterable(n);for await(const n of r(e))t.push(n);return 1===t.length?t[0]:Eo.concat(t)})([])},vu.prototype.get=function(t){return zc.visit(this,t)},vu.prototype.set=function(t,e){return wa.visit(this,t,e)},vu.prototype.indexOf=function(t,e){return $c.visit(this,t,e)},vu.prototype.toArray=function(){return Xc.visit(this)},vu.prototype.getByteWidth=function(){return Jc.visit(this.type)},vu.prototype[Symbol.iterator]=function(){return Hc.visit(this)},vu.prototype._bindDataAccessors=function(){const t=this.nullBitmap;t&&t.byteLength>0&&(this.get=(e=this.get,function(t){return this.isValid(t)?e.call(this,t):null}),this.set=function(t){return function(e,n){Hn(this.nullBitmap,this.offset+e,!(null===n||void 0===n))&&t.call(this,e,n)}}(this.set));var e},Object.keys(Ln).map((t=>Ln[t])).filter((t=>"number"===typeof t)).filter((t=>t!==Ln.NONE)).forEach((t=>{const e=Qc.visit(t);e.prototype.get=function(t){return function(e){return t(this,e)}}(zc.getVisitFn(t)),e.prototype.set=mc(wa.getVisitFn(t)),e.prototype.indexOf=mc($c.getVisitFn(t)),e.prototype.toArray=gc(Xc.getVisitFn(t)),e.prototype.getByteWidth=function(t){return function(){return t(this.type)}}(Jc.getVisitFn(t)),e.prototype[Symbol.iterator]=gc(Hc.getVisitFn(t))}));class el extends Eo{constructor(...t){let e=null;t[0]instanceof Yo&&(e=t.shift());let n=Lo(nl,t);if(!e&&!(e=n[0]&&n[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");n[0]||(n[0]=new rl(e)),super(new Yr(e.fields),n),this._schema=e,this._chunks=n}static empty(t=new Yo([])){return new el(t,[])}static from(t){if(!t)return el.empty();if("object"===typeof t){let e=De(t.values)?function(t){const{type:e}=t;if(e instanceof Yr)return el.fromStruct(ec.from(t));return null}(t):Fe(t.values)?function(t){const{type:e}=t;if(e instanceof Yr)return ec.from(t).then((t=>el.fromStruct(t)));return null}(t):null;if(null!==e)return e}let e=ol.from(t);return Ne(e)?(async()=>await el.from(await e))():e.isSync()&&(e=e.open())?e.schema?new el(e.schema,[...e]):el.empty():(async t=>{const e=await t,n=e.schema,r=[];if(n){for await(let t of e)r.push(t);return new el(n,r)}return el.empty()})(e.open())}static async fromAsync(t){return await el.from(t)}static fromStruct(t){return el.new(t.data.childData,t.type.children)}static new(...t){return new el(...function(t){return mu(new Yo(t.map((({field:t})=>t))),t)}((t=>{const[e,n]=$o(t,[[],[]]);return n.map(((t,n)=>t instanceof No?No.new(t.field.clone(e[n]),t):t instanceof Nn?No.new(e[n],t):No.new(e[n],[])))})(t)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(t=this._chunks){return new el(this._schema,t)}getColumn(t){return this.getColumnAt(this.getColumnIndex(t))}getColumnAt(t){return this.getChildAt(t)}getColumnIndex(t){return this._schema.fields.findIndex((e=>e.name===t))}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,n;const r=this._schema.fields,i=this._children||(this._children=[]);if(n=i[t])return n;if(e=r[t]){const n=this._chunks.map((e=>e.getChildAt(t))).filter((t=>null!=t));if(n.length>0)return i[t]=new No(e,n)}return null}serialize(t="binary",e=!0){return(e?fu:hu).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...t){const e=this._schema.fields.reduce(((t,e,n)=>t.set(e.name,n)),new Map);return this.selectAt(...t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(...t){const e=this._schema.selectAt(...t);return new el(e,this._chunks.map((({length:n,data:{childData:r}})=>new nl(e,n,t.map((t=>r[t])).filter(Boolean)))))}assign(t){const e=this._schema.fields,[n,r]=t.schema.fields.reduce(((t,n,r)=>{const[i,o]=t,a=e.findIndex((t=>t.name===n.name));return~a?o[a]=r:i.push(r),t}),[[],[]]),i=this._schema.assign(t.schema),o=[...e.map(((e,n,i,o=r[n])=>void 0===o?this.getColumnAt(n):t.getColumnAt(o))),...n.map((e=>t.getColumnAt(e)))].filter(Boolean);return new el(...mu(i,o))}}class nl extends ec{constructor(...t){let e,n,r=t[0];if(t[1]instanceof Qr)[,e,n]=t;else{const n=r.fields,[,i,o]=t;e=Qr.Struct(new Yr(n),0,i,0,null,o)}super(e,n),this._schema=r}static from(t){return De(t.values),el.from(t)}static new(...t){const[e,n]=Co(t),r=n.filter((t=>t instanceof Nn));return new nl(...function(t,e,n=e.reduce(((t,e)=>Math.max(t,e.length)),0)){let r,i,o=-1,a=e.length;const s=[...t.fields],u=[],c=(n+63&-64)>>3;for(;++o<a;)(r=e[o])&&r.length===n?u[o]=r:((i=s[o]).nullable||(s[o]=s[o].clone({nullable:!0})),u[o]=r?r._changeLengthAndBackfillNullBitmap(n):Qr.new(i.type,0,n,n,gu(c)));return[new Yo(s),n,u]}(new Yo(e),r.map((t=>t.data))))}clone(t,e=this._children){return new nl(this._schema,t,e)}concat(...t){const e=this._schema,n=Eo.flatten(this,...t);return new el(e,n.map((({data:t})=>new nl(e,t))))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=il.collect(this))}select(...t){const e=this._schema.fields.reduce(((t,e,n)=>t.set(e.name,n)),new Map);return this.selectAt(...t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(...t){const e=this._schema.selectAt(...t),n=t.map((t=>this.data.childData[t])).filter(Boolean);return new nl(e,this.length,n)}}class rl extends nl{constructor(t){super(t,0,t.fields.map((t=>Qr.new(t.type,0,0,0))))}}class il extends Qn{constructor(){super(...arguments),this.dictionaries=new Map}static collect(t){return(new il).visit(t.data,new Yr(t.schema.fields)).dictionaries}visit(t,e){return hr.isDictionary(e)?this.visitDictionary(t,e):(t.childData.forEach(((t,n)=>this.visit(t,e.children[n].type))),this)}visitDictionary(t,e){const n=t.dictionary;return n&&n.length>0&&this.dictionaries.set(e.id,n),this}}class ol extends _e{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return Ne(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return In.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return In.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof ol?t:Le(t)?function(t){return new al(new yl(t))}(t):Ue(t)?async function(t){const{size:e}=await t.stat(),n=new Ra(t,e);if(e>=ru&&tu(await n.readAt(0,eu+7&-8)))return new cl(new pl(n));return new sl(new hl(n))}(t):Ne(t)?(async()=>await ol.from(await t))():Re(t)||ze(t)||je(t)||Fe(t)?async function(t){const e=await t.peek(eu+7&-8);return e&&e.byteLength>=4?tu(e)?new ul(new dl(await t.read())):new sl(new hl(t)):new sl(new hl(async function*(){}()))}(new Fa(t)):function(t){const e=t.peek(eu+7&-8);return e&&e.byteLength>=4?tu(e)?new ul(new dl(t.read())):new al(new fl(t)):new al(new fl(function*(){}()))}(new Da(t))}static readAll(t){return t instanceof ol?t.isSync()?ml(t):bl(t):Le(t)||ArrayBuffer.isView(t)||De(t)||Ce(t)?ml(t):bl(t)}}class al extends ol{constructor(t){super(t),this._impl=t}[Symbol.iterator](){return this._impl[Symbol.iterator]()}async*[Symbol.asyncIterator](){yield*this[Symbol.iterator]()}}class sl extends ol{constructor(t){super(t),this._impl=t}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class ul extends al{constructor(t){super(t),this._impl=t}}class cl extends sl{constructor(t){super(t),this._impl=t}}class ll{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){return new nl(this.schema,t.length,this._loadVectors(t,e,this.schema.fields))}_loadDictionaryBatch(t,e){const{id:n,isDelta:r,data:i}=t,{dictionaries:o,schema:a}=this,s=o.get(n);if(r||!s){const t=a.dictionaries.get(n);return s&&r?s.concat(Nn.new(this._loadVectors(i,e,[t])[0])):Nn.new(this._loadVectors(i,e,[t])[0])}return s}_loadVectors(t,e,n){return new qa(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class fl extends ll{constructor(t,e){super(e),this._reader=Le(t)?new Ks(this._handle=t):new Gs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=gl(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):be}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):be}next(){if(this.closed)return be;let t,{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),r=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),r=e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new rl(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class hl extends ll{constructor(t,e){super(e),this._reader=new Xs(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(t){return this.closed||(this.autoDestroy=gl(this,t),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(t):be}async return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(t):be}async next(){if(this.closed)return be;let t,{_reader:e}=this;for(;t=await this._readNextMessageAndValidate();)if(t.isSchema())await this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),r=await e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),r=await e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new rl(this.schema)}):await this.return()}async _readNextMessageAndValidate(t){return await this._reader.readMessage(t)}}class dl extends fl{constructor(t,e){super(t instanceof Ua?t:new Ua(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){if(this.closed)return null;this._footer||this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&this._handle.seek(e.offset)){const t=this._reader.readMessage(Vn.RecordBatch);if(t&&t.isRecordBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}_readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&this._handle.seek(e.offset)){const t=this._reader.readMessage(Vn.DictionaryBatch);if(t&&t.isDictionaryBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,r)}}}_readFooter(){const{_handle:t}=this,e=t.size-nu,n=t.readInt32(e),r=t.readAt(e-n,n);return Ea.decode(r)}_readNextMessageAndValidate(t){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(e&&this._handle.seek(e.offset))return this._reader.readMessage(t)}return null}}class pl extends hl{constructor(t,...e){const n="number"!==typeof e[0]?e.shift():void 0,r=e[0]instanceof Map?e.shift():void 0;super(t instanceof Ra?t:new Ra(t,n),r)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}async open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(t)}async readRecordBatch(t){if(this.closed)return null;this._footer||await this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&await this._handle.seek(e.offset)){const t=await this._reader.readMessage(Vn.RecordBatch);if(t&&t.isRecordBatch()){const e=t.header(),n=await this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}async _readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&await this._handle.seek(e.offset)){const t=await this._reader.readMessage(Vn.DictionaryBatch);if(t&&t.isDictionaryBatch()){const e=t.header(),n=await this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,r)}}}async _readFooter(){const{_handle:t}=this;t._pending&&await t._pending;const e=t.size-nu,n=await t.readInt32(e),r=await t.readAt(e-n,n);return Ea.decode(r)}async _readNextMessageAndValidate(t){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&await this._handle.seek(e.offset))return await this._reader.readMessage(t)}return null}}class yl extends fl{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new Ha(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function gl(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*ml(t){const e=ol.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}async function*bl(t){const e=await ol.from(t);try{if(!(await e.open({autoDestroy:!1})).closed)do{yield e}while(!(await e.reset().open()).closed)}finally{await e.cancel()}}class vl{constructor(t){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{readableStrategy:e,writableStrategy:n,queueingStrategy:r="count",...i}=t;this._controller=null,this._builder=ui.new(i),this._getSize="bytes"!==r?_l:wl;const{highWaterMark:o=("bytes"===r?16384:1e3)}={...e},{highWaterMark:a=("bytes"===r?16384:1e3)}={...n};this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:t=>{this._maybeFlush(this._builder,this._controller=t)},start:t=>{this._maybeFlush(this._builder,this._controller=t)}},{highWaterMark:o,size:"bytes"!==r?_l:wl}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:t=>this._writeValueAndReturnChunkSize(t)})}_writeValueAndReturnChunkSize(t){const e=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(t)),this._bufferedSize-e}_maybeFlush(t,e){null!==e&&(this._bufferedSize>=e.desiredSize&&++this._numChunks&&this._enqueue(e,t.toVector()),t.finished&&((t.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(e,t.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(e,null)))}_enqueue(t,e){this._bufferedSize=0,this._controller=null,null===e?t.close():t.enqueue(e)}}const _l=t=>t.length,wl=t=>t.byteLength;class xl{eq(t){return t instanceof xl||(t=new Ml(t)),new kl(this,t)}le(t){return t instanceof xl||(t=new Ml(t)),new Ol(this,t)}ge(t){return t instanceof xl||(t=new Ml(t)),new Nl(this,t)}lt(t){return new Dl(this.ge(t))}gt(t){return new Dl(this.le(t))}ne(t){return new Dl(this.eq(t))}}class Ml extends xl{constructor(t){super(),this.v=t}}class Sl extends xl{constructor(t){super(),this.name=t}bind(t){if(!this.colidx){this.colidx=-1;const e=t.schema.fields;for(let t=-1;++t<e.length;)if(e[t].name===this.name){this.colidx=t;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}const e=this.vector=t.getChildAt(this.colidx);return t=>e.get(t)}}class Al{and(...t){return new Bl(this,...t)}or(...t){return new El(this,...t)}not(){return new Dl(this)}}class Tl extends Al{constructor(t,e){super(),this.left=t,this.right=e}bind(t){return this.left instanceof Ml?this.right instanceof Ml?this._bindLitLit(t,this.left,this.right):this._bindLitCol(t,this.left,this.right):this.right instanceof Ml?this._bindColLit(t,this.left,this.right):this._bindColCol(t,this.left,this.right)}}class Il extends Al{constructor(...t){super(),this.children=t}}Il.prototype.children=Object.freeze([]);class Bl extends Il{constructor(...t){t=t.reduce(((t,e)=>t.concat(e instanceof Bl?e.children:e)),[]),super(...t)}bind(t){const e=this.children.map((e=>e.bind(t)));return(t,n)=>e.every((e=>e(t,n)))}}class El extends Il{constructor(...t){t=t.reduce(((t,e)=>t.concat(e instanceof El?e.children:e)),[]),super(...t)}bind(t){const e=this.children.map((e=>e.bind(t)));return(t,n)=>e.some((e=>e(t,n)))}}class kl extends Tl{_bindLitLit(t,e,n){const r=e.v==n.v;return()=>r}_bindColCol(t,e,n){const r=e.bind(t),i=n.bind(t);return(t,e)=>r(t,e)==i(t,e)}_bindColLit(t,e,n){const r=e.bind(t);if(e.vector instanceof Tu){let t;const r=e.vector;return r.dictionary!==this.lastDictionary?(t=r.reverseLookup(n.v),this.lastDictionary=r.dictionary,this.lastKey=t):t=this.lastKey,-1===t?()=>!1:e=>r.getKey(e)===t}return(t,e)=>r(t,e)==n.v}_bindLitCol(t,e,n){return this._bindColLit(t,n,e)}}class Ol extends Tl{_bindLitLit(t,e,n){const r=e.v<=n.v;return()=>r}_bindColCol(t,e,n){const r=e.bind(t),i=n.bind(t);return(t,e)=>r(t,e)<=i(t,e)}_bindColLit(t,e,n){const r=e.bind(t);return(t,e)=>r(t,e)<=n.v}_bindLitCol(t,e,n){const r=n.bind(t);return(t,n)=>e.v<=r(t,n)}}class Nl extends Tl{_bindLitLit(t,e,n){const r=e.v>=n.v;return()=>r}_bindColCol(t,e,n){const r=e.bind(t),i=n.bind(t);return(t,e)=>r(t,e)>=i(t,e)}_bindColLit(t,e,n){const r=e.bind(t);return(t,e)=>r(t,e)>=n.v}_bindLitCol(t,e,n){const r=n.bind(t);return(t,n)=>e.v>=r(t,n)}}class Dl extends Al{constructor(t){super(),this.child=t}bind(t){const e=this.child.bind(t);return(t,n)=>!e(t,n)}}el.prototype.countBy=function(t){return new Fl(this.chunks).countBy(t)},el.prototype.scan=function(t,e){return new Fl(this.chunks).scan(t,e)},el.prototype.scanReverse=function(t,e){return new Fl(this.chunks).scanReverse(t,e)},el.prototype.filter=function(t){return new Fl(this.chunks).filter(t)};class Fl extends el{filter(t){return new Cl(this.chunks,t)}scan(t,e){const n=this.chunks,r=n.length;for(let i=-1;++i<r;){const r=n[i];e&&e(r);for(let e=-1,n=r.length;++e<n;)t(e,r)}}scanReverse(t,e){const n=this.chunks;for(let r=n.length;--r>=0;){const i=n[r];e&&e(i);for(let e=i.length;--e>=0;)t(e,i)}}countBy(t){const e=this.chunks,n=e.length,r="string"===typeof t?new Sl(t):t;r.bind(e[n-1]);const i=r.vector;if(!hr.isDictionary(i.type))throw new Error("countBy currently only supports dictionary-encoded columns");const o=Math.ceil(Math.log(i.length)/Math.log(256)),a=new(4==o?Uint32Array:o>=2?Uint16Array:Uint8Array)(i.dictionary.length);for(let s=-1;++s<n;){const t=e[s];r.bind(t);const n=r.vector.indices;for(let e=-1,r=t.length;++e<r;){let t=n.get(e);null!==t&&a[t]++}}return new Ll(i.dictionary,zu.from(a))}}class Ll extends el{constructor(t,e){const n=new Yo([new qo("values",t.type),new qo("counts",e.type)]);super(new nl(n,e.length,[t,e]))}toJSON(){const t=this.getColumnAt(0),e=this.getColumnAt(1),n={};for(let r=-1;++r<this.length;)n[t.get(r)]=e.get(r);return n}}class Cl extends Fl{constructor(t,e){super(t),this._predicate=e}scan(t,e){const n=this._chunks,r=n.length;for(let i=-1;++i<r;){const r=n[i],o=this._predicate.bind(r);let a=!1;for(let n=-1,i=r.length;++n<i;)o(n,r)&&(e&&!a&&(e(r),a=!0),t(n,r))}}scanReverse(t,e){const n=this._chunks;for(let r=n.length;--r>=0;){const i=n[r],o=this._predicate.bind(i);let a=!1;for(let n=i.length;--n>=0;)o(n,i)&&(e&&!a&&(e(i),a=!0),t(n,i))}}count(){let t=0;const e=this._chunks,n=e.length;for(let r=-1;++r<n;){const n=e[r],i=this._predicate.bind(n);for(let e=-1,r=n.length;++e<r;)i(e,n)&&++t}return t}*[Symbol.iterator](){const t=this._chunks,e=t.length;for(let n=-1;++n<e;){const e=t[n],r=this._predicate.bind(e);for(let t=-1,n=e.length;++t<n;)r(t,e)&&(yield e.get(t))}}filter(t){return new Cl(this._chunks,this._predicate.and(t))}countBy(t){const e=this._chunks,n=e.length,r="string"===typeof t?new Sl(t):t;r.bind(e[n-1]);const i=r.vector;if(!hr.isDictionary(i.type))throw new Error("countBy currently only supports dictionary-encoded columns");const o=Math.ceil(Math.log(i.length)/Math.log(256)),a=new(4==o?Uint32Array:o>=2?Uint16Array:Uint8Array)(i.dictionary.length);for(let s=-1;++s<n;){const t=e[s],n=this._predicate.bind(t);r.bind(t);const i=r.vector.indices;for(let e=-1,r=t.length;++e<r;){let r=i.get(e);null!==r&&n(e,t)&&a[r]++}}return new Ll(i.dictionary,zu.from(a))}}In.toDOMStream=function(t,e){if(Fe(t))return function(t,e){let n=null;const r=e&&"bytes"===e.type||!1,i=e&&e.highWaterMark||2**24;return new ReadableStream({...e,async start(e){await o(e,n||(n=t[Symbol.asyncIterator]()))},async pull(t){n?await o(t,n):t.close()},async cancel(){n&&n.return&&await n.return(),n=null}},{highWaterMark:r?i:void 0,...e});async function o(t,e){let n,i=null,o=t.desiredSize||null;for(;!(i=await e.next(r?o:null)).done;)if(ArrayBuffer.isView(i.value)&&(n=Ke(i.value))&&(null!=o&&r&&(o=o-n.byteLength+1),i.value=n),t.enqueue(i.value),null!=o&&--o<=0)return;t.close()}}(t,e);if(De(t))return function(t,e){let n=null;const r=e&&"bytes"===e.type||!1,i=e&&e.highWaterMark||2**24;return new ReadableStream({...e,start(e){o(e,n||(n=t[Symbol.iterator]()))},pull(t){n?o(t,n):t.close()},cancel(){n&&n.return&&n.return(),n=null}},{highWaterMark:r?i:void 0,...e});function o(t,e){let n,i=null,o=t.desiredSize||null;for(;!(i=e.next(r?o:null)).done;)if(ArrayBuffer.isView(i.value)&&(n=Ke(i.value))&&(null!=o&&r&&(o=o-n.byteLength+1),i.value=n),t.enqueue(i.value),null!=o&&--o<=0)return;t.close()}}(t,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")},ui.throughDOM=function(t){return new vl(t)},ol.throughDOM=function(t,e){const n=new Na;let r=null;const i=new ReadableStream({async cancel(){await n.close()},async start(t){await o(t,r||(r=await async function(){return await(await ol.from(n)).open(e)}()))},async pull(t){r?await o(t,r):t.close()}});return{writable:new WritableStream(n,{highWaterMark:16384,...t}),readable:i};async function o(t,e){let n=t.desiredSize,r=null;for(;!(r=await e.next()).done;)if(t.enqueue(r.value),null!=n&&--n<=0)return;t.close()}},lu.throughDOM=function(t,e){const n=new this(t),r=new Fa(n),i=new ReadableStream({type:"bytes",async cancel(){await r.cancel()},async pull(t){await o(t)},async start(t){await o(t)}},{highWaterMark:16384,...e});return{writable:new WritableStream(n,t),readable:i};async function o(t){let e=null,n=t.desiredSize;for(;e=await r.read(n||null);)if(t.enqueue(e),null!=n&&(n-=e.byteLength)<=0)return;t.close()}};var Ul=1,Rl=2,zl=3,jl=4,Pl=5,Vl=6,$l=8,Yl=9,ql=11,Hl=-1,Wl=-2,Gl=-3,Xl=-4,Kl=-5,Zl=-6,Jl=-7,Ql=-8,tf=-9,ef=-10,nf=-11,rf=-12,of=-13,af=-14,sf=-19,uf=-20,cf=-21,lf=-22,ff=-25,hf=-26;function df(t,e=1){return(t*e+63&-64||64)/e}function pf(t,e,n=t.BYTES_PER_ELEMENT){return new t(df(e,n))}function yf(t){return t instanceof Qr?t:Qr.new(t.type,0,t.length,t.nulls,t.buffers,null,t.dict)}const gf=new TextEncoder;const mf=gf.encodeInto?function(t,e,n){return gf.encodeInto(n,t.subarray(e)).written}:function(t,e,n){const r=gf.encode(n);return t.set(r,e),r.length};function bf(t,e){const n=pf(t.ArrayType,e);return{set(t,e){n[e]=t},data:()=>({type:t,length:e,buffers:[null,n]})}}function vf(t,e){const n=pf(t.ArrayType,e/8);return{set(t,e){t&&(n[e>>3]|=1<<e%8)},data:()=>({type:t,length:e,buffers:[null,n]})}}function _f(t,e){const n=pf(t.ArrayType,e);return{set(t,e){n[e]=t/864e5|0},data:()=>({type:t,length:e,buffers:[null,n]})}}function wf(t,e){const n=pf(t.ArrayType,e<<1);return{set(t,e){const r=e<<1;n[r]=t%4294967296|0,n[r+1]=t/4294967296|0},data:()=>({type:t,length:e,buffers:[null,n]})}}function xf(t,e){const n=[],r=pf(t.indices.ArrayType,e),i=Object.create(null);let o=-1,a=0;return{set(t,e){const s=String(t);let u=i[s];void 0===u&&(a+=s.length,i[s]=u=++o,n.push(s)),r[e]=u},data:()=>({type:t,length:e,buffers:[null,r],dict:Mf(t.dictionary,n,a)})}}function Mf(t,e,n){const r=function(t,e,n){const r=pf(Int32Array,e+1),i=pf(Uint8Array,3*n);let o=0;return{set(t,e){o+=mf(i,o,t),r[e+1]=o},data:()=>{const n=df(o),a=i.length>n?i.subarray(0,n):i;return{type:t,length:e,buffers:[r,a]}}}}(t,e.length,n);return e.forEach(r.set),i=r.data(),Nn.new(yf(i));var i}function Sf(t,e,n=!0){let r;switch(t.typeId){case Rl:r=t.bitWidth<64?bf:null;break;case zl:r=t.precision>0?bf:null;break;case Hl:r=t.dictionary.typeId===Pl&&t.indices.typeId===Rl&&t.indices.bitWidth<64?xf:null;break;case Vl:r=vf;break;case $l:r=t.unit?wf:_f}return null==r?function(t){const e=ui.new({type:t,nullValues:[null,void 0],highWaterMark:1/0});return{set(t,n){e.set(n,t)},data:()=>e.finish().flush()}}(t):n?function(t,e){const n=pf(Uint8Array,e/8);let r=0;return{set(e,i){null==e?++r:(t.set(e,i),n[i>>3]|=1<<i%8)},data:()=>{const e=t.data();return r&&(e.nulls=r,e.buffers[2]=n),e}}}(r(t,e),e):r(t,e)}function Af(t,e,n,r,i=!0){const o=Sf(r,t,i);return e(n,o.set),yf(o.data())}function Tf(t){if(t instanceof hr||null==t)return t;switch(t){case jl:return new Ir;case Vl:return new Er;case of:return new Nr;case af:case $l:return new Dr;case Hl:return new Zr(new Br,new mr);case ef:return new Sr;case nf:return new Ar;case rf:case zl:return new Tr;case Wl:return new yr;case Gl:return new gr;case Xl:case Rl:return new mr;case Kl:return new br;case ff:return new Pr;case ql:case hf:return new Vr;case Ul:return new dr;case cf:return new Ur;case uf:case Yl:return new Cr;case lf:return new Rr;case sf:return new Lr;case Zl:return new vr;case Jl:return new _r;case Ql:return new wr;case tf:return new xr;case Pl:return new Br;default:d(`Unsupported type code: ${at(t)}. Use a data type constructor instead?`)}}function If(t,e){const n=Bf();return t(e,n.add),n}function Bf(){const t={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(e){if(++t.count,null==e)return void++t.nulls;const n=typeof e;if("string"===n)++t.strings;else if("number"===n)++t.nums,e<t.min&&(t.min=e),e>t.max&&(t.max=e),Number.isInteger(e)&&++t.ints;else if("boolean"===n)++t.bools;else if("object"===n)if(_(e))++t.dates,0===(r=e).getUTCHours()&&0===r.getUTCMinutes()&&0===r.getUTCSeconds()&&0===r.getUTCMilliseconds()&&++t.utcdays;else if(D(e)){++t.arrays,e.length<t.minlen&&(t.minlen=e.length),e.length>t.maxlen&&(t.maxlen=e.length);const n=t.array_prof||(t.array_prof=Bf());e.forEach(n.add)}else{++t.structs;const n=t.struct_prof||(t.struct_prof={});for(const t in e){(n[t]||(n[t]=Bf())).add(e[t])}}else"bigint"===n&&(++t.bigints,e<t.min&&(t.min=e),e>t.max&&(t.max=e));var r},type:()=>Tf(function(t){const e=t.count-t.nulls;if(0===e)return Ul;if(t.ints===e){const e=Math.max(Math.abs(t.min)-1,t.max);return t.min<0?e>=2**31?rf:e<128?Wl:e<32768?Gl:Xl:e>=2**32?rf:e<256?Zl:e<65536?Jl:Ql}if(t.nums===e)return rf;if(t.bigints===e){const e=-t.min>t.max?-t.min-1n:t.max;return t.min<0?e<2**63?Kl:d(`BigInt exceeds 64 bits: ${e}`):t.max<2**64?tf:d(`BigInt exceeds 64 bits: ${t.max}`)}if(t.bools===e)return Vl;if(t.utcdays===e)return of;if(t.dates===e)return af;if(t.arrays===e){const e=qo.new("value",t.array_prof.type(),!0);return t.minlen===t.maxlen?new Wr(t.minlen,e):new $r(e)}if(t.structs===e){const e=t.struct_prof;return new Yr(Object.keys(e).map((t=>qo.new(t,e[t].type(),!0))))}if(t.strings>0)return Hl;d("Type inference failure")}(t))};return t}function Ef(t,e,n,r,i,o=!0){if(!(i=Tf(i))){const t=If(r,e);o=t.nulls>0,i=t.type()}return Af(n,r,e,i,o)}function kf(t,e,n,r,i,o=!0){i=Tf(i);const a=t.column(e),s=!(t.isFiltered()||t.isOrdered()),u=(c=a)instanceof Nn?c:c.vector instanceof Nn?c.vector:null;var c;if(u&&s&&Of(u.type,i))return u;const l=a.data;if(N(l)){const t=function(t){const e={Float32Array:Ar,Float64Array:Tr,Int8Array:yr,Int16Array:gr,Int32Array:mr,Uint8Array:vr,Uint16Array:_r,Uint32Array:wr,BigInt64Array:br,BigUint64Array:xr}[t.constructor.name];return e?new e:null}(l);if(s&&t&&Of(t,i))return function(t,e){const n=t.length,r=df(n,t.BYTES_PER_ELEMENT);let i=t;return n!==r&&(i=new t.constructor(r),i.set(t)),yf({type:e,length:n,buffers:[null,i]})}(l,t);i=i||t,o=!1}if(!i){const t=If(r,a);o=t.nulls>0,i=t.type()}return Af(n,r,a,i,o)}function Of(t,e){return!t||!e||t.compareTo(e)}function Nf(t,e,n){const r=Math.min(t.length,n+e);return(e,i)=>{for(let o=n;o<r;++o)i(t[o][e],o)}}function Df(t,e,n){const r=0===n&&t.numRows()<=e&&!t.isFiltered()&&!t.isOrdered();return(i,o)=>{let a=-1;r&&D(i.data)?i.data.forEach(o):t.scan((t=>o(i.get(t),++a)),!0,e,n)}}function Ff(){try{return el}catch(t){d("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage")}}var Lf=function(t,e={}){const{types:n={}}=e,{dataFrom:r,names:i,nrows:o,scan:a}=function(t,e){const{columns:n,limit:r=1/0,offset:i=0}=e,o=y(n)?n(t):c(n)?n:null;if(c(t))return{dataFrom:Ef,names:o||Object.keys(t[0]),nrows:Math.min(r,t.length-i),scan:Nf(t,r,i)};if(function(t){return t&&y(t.reify)}(t))return{dataFrom:kf,names:o||t.columnNames(),nrows:Math.min(r,t.numRows()-i),scan:Df(t,r,i)};d("Unsupported input data type")}(t,e);return Ff().new(i.map((e=>{const i=r(t,e,o,a,n[e]);return i.length===o?i:d("Column length mismatch")})),i)};function Cf(t,e){return y(e)?e(t):e||t.columnNames()}function Uf(t,e,n){const r=n.format||{},i=n.align||{},o={},a={};return e.forEach((e=>{const s=function(t,e={}){let n=0,r=0,i=0,o=0,a=0,s=0;return t((t=>{if(++n,null==t)return void++r;const e=typeof t;if("object"===e&&_(t))++i,0===(u=t).getUTCHours()&&0===u.getUTCMinutes()&&0===u.getUTCSeconds()&&0===u.getUTCMilliseconds()&&++o;else if("number"===e&&(++a,t===t&&(0|t)!==t)){const e=t+"",n=e.indexOf(".");if(n>=0){const t=e.indexOf("e"),r=t>0?t:e.length;s=Math.max(s,r-n-1)}}var u})),{align:(r+a+i)/n>.5?"r":"l",format:{utc:i===o,digits:Math.min(s,e.maxdigits||6)}}}(function(t,e){const n=t.column(e);return e=>t.scan((t=>e(n.get(t))))}(t,e),n);a[e]=i[e]||s.align,o[e]=r[e]||s.format})),{align:a,format:o}}function Rf(t,e,n=100,r,i){const o=t.data(),a=e.length;t.scan((t=>{i.row(t);for(let n=0;n<a;++n){const r=e[n];i.cell(o[e[n]].get(t),r,n)}}),!0,n,r)}function zf(t,e={}){if(y(e))return e(t)+"";const n=typeof t;if("object"===n){if(_(t))return e.utc?P(t):j(t);{const n=JSON.stringify(t,((t,e)=>N(e)?Array.from(e):e)),r=e.maxlen||30;return n.length>r?n.slice(0,28)+"\u2026"+("["===n[0]?"]":"}"):n}}if("number"===n){const n=e.digits||0;let r;return 0!==t&&((r=Math.abs(t))>=1e18||r<Math.pow(10,-n))?t.toExponential(n):t.toFixed(n)}return t+""}function jf(t,e,n={}){for(const r in t)n[r]=e(t[r],r);return n}function Pf(t,e={}){const n=Cf(t,e.columns),{align:r,format:i}=Uf(t,n,e),o=function(t){return jf(t.style,(t=>y(t)?t:()=>t))}(e),a=e.null,s=(t,e)=>zf(t,e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=a?(t,e)=>null==t?a(t):s(t,e):s;let c=-1,l=-1;const f=(t,e,n)=>{const i=n?(t=>"c"===t?"center":"r"===t?"right":"left")(r[e]):"",a=o[t]&&o[t](e,l,c)||"",s=(i?`text-align: ${i};`+(a?" ":""):"")+a;return`<${t}${s?` style="${s}"`:""}>`};let h=f("table")+f("thead")+f("tr",c)+n.map((t=>`${f("th",t,1)}${t}</th>`)).join("")+"</tr></thead>"+f("tbody");return Rf(t,n,e.limit,e.offset,{row(t){c=t,h+=(++l?"</tr>":"")+f("tr")},cell(t,e){h+=f("td",e,1)+u(t,i[e])+"</td>"}}),h+"</tr></tbody></table>"}const Vf=t=>_(t)?P(t,!0):t;function $f(t,e){for(const[n,r]of Zt(e))t.set(n,r);return t}function Yf(t,e,n=new Map){return M(e=p(e)?t.columnName(e):e)?n.set(e,e):c(e)?e.forEach((e=>Yf(t,e,n))):y(e)?Yf(t,e(t),n):w(e)?$f(n,e):d(`Invalid column selection: ${at(e)}`),n}function qf(t,e){return t.toObject=e,t}function Hf(t){return c(t)?t.map(Hf):t&&t.toObject?t.toObject():t}function Wf(){return qf((t=>t.columnNames()),(()=>({all:[]})))}function Gf(...t){return t=t.flat(),qf((e=>{const n=Yf(e,t);return e.columnNames((t=>!n.has(t)))}),(()=>({not:Hf(t)})))}function Xf(t){return M(t)&&(t=RegExp(t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"))),qf((e=>e.columnNames((e=>t.test(e)))),(()=>({matches:[t.source,t.flags]})))}class Kf extends m{static from(t,e){return new Kf(S(t,e),e)}static new(t,e){if(t instanceof Kf)return t;const n={},r=[];for(const[i,o]of Zt(t))n[i]=o,r.push(i);return new Kf(n,e||r)}constructor(t,e,n,r,i,o){jf(t,v,t);super(e=e||Object.keys(t),e.length?t[e[0]].length:0,t,n,r,i,o)}create({data:t,names:e,filter:n,groups:r,order:i}){const o=void 0!==n?n:this.mask();return new Kf(t||this._data,e||(t?null:this._names),o,void 0!==r?r:function(t,e){if(!t||!e)return t;const{keys:n,rows:r,size:i}=t,o=new Int32Array(i);e.scan((t=>o[n[t]]=1));const a=o.reduce(((t,e)=>t+e),0);if(a===i)return t;const s=Array(a);let u=0;for(let l=0;l<i;++l)o[l]&&(s[o[l]=u++]=r[l]);const c=new Uint32Array(n.length);return e.scan((t=>c[t]=o[n[t]])),{...t,keys:c,rows:s,size:u}}(this._group,n&&o),void 0!==i?i:this._order,this._params)}assign(...t){const e=this.numRows(),n=this.reify(),r=B(n).groupby(n.groups());return t.forEach((t=>{(t=Kf.new(t)).numRows()!==e&&d("Assign row counts do not match"),(t=t.reify()).columnNames((e=>r.add(e,t.column(e))))})),this.create(r.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,e=Array){const n=this.column(t),r=new e(this.numRows());let i=-1;return this.scan((t=>r[++i]=n.get(t)),!0),r}get(t,e=0){const n=this.column(t);return this.isFiltered()||this.isOrdered()?n.get(this.indices()[e]):n.get(e)}getter(t){const e=this.column(t),n=this.isFiltered()||this.isOrdered()?this.indices():null;return n?t=>e.get(n[t]):e?t=>e.get(t):d(`Unrecognized column: ${t}`)}object(t=0){return Zf(this)(t)}objects(t={}){const{grouped:e,limit:n,offset:r}=t,i=ee(Yf(this,t.columns||Wf())),o=[];if(this.scan(((t,e)=>o.push(i(t,e))),!0,n,r),e&&this.isGrouped()){const t=[];return this.scan((e=>t.push(e)),!0,n,r),gt(this,t,o,e)}return o}*[Symbol.iterator](){const t=Zf(this),e=this.numRows();for(let n=0;n<e;++n)yield t(n)}reify(t){const e=t?t.length:this.numRows(),n=this._names;let r,i;if(!t&&!this.isOrdered()){if(!this.isFiltered())return this;e===this.totalRows()&&(r=this.data())}if(!r){const a=t?e=>t.forEach(e):t=>this.scan(t,!0),s=n.length;r={};for(let t=0;t<s;++t){const i=n[t],s=this.column(i),u=r[i]=new(N((o=s).data)?o.data.constructor:Array)(e);let c=-1;a((t=>u[++c]=s.get(t)))}this.isGrouped()&&(i=function(t,e,n,r){const{keys:i,rows:o,size:a}=t;let s=o,u=a,c=null;if(n){c=new Int32Array(a),e((t=>c[i[t]]=1));const t=c.reduce(((t,e)=>t+e),0);if(t!==a){s=Array(t),u=0;for(let t=0;t<a;++t)c[t]&&(s[c[t]=u++]=o[t])}}let l=-1;const f=new Uint32Array(r);return e(u!==a?t=>f[++l]=c[i[t]]:t=>f[++l]=i[t]),{...t,keys:f,rows:s,size:u}}(this.groups(),a,!!t,e))}var o;return this.create({data:r,names:n,groups:i,filter:null,order:null})}transform(...t){return t.flat().reduce(((t,e)=>e(t)),this)}toArrow(t){return Lf(this,t)}toArrowBuffer(t){return Lf(this,t).serialize()}toCSV(t){return function(t,e={}){const n=Cf(t,e.columns),r=e.format||{},i=e.delimiter||",",o=new RegExp(`["${i}\n\r]`),a=t=>null==t?"":_(t)?P(t,!0):o.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t,s=n.map(a);let u="";return Rf(t,n,e.limit||1/0,e.offset,{row(){u+=s.join(i)+"\n"},cell(t,e,n){s[n]=a(r[e]?r[e](t):t)}}),u+s.join(i)}(this,t)}toHTML(t){return Pf(this,t)}toJSON(t){return function(t,e={}){const n=function(t,e=!0,n=!1){return void 0===t||t?e:n}(e.schema),r=e.format||{},i=Cf(t,e.columns);let o="{";return n&&(o+='"schema":{"fields":'+JSON.stringify(i.map((t=>({name:t}))))+'},"data":{'),i.forEach(((n,i)=>{o+=(i?",":"")+JSON.stringify(n)+":[";const a=t.column(n),s=r[n]||Vf;let u=-1;t.scan((t=>{const e=a.get(t);o+=(++u?",":"")+JSON.stringify(s(e))}),!0,e.limit,e.offset),o+="]"})),o+"}"+(n?"}":"")}(this,t)}toMarkdown(t){return function(t,e={}){const n=Cf(t,e.columns),{align:r,format:i}=Uf(t,n,e),o=t=>t.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+"|\n|"+n.map((t=>{return"c"===(e=r[t])?":-:":"r"===e?"-:":":-";var e})).join("|")+"|";return Rf(t,n,e.limit,e.offset,{row(){a+="\n|"},cell(t,e){a+=o(zf(t,i[e]))+"|"}}),a+"\n"}(this,t)}}function Zf(t){let e=t._builder;if(!e){const n=ee(t.columnNames()),r=t.data();if(t.isOrdered()||t.isFiltered()){const i=t.indices();e=t=>n(i[t],r)}else e=t=>n(t,r);t._builder=e}return e}class Jf{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function Qf(t,e,n,r){const i=n[t.type]||n.Default;if(i&&!1===i(t,e,r))return;const o=ah[t.type];o&&o(t,e,n)}const th=(t,e,n)=>{Qf(t.argument,e,n,t)},eh=(t,e,n)=>{Qf(t.left,e,n,t),Qf(t.right,e,n,t)},nh=(t,e,n)=>{Qf(t.test,e,n,t),Qf(t.consequent,e,n,t),t.alternate&&Qf(t.alternate,e,n,t)},rh=(t,e,n)=>{oh(t.params,e,n,t),Qf(t.body,e,n,t)},ih=(t,e,n)=>{Qf(t.callee,e,n,t),oh(t.arguments,e,n,t)},oh=(t,e,n,r)=>{t.forEach((t=>Qf(t,e,n,r)))},ah={TemplateLiteral:(t,e,n)=>{oh(t.expressions,e,n,t),oh(t.quasis,e,n,t)},MemberExpression:(t,e,n)=>{Qf(t.object,e,n,t),Qf(t.property,e,n,t)},CallExpression:ih,NewExpression:ih,ArrayExpression:(t,e,n)=>{oh(t.elements,e,n,t)},AssignmentExpression:eh,AwaitExpression:th,BinaryExpression:eh,LogicalExpression:eh,UnaryExpression:th,UpdateExpression:th,ConditionalExpression:nh,ObjectExpression:(t,e,n)=>{oh(t.properties,e,n,t)},Property:(t,e,n)=>{Qf(t.key,e,n,t),Qf(t.value,e,n,t)},ArrowFunctionExpression:rh,FunctionExpression:rh,FunctionDeclaration:rh,VariableDeclaration:(t,e,n)=>{oh(t.declarations,e,n,t)},VariableDeclarator:(t,e,n)=>{Qf(t.id,e,n,t),Qf(t.init,e,n,t)},SpreadElement:(t,e,n)=>{Qf(t.argument,e,n,t)},BlockStatement:(t,e,n)=>{oh(t.body,e,n,t)},ExpressionStatement:(t,e,n)=>{Qf(t.expression,e,n,t)},IfStatement:nh,ForStatement:(t,e,n)=>{Qf(t.init,e,n,t),Qf(t.test,e,n,t),Qf(t.update,e,n,t),Qf(t.body,e,n,t)},WhileStatement:(t,e,n)=>{Qf(t.test,e,n,t),Qf(t.body,e,n,t)},DoWhileStatement:(t,e,n)=>{Qf(t.body,e,n,t),Qf(t.test,e,n,t)},SwitchStatement:(t,e,n)=>{Qf(t.discriminant,e,n,t),oh(t.cases,e,n,t)},SwitchCase:(t,e,n)=>{t.test&&Qf(t.test,e,n,t),oh(t.consequent,e,n,t)},ReturnStatement:th,Program:(t,e,n)=>{Qf(t.body[0],e,n,t)}};function sh(t){delete t.start,delete t.end,delete t.optional}function uh(t){sh(t),delete t.object,delete t.property,delete t.computed,t.table||delete t.table}function ch(t,e){return e&&e.type===t}function lh(t,e,n){t.aggronly&&d("Escaped functions are not valid as rollup or pivot values.");const r="(row,data)=>fn("+te(t.table.columnNames())+",$)";return{escape:Gt.escape(r,(i=e.expr,y(i)?i:()=>i),n)};var i}var fh=n(5244),hh={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"};const dh={ecmaVersion:11},ph=t=>(e,n)=>n.error(e,t+" not allowed"),yh=ph("Aggregate function"),gh=ph("Window function"),mh="Invalid column reference",bh="Invalid function call",vh="Invalid operator parameter",_h="Table expressions do not support closures",wh="Use aq.escape(fn) to use a function as-is (including closures)",xh=`\nNote: ${_h}. ${wh}, or use table.params({ name: value }) to define dynamic parameters.`,Mh=`\nNote: ${_h}. ${wh}, or use aq.addFunction(name, fn) to add new op functions.`;function Sh(t,e){const n=function(t){try{const e=t.field?function(t){const e=JSON.stringify(t+"");return t.table?`(a,b)=>b[${e}]`:`d=>d[${e}]`}(t):c(t)?at(t):t;return(0,fh.Qc)(`expr=(${e})`,dh).body[0].expression.right}catch(e){d("Expression parse error: "+(t+""))}}(e);let r=t.root=n;return t.spec=e,t.tuple=null,t.tuple1=null,t.tuple2=null,t.$param=null,t.$op=0,t.scope=new Set,t.paramsRef=new Map,t.columnRef=new Map,!function(t){return ch("FunctionExpression",t)||ch("ArrowFunctionExpression",t)}(r)?t.join?(t.scope.add(t.tuple1="d1"),t.scope.add(t.tuple2="d2"),t.scope.add(t.$param="$")):(t.scope.add(t.tuple="d"),t.scope.add(t.$param="$")):(!function(t,e){t.generator&&ph("Generator functions")(t,e);t.async&&ph("Async functions")(t,e);const{params:n}=t,r=n.length,i=t=>(n,r)=>e.columnRef.set(n,[r,t]),o=(t,n)=>e.paramsRef.set(t,n);r&&(e.join?(Bh(e,n[0],"tuple1",i(1)),r>1&&Bh(e,n[1],"tuple2",i(2)),r>2&&Bh(e,n[2],"$param",o)):(Bh(e,n[0],"tuple",i(0)),r>1&&Bh(e,n[1],"$param",o)));e.root=t.body}(r,t),r=r.body),Qf(r,t,Ah),t.root}const Ah={FunctionDeclaration:ph("Function definitions"),ForStatement:ph("For loops"),ForOfStatement:ph("For-of loops"),ForInStatement:ph("For-in loops"),WhileStatement:ph("While loops"),DoWhileStatement:ph("Do-while loops"),AwaitExpression:ph("Await expressions"),ArrowFunctionExpression:ph("Function definitions"),AssignmentExpression:ph("Assignments"),FunctionExpression:ph("Function definitions"),NewExpression:ph('Use of "new"'),UpdateExpression:ph("Update expressions"),VariableDeclarator(t,e){Rh(t.id,e)},Identifier(t,e,n){Oh(t,e,n)&&!e.scope.has(t.name)&&e.error(t,"Invalid variable reference",xh)},CallExpression(t,e){const n=Eh(t.callee),r=qt(n)||Ht(n);if(r){if((e.join||!1===e.aggregate)&&Vt(r)&&yh(t,e),(e.join||!1===e.window)&&$t(r)&&gh(t,e),e.$op=1,e.ast)Uh(t,n,e),t.arguments.forEach((t=>Qf(t,e,Ih)));else{const i=e.op(function(t,e,n,r){const i=[],o=[],a=e.param[0]||0,s=a+(e.param[1]||0);return r.forEach(((e,n)=>{n<a?(Qf(e,t,Ih),i.push(t.field(e))):n<s?(Qf(e,t,Ih),o.push(t.param(e))):t.error(e,vh)})),{name:n,fields:i,params:o,...t.spec.window||{}}}(e,r,n,t.arguments));Object.assign(t,{type:"Op",name:i.id})}return e.$op=0,!1}Yt(n)?Uh(t,n,e):e.error(t,bh,Mh)},MemberExpression(t,e,n){const{object:r,property:i}=t;if(!ch(mt,r))return;const{name:o}=r;if(kh(t)&&ch(mt,i)&&I(hh,i.name))return void Ch(t,i.name);const a=o===e.tuple?0:o===e.tuple1?1:o===e.tuple2?2:-1;return a>=0?Th(t,a,e,Nh,n):o===e.$param?Th(t,a,e,Fh):void(e.paramsRef.has(o)?Lh(t,e.paramsRef.get(o)):e.columnRef.has(o)?Dh(r,o,e,t):I(e.params,o)&&Lh(r,o))}};function Th(t,e,n,r,i){const{property:o,computed:a}=t;let s;if(a)if(ch(bt,o))s=o.value;else try{s=n.param(o)}catch(u){n.error(t,"Invalid member expression")}else s=o.name;return r(t,s,e,n,i),!1}const Ih={...Ah,VariableDeclarator:ph("Variable declaration in operator call"),Identifier(t,e,n){Oh(t,e,n)&&e.error(t,"Variable not accessible in operator call")},CallExpression(t,e){const n=Eh(t.callee);Yt(n)?Uh(t,n,e):e.error(t,bh,Mh)}};function Bh(t,e,n,r){ch(mt,e)?(t.scope.add(e.name),t[n]=e.name):ch(_t,e)&&e.properties.forEach((e=>{const n=ch(mt,e.key)?e.key.name:ch(bt,e.key)?e.key.value:t.error(e,"Invalid argument");ch(mt,e.value)||t.error(e.value,"Unsupported destructuring pattern"),r(e.value.name,n)}))}function Eh(t){return ch(mt,t)?t.name:ch(vt,t)?kh(t)?"max"===(e=t.property.name)?"greatest":"min"===e?"least":e:t.property.name:null;var e}function kh(t){return ch(mt,t.object)&&"Math"===t.object.name}function Oh(t,e,n){const{name:r}=t;if(ch(vt,n)&&n.property===t);else if(ch(wt,n)&&n.key===t);else if(e.paramsRef.has(r))Lh(t,e.paramsRef.get(r));else if(e.columnRef.has(r))Dh(t,r,e,n);else if(I(e.params,r))Lh(t,r);else{if(!I(hh,r))return!0;Ch(t,r)}}function Nh(t,e,n,r,i){const o=0===n?r.table:n>0?r.join[n-1]:null,a=o&&o.column(e);o&&!a&&r.error(t,mh),r.aggronly&&!r.$op&&r.error(t,"Invalid column reference (must be input to an aggregate function)"),Kt(t,e,n,a,i)}function Dh(t,e,n,r){const[i,o]=n.columnRef.get(e);Nh(t,i,o,n,r)}function Fh(t,e,n,r){r.params&&!I(r.params,e)&&r.error(t,"Invalid param reference"),Lh(t,e)}function Lh(t,e){t.type="Parameter",t.name=e}function Ch(t,e){t.type="Constant",t.name=e,t.raw=hh[e]}function Uh(t,e,n){if(e===Jt){const e=n.table;e||n.error(t,"The row_object method is not valid in multi-table expressions."),Qt(t,t.arguments.length?t.arguments.map((t=>{const r=n.param(t),i=p(r)?e.columnName(r):r;return e.column(i)||n.error(t,mh),i})):e.columnNames())}else t.callee={type:"Function",name:e}}function Rh(t,e){ch(mt,t)?e.scope.add(t.name):ch("ArrayPattern",t)?t.elements.forEach((t=>Rh(t,e))):ch(_t,t)?t.properties.forEach((t=>Rh(t.value,e))):e.error(t.id,"Unsupported variable declaration")}const zh={[xt]:1,Op:1};function jh(t,e={}){const n=e.generate||Nt,r=e.compiler||Gt,i=function(t){return(t.table?Ph(t.table):t.join?{...Ph(t.join[1]),...Ph(t.join[0])}:{})||{}}(e),o={},a={},s=[],u=[];let c=0,l=-1;const f=e.join?r.join:1==e.index?r.expr2:r.expr,h={op(t){const e=function(t){let e=`${t.name}(${t.fields.concat(t.params).join(",")})`;if(t.frame){e+=`[${t.frame.map((t=>Number.isFinite(t)?Math.abs(t):-1))},${!!t.peers}]`}return e}(t);return a[e]||(t.id=++l,a[e]=t)},field(t){const e=n(t);return o[e]||(o[e]=++c)},param:t=>ch(bt,t)?t.value:r.param(n(t),i),value(t,r){s.push(t);const o=r.escape||(e.ast?function(t){return Qf(t,null,{Column:uh,Constant:uh,Default:sh}),t}(r):f(n(r),i));u.push(o),zh[r.type]&&o!==r&&w(o)&&(o.field=r.name)},error(t,e,n=""){const r=t.start-6,i=t.end-6;d(`${e}: "${String(h.spec).slice(r,i)}"${n}`)}};Object.assign(h,e,{params:i});for(const[d,g]of Zt(t))h.value(d+"",g.escape?lh(h,g,i):Sh(h,g));if(e.ast)return{names:s,exprs:u};const p=[];for(const d in o)p[o[d]]=r.expr(d,i);const y=Object.values(a);return y.forEach((t=>t.fields=t.fields.map((t=>p[t])))),{names:s,exprs:u,ops:y}}function Ph(t){return t&&y(t.params)?t.params():{}}const Vh="Expr",$h="ExprList",Yh="ExprNumber",qh="ExprObject",Hh="JoinKeys",Wh="JoinValues",Gh="Options",Xh="OrderKeys",Kh="SelectionList",Zh="TableRef",Jh="TableRefList";function Qh(t,e){return t&&t.expr?new td({...t,...e}):new td(e,t)}class td{constructor(t,e){this.expr=e,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...y(this.expr)?{func:!0}:{}}}}function ed(t,e,n=0){const r=n?{field:!0,table:n}:{field:!0};return Qh(t,e?{expr:e,...r}:r)}function nd(t,e){return(e=e&&y(e.query)?e.query():e)&&y(e.evaluate)?e.evaluate(null,t):t(e)}function rd(t){return w(t)&&(c(t.all)||c(t.matches)||c(t.not)||c(t.range))}function id(t){return t&&y(t.toObject)?t.toObject():y(t)?{expr:String(t),func:!0}:c(t)?t.map(id):w(t)?jf(t,(t=>id(t))):t}function od(t){return c(t)?t.map(od):w(t)?c(t.verbs)?wd.from(t):c(t.all)?Wf():c(t.range)?function(t,e){return qf((n=>{let r=p(t)?t:n.columnIndex(t),i=p(e)?e:n.columnIndex(e);if(i<r){const t=i;i=r,r=t}return n.columnNames().slice(r,i+1)}),(()=>({range:[t,e]})))}(...t.range):c(t.match)?Xf(RegExp(...t.match)):c(t.not)?Gf(t.not.map(id)):function(t){let e=t,n=t.expr;if(null!=n){if(!0===t.field?e=n=ed(n):!0===t.func&&(e=n=function(t){const e=t=>t;return e.toString=()=>t,e}(n)),w(t.window)){const{frame:r,peers:i}=t.window;e=n=function(t,e,n){return Qh(t,{window:{frame:e||[-1/0,0],peers:!!n}})}(n,r,i)}!0===t.desc&&(e=function(t){return Qh(t,{desc:!0})}(n))}return t===e?jf(t,(t=>od(t))):e}(t):t}function ad(t){const e=[];return l(t).forEach((t=>{p(t)?e.push(t):M(t)?e.push(ed(t,null)):w(t)&&t.expr||y(t)?e.push(t):d("Invalid key value: "+(t+""))})),e}function sd(t,e){return e<2?l(t):t}const ud={[Vh]:yd,[$h]:gd,[Yh]:function(t){return p(t)?t:hd(t)},[qh]:hd,[Hh]:function(t){return c(t)?t.map(gd):hd(t,{join:!0})},[Wh]:function(t){return c(t)?t.map(((t,e)=>e<2?gd(t):hd(t,{join:!0}))):hd(t,{join:!0})},[Xh]:gd,[Kh]:function(t){return l(t).map(pd).flat()}};function cd(t,e,n){return e===Gh?t?function(t,e={}){const n={};for(const r in t){const i=t[r];n[r]=e[r]?cd(i,e[r]):i}return n}(t,n):t:ud[e](t)}function ld(t){return{type:xt,name:t}}function fd(t){return{type:xt,index:t}}function hd(t,e){if(M(t))return function(t,e){return jh({expr:t},{...e,ast:!0}).exprs[0]}(t,e);if(t.expr){let n;if(!0===t.field?n=ld(t.expr):!0===t.func&&(n=hd(t.expr,e)),n)return t.desc&&(n={type:"Descending",expr:n}),t.window&&(n={type:"Window",expr:n,...t.window}),n}return Object.keys(t).map((n=>({...hd(t[n],e),as:n})))}function dd(t){const e="Selection";return t.all?{type:e,operator:"all"}:t.not?{type:e,operator:"not",arguments:gd(t.not)}:t.range?{type:e,operator:"range",arguments:gd(t.range)}:t.matches?{type:e,operator:"matches",arguments:t.matches}:d("Invalid input")}function pd(t){return rd(t)?dd(t):p(t)?fd(t):M(t)?ld(t):w(t)?Object.keys(t).map((e=>({type:xt,name:e,as:t[e]}))):d("Invalid input")}function yd(t){return rd(t)?dd(t):p(t)?fd(t):M(t)?ld(t):w(t)?hd(t):d("Invalid input")}function gd(t){return l(t).map(yd).flat()}function md(t){return t&&y(t.toAST)?t.toAST():t}class bd{constructor(t,e=[],n=[]){this.verb=t,this.schema=e,e.forEach(((t,e)=>{const r=t.type,i=n[e],o=r===Hh?c(a=i)?a.map(ad):a:r===Wh?function(t){return c(t)?t.map(sd):t}(i):r===Xh?function(t){const e=[];return t.forEach((t=>{const n=null!=t.expr?t.expr:t;if(w(n)&&!y(n))for(const r in n)e.push(n[r]);else t=p(n)?n:M(n)?ed(t):y(n)?t:d("Invalid orderby field: "+t),e.push(t)})),e}(i):i;var a;this[t.name]=void 0!==o?o:t.default}))}static from(t){const e=_d[t.verb];return e(...(e.schema||[]).map((({name:e})=>od(t[e]))))}evaluate(t,e){const n=this.schema.map((({name:t,type:n})=>{const r=this[t];return n===Zh?nd(e,r):n===Jh?r.map((t=>nd(e,t))):r}));return t[this.verb](...n)}toObject(){const t={verb:this.verb};return this.schema.forEach((({name:e})=>{t[e]=id(this[e])})),t}toAST(){const t={type:"Verb",verb:this.verb};return this.schema.forEach((({name:e,type:n,props:r})=>{t[e]=function(t,e,n){return e===Zh?md(t):e===Jh?t.map(md):cd(id(t),e,n)}(this[e],n,r)})),t}}function vd(t,e){return Object.assign(((...n)=>new bd(t,e,n)),{schema:e})}const _d={count:vd("count",[{name:"options",type:Gh}]),derive:vd("derive",[{name:"values",type:qh},{name:"options",type:Gh,props:{before:Kh,after:Kh}}]),filter:vd("filter",[{name:"criteria",type:qh}]),groupby:vd("groupby",[{name:"keys",type:$h}]),orderby:vd("orderby",[{name:"keys",type:Xh}]),relocate:vd("relocate",[{name:"columns",type:Kh},{name:"options",type:Gh,props:{before:Kh,after:Kh}}]),rename:vd("rename",[{name:"columns",type:Kh}]),rollup:vd("rollup",[{name:"values",type:qh}]),sample:vd("sample",[{name:"size",type:Yh},{name:"options",type:Gh,props:{weight:Vh}}]),select:vd("select",[{name:"columns",type:Kh}]),ungroup:vd("ungroup"),unorder:vd("unorder"),reify:vd("reify"),dedupe:vd("dedupe",[{name:"keys",type:$h,default:[]}]),impute:vd("impute",[{name:"values",type:qh},{name:"options",type:Gh,props:{expand:$h}}]),fold:vd("fold",[{name:"values",type:$h},{name:"options",type:Gh}]),pivot:vd("pivot",[{name:"keys",type:$h},{name:"values",type:$h},{name:"options",type:Gh}]),spread:vd("spread",[{name:"values",type:$h},{name:"options",type:Gh}]),unroll:vd("unroll",[{name:"values",type:$h},{name:"options",type:Gh,props:{drop:$h}}]),lookup:vd("lookup",[{name:"table",type:Zh},{name:"on",type:Hh},{name:"values",type:$h}]),join:vd("join",[{name:"table",type:Zh},{name:"on",type:Hh},{name:"values",type:Wh},{name:"options",type:Gh}]),cross:vd("cross",[{name:"table",type:Zh},{name:"values",type:Wh},{name:"options",type:Gh}]),semijoin:vd("semijoin",[{name:"table",type:Zh},{name:"on",type:Hh}]),antijoin:vd("antijoin",[{name:"table",type:Zh},{name:"on",type:Hh}]),concat:vd("concat",[{name:"tables",type:Jh}]),union:vd("union",[{name:"tables",type:Jh}]),intersect:vd("intersect",[{name:"tables",type:Jh}]),except:vd("except",[{name:"tables",type:Jh}])};class wd extends h{constructor(t,e,n){super(e),this._verbs=t||[],this._table=n}static from({verbs:t,table:e,params:n}){return new wd(t.map(bd.from),n,e)}get[Symbol.toStringTag](){if(!this._verbs)return"Object";return`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:"")}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,e){t=t||e(this._table);for(const n of this._verbs)t=n.evaluate(t.params(this._params),e);return t}toObject(){return xd(this,"toObject")}toJSON(){return this.toObject()}toAST(){return xd(this,"toAST",{type:"Query"})}}function xd(t,e,n){return{...n,verbs:t._verbs.map((t=>t[e]())),...t._params?{params:t._params}:null,...t._table?{table:t._table}:null}}function Md(t,e){return new wd(t._verbs.concat(e),t._params,t._table)}for(const Ep in _d){const t=_d[Ep];wd.prototype["__"+Ep]=function(e,...n){return Md(e,t(...n))}}function Sd(t,e){const n=B();return e.forEach(((e,r)=>{const i=M(e)?e:r;if(i){const e=t.column(r)||d(`Unrecognized column: ${r}`);n.add(i,e)}})),t.create(n)}function Ad(t,e,{before:n,after:r}={}){const i=null!=n,o=null!=r;i||o||d("relocate requires a before or after option."),i&&o&&d("relocate accepts only one of the before or after options."),e=Yf(t,e);const a=[...Yf(t,i?n:r).keys()],s=i?a[0]:a.pop(),u=new Map;return t.columnNames().forEach((t=>{const n=!e.has(t);if(t===s){o&&n&&u.set(t,t);for(const[t,n]of e)u.set(t,n);if(o)return}n&&u.set(t,t)})),Sd(t,u)}function Td(t,e=(t=>t),n=""){const r=t.length;if(!r)return"";let i=e(t[0],0);for(let o=1;o<r;++o)i+=n+e(t[o],o);return i}function Id(t,e,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map(((t,e)=>t.map(((t,n)=>`${r[e]}${n} = ${r[e]}[${n}]`)).join(", "))).join(", ")+`; return (${t}) => ${e};`),Function(...i)(...n)}function Bd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ed(t){return ot(t)?t:+t}class kd{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:function(t,e=0,n=t.length){let r=n?t[e++]:k;for(let i=e;i<n;++i)r>t[i]&&(r=t[i]);return r}(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:function(t,e=0,n=t.length){let r=n?t[e++]:k;for(let i=e;i<n;++i)r<t[i]&&(r=t[i]);return r}(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(Bd)),function(t,e){const n=t.length;if(!n)return k;if((e=+e)<=0||n<2)return Ed(t[0]);if(e>=1)return Ed(t[n-1]);const r=(n-1)*e,i=Math.floor(r),o=Ed(t[i]);return ot(o)?o:o+(Ed(t[i+1])-o)*(r-i)}(this._sorted,t)}}const Od=(t,e,n)=>Id(e,"{"+Td(t,((t,r)=>`_${r}.${n}(${e});`))+"}",t);function Nd(t,e){const{ops:n,output:r}=function(t,e){const n={},r=[];function i(t,o=[]){const a=t+":"+o;if(n[a])return n[a];const s=qt(t),u=s.create(...o);return e<0&&s.stream&&s.stream.forEach((t=>i(t,[]))),s.req&&s.req.forEach((t=>i(t,[]))),n[a]=u,r.push(u),u}const o=t.map((t=>{const e=i(t.name,t.params);return e.output=t.id,e}));return{ops:r,output:o}}(t,e),i=t[0].fields,o=i.length;return new(0===o?Dd:1===o?Fd:2===o?Ld:d("Unsupported field count: "+o))(i,n,r,e)}class Dd extends Jf{constructor(t,e,n,r){super(n),this._op=e,this._fields=t,this._stream=!!r}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach((e=>e.init(t))),t.values&&(t.list=new kd),t}write(t,e,n){const r=this._outputs,i=r.length;for(let o=0;o<i;++o)e[r[o].output][n]=r[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Fd extends Dd{constructor(t,e,n,r){super(t,e,n,r);const i=["state","v1","v2"];this._add=Od(e,i,"add"),this._rem=Od(e,i,"rem")}add(t,e,n){const r=this._fields[0](e,n);++t.count,F(r)&&(++t.valid,t.list&&t.list.add(r),this._add(t,r))}rem(t,e,n){const r=this._fields[0](e,n);--t.count,F(r)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,r))}}class Ld extends Dd{constructor(t,e,n,r){super(t,e,n,r);const i=["state","v1","v2"];this._add=Od(e,i,"add"),this._rem=Od(e,i,"rem")}add(t,e,n){const r=this._fields[0](e,n),i=this._fields[1](e,n);++t.count,F(r)&&F(i)&&(++t.valid,t.list&&t.list.add([r,i]),this._add(t,r,i))}rem(t,e,n){const r=this._fields[0](e,n),i=this._fields[1](e,n);--t.count,F(r)&&F(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,r,i))}}function Cd(t,e,n){if(e.length){const r=t.data(),{keys:i}=t.groups()||{},o=Ud(t,e),a=i?(t,e)=>o[t][i[e]]:t=>o[t][0];n=n.map((t=>e=>t(e,r,a)))}return n}function Ud(t,e,n){if(!e.length)return n;const r=Rd(e),i=t.groups(),o=i?i.size:1;return n=n||g(e.length,(()=>Array(o))),o>1?r.forEach((e=>{const r=jd(t,e,i);for(let t=0;t<o;++t)e.write(r[t],n,t)})):r.forEach((e=>{const r=zd(t,e);e.write(r,n,0)})),n}function Rd(t,e){const n=[],r={};for(const i of t){const t=i.fields.map((t=>t+"")).join(",");(r[t]||(r[t]=[])).push(i)}for(const i in r)n.push(Nd(r[i],e));return n}function zd(t,e){const n=e.init(),r=t.totalRows(),i=t.data(),o=t.mask();if(t.isOrdered()){const o=t.indices();for(let t=0;t<r;++t)e.add(n,o[t],i)}else if(o)for(let a=o.next(0);a>=0;a=o.next(a+1))e.add(n,a,i);else for(let a=0;a<r;++a)e.add(n,a,i);return n}function jd(t,e,n){const{keys:r,size:i}=n,o=g(i,(()=>e.init())),a=t.data();if(t.isOrdered()){const n=t.indices(),i=n.length;for(let t=0;t<i;++t){const i=n[t];e.add(o[r[i]],i,a)}}else if(t.isFiltered()){const n=t.mask();for(let t=n.next(0);t>=0;t=n.next(t+1))e.add(o[r[t]],t,a)}else{const n=t.totalRows();for(let t=0;t<n;++t)e.add(o[r[t]],t,a)}return o}function Pd(t,e){const{get:n,names:r,rows:i,size:o}=e,a=r.length;for(let s=0;s<a;++s){const e=t.add(r[s],Array(o)),a=n[s];for(let t=0;t<o;++t)e[t]=a(i[t])}}function Vd(t){return{left(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}const $d=Vd(Bd);function Yd(t,e,n,r={},i){const o=t.data(),a=function(t,e){const n={};return t.forEach((t=>{const e=(t=>(t.frame||[null,null]).map((t=>Number.isFinite(t)?Math.abs(t):null)))(t),r=(t=>!!t.peers)(t),i=`${e},${r}`,{aggOps:o,winOps:a}=n[i]||(n[i]={frame:e,peers:r,aggOps:[],winOps:[]});Vt(t.name)?o.push(t):a.push(function(t){const{id:e,name:n,fields:r=[],params:i=[]}=t,o=Ht(n).create(...i);return r.length&&(o.get=r[0]),o.id=e,o}(t))})),Object.values(n).map((t=>function(t,e,n,r,i){let o,a,s,u,c;const l=t=>a[t-1]===a[t],f=r.length,h=i.length,d=r.length?Id(["w","r","k"],"{"+Td(r,((t,e)=>`r[_${e}.id][k]=_${e}.value(w,_${e}.get);`))+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:l,init(t,e,n,l){p.index=p.i0=p.i1=0,p.size=e.length,o=t,a=e,u=n,c=l,s=i?i.map((t=>t.init())):null;for(let i=0;i<f;++i)r[i].init();return p},value:(e,n)=>n(o[e],t),step(r){const[f,y]=e,g=p.size,m=p.i0,b=p.i1;p.i0=null!=f?Math.max(0,r-Math.abs(f)):0,p.i1=null!=y?Math.min(g,r+Math.abs(y)+1):g,p.index=r,n&&(p.i0>0&&l(p.i0)&&(p.i0=$d.left(a,a[p.i0])),p.i1<g&&l(p.i1)&&(p.i1=$d.right(a,a[p.i1-1])));for(let e=0;e<h;++e){const n=i[e],r=s[e];for(let e=m;e<p.i0;++e)n.rem(r,o[e],t);for(let e=b;e<p.i1;++e)n.add(r,o[e],t);n.write(r,u,c)}return d(p,u,c),u}};return p}(e,t.frame,t.peers,t.winOps,Rd(t.aggOps,null!=t.frame[0]?-1:1))))}(i,o),s=a.length,u=Id(["r","d","op"],"{"+Td(e,((t,e)=>`_${e}[r] = $${e}(r, d, op);`))+"}",e,n);t.partitions().forEach(((e,n)=>{const i=e.length,c=function(t,e){if(t.isOrdered()){const n=t.comparator(),r=t.data(),i=e.length,o=new Uint32Array(i);for(let t=1,a=0;t<i;++t)o[t]=n(e[t-1],e[t],r)?++a:a;return o}return e}(t,e);for(let t=0;t<s;++t)a[t].init(e,c,r,n);const l=t=>r[t][n];for(let t=0;t<i;++t){for(let e=0;e<s;++e)a[e].step(t);u(e[t],o,l)}}))}function qd(t){return $t(t.name)||t.frame&&(Number.isFinite(t.frame[0])||Number.isFinite(t.frame[1]))}function Hd(t,{names:e,exprs:n,ops:r},i={}){const o=t.totalRows(),a=B(i.drop?null:t),s=e.map((t=>a.add(t,Array(o)))),[u,c]=function(t){const e=[],n=[],r=t.length;for(let i=0;i<r;++i){const r=t[i];r.id=i,(qd(r)?n:e).push(r)}return[e,n]}(r),l=t.isGrouped()?t.groups().size:1,f=Ud(t,u,g(r.length,(()=>Array(l))));return c.length?Yd(t,s,n,f,c):function(t,e,n,r){const i=t.mask(),o=t.data(),{keys:a}=t.groups()||{},s=a?(t,e)=>r[t][a[e]]:t=>r[t][0],u=e.length;for(let c=0;c<u;++c){const r=n[c],a=e[c];if(i)for(let t=i.next(0);t>=0;t=i.next(t+1))a[t]=r(t,o,s);else{const e=t.totalRows();for(let t=0;t<e;++t)a[t]=r(t,o,s)}}}(t,s,n,f),t.create(a)}const Wd=2147483648;class Gd{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let e=0;for(let n=0;n<t;++n)for(let t=this._bits[n];t;++e)t&=t-1;return e}get(t){return this._bits[t>>5]&Wd>>>t}set(t){this._bits[t>>5]|=Wd>>>t}clear(t){this._bits[t>>5]&=~(Wd>>>t)}scan(t){for(let e=this.next(0);e>=0;e=this.next(e+1))t(e)}next(t){const e=this._bits,n=e.length;let r=t>>5,i=e[r]&4294967295>>>t;for(;r<n;i=e[++r])if(0!==i)return(r<<5)+Math.clz32(i);return-1}nth(t){let e=this.next(0);for(;t--&&e>=0;)e=this.next(e+1);return e}not(){const t=this._bits,e=t.length;for(let r=0;r<e;++r)t[r]=~t[r];const n=this._size%32;return n&&(t[e-1]&=Wd>>n-1),this}and(t){if(t){const e=this._bits,n=t._bits,r=e.length;for(let t=0;t<r;++t)e[t]&=n[t]}return this}or(t){if(t){const e=this._bits,n=t._bits,r=e.length;for(let t=0;t<r;++t)e[t]|=n[t]}return this}}function Xd(t,{names:e=[],exprs:n=[],ops:r=[]},i={}){if(!e.length)return t;const o=i.limit>0?+i.limit:1/0,a=i.index?!0===i.index?"index":i.index+"":null,s=new Set(i.drop),u=Cd(t,r,n),c=B(),f=new Set(e),h=[],d=[],p=[];t.columnNames().forEach((e=>{if(!s.has(e)){const n=c.add(e,[]);f.has(e)||(h.push(t.column(e)),d.push(n))}})),e.forEach((t=>{s.has(t)||(c.has(t)||c.add(t,[]),p.push(c.data[t]))}));const y=a?c.add(a,[]):null;let g=0;const m=h.length,b=p.length,v=(t,e)=>{for(let n=0;n<m;++n)d[n].length=g+e,d[n].fill(h[n].get(t),g,g+e)},_=y?(t,e)=>{for(let n=0;n<e;++n)y[t+n]=n}:()=>{};if(1===b){const e=u[0],n=p[0];t.scan(((t,r)=>{const i=l(e(t,r)),a=Math.min(i.length,o);v(t,a);for(let e=0;e<a;++e)n[g+e]=i[e];_(g,a),g+=a}))}else t.scan(((t,e)=>{let n=0;const r=u.map((r=>{const i=l(r(t,e));return n=Math.min(Math.max(n,i.length),o),i}));v(t,n);for(let i=0;i<b;++i){const t=p[i],e=r[i];for(let r=0;r<n;++r)t[g+r]=e[r]}_(g,n),g+=n}));return t.create(c.new())}function Kd(t,e,n,r={window:!1}){const i=new Map,o=n=>{M(n=p(n)?e.columnName(n):n)?i.set(n,ed(n)):y(n)?Yf(e,n).forEach(o):w(n)?$f(i,n):d(`Invalid ${t} value: ${n+""}`)};return l(n).forEach(o),r.preparse&&r.preparse(i),jh(i,{table:e,...r})}function Zd(t,e,n,r){const i=n&&n.length;return function(t,{names:e,exprs:n,ops:r},i){const o=Cd(t,r,n),a=i?null:B(t),s=t.totalRows();return e.forEach(((e,n)=>{const r=t.column(e),u=i?r.data:a.add(e,Array(s)),c=o[n];t.scan((t=>{const e=r.get(t);u[t]=F(e)?e:c(t)}))})),i?t:t.create(a)}(i?function(t,e,n){const r=t.groups(),i=t.data(),o=(r?r.names:[]).concat(e),a=(r?r.get:[]).concat(e.map((e=>t.getter(e)))),s=new Set,u=Ft(a);t.scan(((t,e)=>s.add(u(t,e))));const c=t.columnNames(),l=B(),f=c.map((t=>l.add(t,[])));c.forEach(((e,n)=>{const r=i[e],o=f[n];t.scan((t=>o.push(r.get(t))))}));const h=Ft(a.map(((t,e)=>t=>t[e]))),d=Id("v","{"+f.map(((t,e)=>`_${e}.push(v[$${e}]);`)).join("")+"}",f,c.map((t=>o.indexOf(t))));if(r){let t=r.keys.length;const e=n.reduce(((t,e)=>t*e.length),r.size),i=new Uint32Array(e+(t-s.size));i.set(r.keys),Jd(r,n,((e,n)=>{s.has(h(e))||(d(e),i[t++]=n[0])})),l.groupby({...r,keys:i})}else Jd(r,n,(t=>{s.has(h(t))||d(t)}));return t.create(l.new())}(t,n,r):t,e,i)}function Jd(t,e,n){const r=t?t.get.length:0,i=t?1:0,o=i+e.length,a=new Int32Array(o),s=new Int32Array(o),u=[];if(t){const{get:e,rows:n,size:i}=t;a[0]=i,u.push(((t,i)=>{const o=n[i];for(let n=0;n<r;++n)t[n]=e[n](o)}))}e.forEach(((t,e)=>{const n=e+r;a[e+i]=t.length,u.push(((e,r)=>e[n]=t[r]))}));const c=Array(r+e.length);for(let l=0;l<o;++l)u[l](c,0);n(c,s);for(let l=o-1;l>=0;){const t=++s[l];t<a[l]?(u[l](c,t),n(c,s),l=o-1):(s[l]=0,u[l](c,0),--l)}}function Qd(t,{names:e,exprs:n,ops:r}){const i=B(),o=t.groups();return o&&Pd(i,o),function(t,e,n,r=[],i){if(!e.length)return;const o=n?n.size:1,a=(t,e)=>r[t][e],s=t.length;for(let u=0;u<s;++u){const n=e[u];if(null!=n.field)i.add(t[u],r[n.field]);else if(o>1){const e=i.add(t[u],Array(o));for(let t=0;t<o;++t)e[t]=n(t,null,a)}else i.add(t[u],[n(0,null,a)])}}(e,n,o,Ud(t,r),i),t.create(i.new())}function tp(t){t.forEach(((e,n)=>e.field?t.set(n,ht(e+"")):0))}function ep(t,e){const n=new Map;return t.scan(((t,r)=>{const i=e(t,r);null!=i&&i===i&&n.set(i,t)})),n}function np(t,e,n,{names:r,exprs:i},o={}){const a=t.data(),s=t.indices(!1),u=s.length,l=new Int32Array(u),f=e.data(),h=e.indices(!1),d=h.length,p=new Int32Array(d),y=r.length,g=B(),m=Array(y),b=Array(y);for(let c=0;c<r.length;++c)m[c]=g.add(r[c],[]),b[c]=i[c];const v=function(t,e){const n=["i","a","j","b"];return Id(n,"{"+Td(t,((t,e)=>`_${e}.push($${e}(${n}));`))+"}",t,e)}(m,b);if((c(n)?ip:rp)(v,n,a,f,s,h,l,p,u,d),o.left)for(let c=0;c<u;++c)l[c]||v(s[c],a,-1,f);if(o.right)for(let c=0;c<d;++c)p[c]||v(-1,a,h[c],f);return t.create(g.new())}function rp(t,e,n,r,i,o,a,s,u,c){for(let l=0;l<u;++l){const u=i[l];for(let i=0;i<c;++i){const c=o[i];e(u,n,c,r)&&(t(u,n,c,r),a[l]=1,s[i]=1)}}}function ip(t,[e,n],r,i,o,a,s,u,c,l){let f,h,d,p,y,g,m,b,v=t;c>=l?(f=r,h=e,d=s,p=o,y=i,g=n,m=u,b=a):(f=i,h=n,d=u,p=a,y=r,g=e,m=s,b=o,v=(e,n,r,i)=>t(r,i,e,n));const _=function(t,e,n){const r=new Map,i=t.length;for(let o=0;o<i;++o){const i=n(t[o],e);null!=i&&i===i&&(r.has(i)?r.get(i).push(o):r.set(i,[o]))}return r}(b,y,g),w=p.length;for(let x=0;x<w;++x){const t=p[x],e=_.get(h(t,f));if(e){const n=e.length;for(let r=0;r<n;++r){const n=e[r];v(t,f,b[n],y),m[n]=1}d[x]=1}}}function op(t,e,n){const r=new Map;l(n).forEach(((n,i)=>{M(n=p(n)?e.columnName(n):n)?r.set(i,ed(n)):y(n)||w(n)&&n.expr?r.set(i,n):d(`Invalid ${t} key value: ${n+""}`)}));return Ft(jh(r,{table:e,aggregate:!1,window:!1}).exprs,!0)}function ap(t,e,n){if(n)M(n)?n=[n,n]:c(n)&&1===n.length&&(n=[n[0],n[0]]);else{const r=function(t,e){const n=new Set(e);return t.filter((t=>n.has(t)))}(t.columnNames(),e.columnNames());r.length||d("Natural join requires shared column names."),n=[r,r]}return n}function sp(t,e,n,r){return n.length!==r.length&&d("Mismatched number of join keys"),[op("join",t,n),op("join",e,r)]}const up={aggregate:!1,window:!1,index:1};function cp(t,e,n,r,i={}){n=ap(t,e,n);const o={join:[t,e]};let a;if(c(n)){const[o,s]=n.map(l);a=sp(t,e,o,s),r||(r=function(t,e,n,r){const i=[];e.forEach(((t,e)=>M(t)&&t===n[e]?i.push(t):0));const o=Gf(i);if(r.left&&r.right){const e=new Set(i);return[t.columnNames().map((t=>{const n=`[${at(t)}]`;return e.has(t)?{[t]:`(a, b) => a${n} == null ? b${n} : a${n}`}:t})),o]}return r.right?[o,Wf()]:[Wf(),o]}(t,o,s,i))}else a=jh({on:n},o).exprs[0],r||(r=[Wf(),Wf()]);return np(t,e,a,function(t,e,n,r,i=[]){if(c(n)){let o,a,s,u=n.length;o=a=s={names:[],exprs:[]},u--&&(o=Kd("join",t,n[0],r)),u--&&(a=Kd("join",e,n[1],up)),u--&&(s=jh(n[2],r));const c=new Set,l=new Set(o.names);return a.names.forEach((t=>{l.has(t)&&c.add(t)})),c.size&&(lp(o.names,c,i[0]||"_1"),lp(a.names,c,i[1]||"_2")),{names:o.names.concat(a.names,s.names),exprs:o.exprs.concat(a.exprs,s.exprs)}}return jh(n,r)}(t,e,r,o,i&&i.suffix),i)}function lp(t,e,n){t.forEach(((r,i)=>e.has(r)?t[i]=r+n:0))}function fp(t,e,n,[r,i]){const o=ep(n,i);e.scan(((e,n)=>{o.get(r(e,n))>=0&&t.set(e)}))}function hp(t,e,n,r){const i=e.numRows(),o=n.numRows(),a=e.data(),s=n.data();if(e.isFiltered()||n.isFiltered()){const u=e.indices(!1),c=n.indices(!1);for(let e=0;e<i;++e){const n=u[e];for(let e=0;e<o;++e)if(r(n,a,c[e],s)){t.set(n);break}}}else for(let u=0;u<i;++u)for(let e=0;e<o;++e)if(r(u,a,e,s)){t.set(u);break}}function dp(t,e,n,r){n=ap(t,e,n);return function(t,e,n,r={}){const i=new Gd(t.totalRows());return(c(n)?fp:hp)(i,t,e,n),r.anti&&i.not().and(t.mask()),t.create({filter:i})}(t,e,c(n)?sp(t,e,...n.map(l)):jh({on:n},{join:[t,e]}).exprs[0],r)}const pp=(t,e)=>null!=t?t:e;function yp(t,e,n,r={}){const{keys:i,keyColumn:o}=function(t,e,n){const r=n.limit>0?+n.limit:1/0,i=pp(n.sort,!0),o=pp(n.keySeparator,"_"),a=Cd(t,e.ops,e.exprs),s=1===a.length?a[0]:(t,e)=>a.map((n=>n(t,e))).join(o),u=Array(t.totalRows());t.scan(((t,e)=>u[t]=s(t,e)));const c=Ud(t.ungroup(),[{id:0,name:"array_agg_distinct",fields:[t=>u[t]],params:[]}])[0][0],l=i?c.sort():c;return{keys:Number.isFinite(r)?l.slice(0,r):l,keyColumn:u}}(t,e,r),a=pp(r.valueSeparator,"_"),s=n.names.length>1?(t,e)=>e+a+i[t]:t=>i[t],u=i.map((e=>Ud(t,n.ops.map((t=>{const n=t.fields.map((t=>{const n=(n,r)=>e===o[n]?t(n,r):NaN;return n.toString=()=>e+":"+t,n}));return{...t,fields:n}})))));return t.create(function({names:t,exprs:e},n,r,i){const o=r?r.size:1,a=B(),s=i.length,u=t.length;let c;const l=(t,e)=>c[t][e];r&&Pd(a,r);for(let f=0;f<u;++f){const r=e[f];if(null!=r.field)for(let e=0;e<s;++e)a.add(n(e,t[f]),i[e][r.field]);else if(o>1)for(let e=0;e<s;++e){c=i[e];const s=a.add(n(e,t[f]),Array(o));for(let t=0;t<o;++t)s[t]=r(t,null,l)}else for(let e=0;e<s;++e)c=i[e],a.add(n(e,t[f]),[r(0,null,l)])}return a.new()}(n,s,t.groups(),u))}function gp(t){t.forEach(((e,n)=>e.field?t.set(n,ct(e+"")):0))}function mp(t,e){return Qd(t,jh(e,{table:t,aggronly:!0}))}function bp(t,e,n,r){return(e?r?_p:vp:r?xp:wp)(t.length,t,n,r)}function vp(t,e,n){const r=n.length;for(let i=0;i<t;++i)e[i]=n[r*tt()|0];return e}function _p(t,e,n,r){const i=n.length,o=new Float64Array(i);let a=0;for(let u=0;u<i;++u)o[u]=a+=r(n[u]);const s=Vd(Bd).right;for(let u=0;u<t;++u)e[u]=n[s(o,a*tt())];return e}function wp(t,e,n){const r=n.length;if(t>=r)return n;for(let i=0;i<t;++i)e[i]=n[i];for(let i=t;i<r;++i){const r=i*tt();r<t&&(e[0|r]=n[i])}return e}function xp(t,e,n,r){const i=n.length;if(t>=i)return n;const o=new Float32Array(i),a=new Uint32Array(i);for(let s=0;s<i;++s)a[s]=s,o[s]=-Math.log(tt())/r(n[s]);a.sort(((t,e)=>o[t]-o[e]));for(let s=0;s<t;++s)e[s]=n[a[s]];return e}function Mp(t,e,n,r={}){const{replace:i,shuffle:o}=r,a=t.partitions(!1);let s=0;e=a.map(((t,n)=>{let r=e(n);return s+=r=i?r:Math.min(t.length,r),r}));const u=new Uint32Array(s);let c=0;return a.forEach(((t,r)=>{const o=e[r],a=u.subarray(c,c+=o);i||o!==t.length?bp(a,i,t,n):a.set(t)})),!1!==o&&(a.length>1||!i)&&function(t,e=0,n=t.length){let r=n-(e=+e);for(;r;){const n=tt()*r--|0,i=t[r+e];t[r+e]=t[n+e],t[n+e]=i}}(u),t.reify(u)}const Sp=t=>e=>t.get(e)||0;function Ap(t,{names:e,exprs:n,ops:r=[]},i={}){if(0===e.length)return t;const o=1===e.length&&i.as||[],a=null==i.drop||!!i.drop,s=null==i.limit?o.length||1/0:Math.max(1,+i.limit||1),u=Cd(t,r,n),c=B(),f=e.reduce(((t,e,n)=>t.set(e,n)),new Map),h=(e,n)=>{const r=function(t,e,n){const r=t.totalRows(),i=[];return t.scan(((t,o)=>{const a=l(e(t,o)),s=Math.min(a.length,n);for(;i.length<s;)i.push(Array(r).fill(k));for(let e=0;e<s;++e)i[e][t]=a[e]})),i}(t,u[e],s),i=r.length;for(let t=0;t<i;++t)c.add(o[t]||`${n}_${t+1}`,r[t])};return t.columnNames().forEach((e=>{f.has(e)?(a||c.add(e,t.column(e)),h(f.get(e),e),f.delete(e)):c.add(e,t.column(e))})),f.forEach(h),t.create(c)}function Tp(t,{names:e=[],exprs:n=[],ops:r=[]}){const i=e.length;if(0===i)return null;if(1===i&&!t.isFiltered()&&n[0].field){const r=t.column(n[0].field);if(r.groups)return r.groups(e)}let o=Cd(t,r,n);const a=Ft(o),s=t.totalRows(),u=new Uint32Array(s),c={},l=[],f=t.data(),h=t.mask();if(h)for(let d=h.next(0);d>=0;d=h.next(d+1)){const t=a(d,f)+"",e=c[t];u[d]=null!=e?e:c[t]=l.push(d)-1}else for(let d=0;d<s;++d){const t=a(d,f)+"",e=c[t];u[d]=null!=e?e:c[t]=l.push(d)-1}return r.length||(o=o.map((t=>e=>t(e,f)))),{keys:u,get:o,names:e,rows:l,size:l.length}}const Ip=(t,e,n,r)=>`((u = ${t}) < (v = ${e}) || u == null) && v != null ? ${n}\n    : (u > v || v == null) && u != null ? ${r}\n    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}\n    : v !== v && u === u ? ${r} : `;var Bp={__antijoin:(t,e,n)=>dp(t,e,n,{anti:!0}),__count:(t,e={})=>mp(t,{[e.as||"count"]:lt()}),__cross:(t,e,n,r)=>cp(t,e,(()=>!0),n,{...r,left:!0,right:!0}),__concat:function(t,e){const n=t.numRows(),r=n+e.reduce(((t,e)=>t+e.numRows()),0);if(n===r)return t;const i=[t,...e],o=B();return t.columnNames().forEach((t=>{const e=Array(r);let n=0;i.forEach((r=>{const i=r.column(t)||{get:()=>k};r.scan((t=>e[n++]=i.get(t)))})),o.add(t,e)})),t.create(o.new())},__dedupe:function(t,e=[]){return t.groupby(e.length?e:t.columnNames()).filter("row_number() === 1").ungroup().reify()},__derive:function(t,e,n={}){const r=Hd(t,jh(e,{table:t}),n);return n.drop||null==n.before&&null==n.after?r:Ad(r,Object.keys(e).filter((e=>!t.column(e))),n)},__except:function(t,e){if(0===e.length)return t;const n=t.columnNames();return e.reduce(((t,e)=>t.antijoin(e.select(n))),t).dedupe()},__filter:function(t,e){const n=jh({p:e},{table:t});let r=n.exprs[0];if(n.ops.length){const{data:e}=Hd(t,n,{drop:!0}).column("p");r=t=>e[t]}return function(t,e){const n=t.totalRows(),r=t.mask(),i=t.data(),o=new Gd(n);if(r)for(let a=r.next(0);a>=0;a=r.next(a+1))e(a,i)&&o.set(a);else for(let a=0;a<n;++a)e(a,i)&&o.set(a);return t.create({filter:o})}(t,r)},__fold:function(t,e,n){return function(t,{names:e=[],exprs:n=[],ops:r=[]},i={}){if(0===e.length)return t;const[o="key",a="value"]=i.as||[],s=Cd(t,r,n);return Xd(t,{names:[o,a],exprs:[()=>e,(t,e)=>s.map((n=>n(t,e)))]},{...i,drop:e})}(t,Kd("fold",t,e),n)},__impute:function(t,e,n={}){if((e=jh(e,{table:t})).names.forEach((e=>t.column(e)?0:d(`Invalid impute column ${at(e)}`))),n.expand){const r={preparse:tp,aggronly:!0},i=Kd("impute",t,n.expand,r),o=Qd(t.ungroup(),i);return Zd(t,e,i.names,i.names.map((t=>o.get(t,0))))}return Zd(t,e)},__intersect:function(t,e){const n=t.columnNames();return e.length?e.reduce(((t,e)=>t.semijoin(e.select(n))),t).dedupe():t.reify([])},__join:cp,__lookup:function(t,e,n,r){return function(t,e,[n,r],{names:i,exprs:o,ops:a}){const s=B(t),u=t.totalRows();i.forEach((t=>s.add(t,Array(u).fill(k))));const c=ep(e,r),l=Id(["lr","rr","data"],"{"+Td(i,((t,e)=>`_[${e}][lr] = $[${e}](rr, data);`))+"}",i.map((t=>s.data[t])),Cd(e,a,o)),f=e.data();return t.scan(((t,e)=>{const r=c.get(n(t,e));r>=0&&l(t,r,f)})),t.create(s)}(t,e,[op("lookup",t,(n=ap(t,e,n))[0]),op("lookup",e,n[1])],Kd("lookup",e,r))},__pivot:function(t,e,n,r){return yp(t,Kd("fold",t,e),Kd("fold",t,n,{preparse:gp,aggronly:!0}),r)},__relocate:Ad,__rename:function(t,e){const n=new Map;return t.columnNames((t=>(n.set(t,t),0))),Sd(t,Yf(t,e,n))},__rollup:mp,__sample:function(t,e,n={}){return Mp(t,function(t,e){return p(e)?()=>e:Sp(Qd(t,jh({size:e},{table:t})).column("size"))}(t,e),function(t,e){return null==e?null:(e=p(e)?t.columnName(e):e,Sp(M(e)?t.column(e):Hd(t,jh({w:e},{table:t}),{drop:!0}).column("w")))}(t,n.weight),n)},__select:function(t,e){return Sd(t,Yf(t,e))},__semijoin:dp,__spread:function(t,e,n){return Ap(t,Kd("spread",t,e),n)},__union:function(t,e){return t.concat(e).dedupe()},__unroll:function(t,e,n){return Xd(t,Kd("unroll",t,e),n&&n.drop?{...n,drop:Kd("unroll",t,n.drop).names}:n)},__groupby:function(t,e){return function(t,e){return t.create({groups:Tp(t,e)})}(t,Kd("groupby",t,e))},__orderby:function(t,e){return function(t,e){return t.create({order:e})}(t,function(t,e){let n=-1;const r=new Map,i=t=>r.set(++n+"",t);return e.forEach((e=>{const n=null!=e.expr?e.expr:e;if(w(n)&&!y(n))for(const t in n)i(n[t]);else i(p(n)?ed(e,t.columnName(n)):M(n)?ed(e):y(n)?e:d("Invalid orderby field: "+(e+"")))})),function(t,e){const n=[],r=[],i=[];let o=null,a="0",s="0";t.isGrouped()&&(o=t.groups().keys,a="ka",s="kb");const{ops:u}=jh(e,{table:t,value:(t,e)=>{if(n.push(t),e.escape){const t=t=>`fn[${i.length}](${t}, data)`;r.push([t("a"),t("b")]),i.push(e.escape)}else r.push([Nt(e,{index:"a",op:a}),Nt(e,{index:"b",op:s})])},window:!1}),c=Ud(t,u),l=(t,e)=>c[t][e],f=n.length;let h="return (a, b) => {"+(l&&t.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let d=0;d<f;++d){const t=e.get(n[d]).desc?-1:1,[i,o]=r[d];h+=Ip(i,o,-t,t)}return h+="0;};",Function("op","keys","fn","data",h)(l,o,i,t.data())}(t,r)}(t,e))},__ungroup:function(t){return t.isGrouped()?t.create({groups:null}):t},__unorder:function(t){return t.isOrdered()?t.create({order:null}):t},__reduce:function(t,e){const n=B(),r=t.groups(),{get:i,names:o=[],rows:a,size:s=1}=r||{},u=new Uint32Array(s+1);o.forEach((t=>n.add(t,null)));const c=r?jd(t,e,r):[zd(t,e)];e.outputs().map((t=>n.add(t,[])));const l=u.length-1;let f=0;for(let h=0;h<l;++h)f+=u[h+1]=e.write(c[h],n.data,u[h]);if(r){const e=t.data();o.forEach(((t,r)=>{const o=n.data[t]=Array(f),c=i[r];for(let n=0,i=0;n<s;++n)o.fill(c(a[n],e),i,i+=u[n+1])}))}return t.create(n.new())}};Object.assign(Kf.prototype,Bp);Kf.prototype},9742:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=u(t),a=o[0],s=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(c(t,s,s+a>u?u:s+a));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(t,e,n){"use strict";var r=n(9742),i=n(645),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,n)}function c(t,e,n){if("string"===typeof t)return function(t,e){"string"===typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|y(t,e),r=s(n),i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);var i=function(t){if(u.isBuffer(t)){var e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!==typeof t.length||$(t.length)?s(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),s(t<0?0:0|p(t))}function h(t){for(var e=t.length<0?0:0|p(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(i)return r?-1:z(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if($(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return P(z(e,t.length-n),t,n,r)}function x(t,e,n,r){return P(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function M(t,e,n,r){return x(t,e,n,r)}function S(t,e,n,r){return P(j(e),t,n,r)}function A(t,e,n,r){return P(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=B));return n}(r)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?s(t):void 0!==e?"string"===typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(V(o,Uint8Array)&&(o=u.from(o)),!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Y[t[o]];return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(t,e,n,r,o){return e=+e,n>>>=0,o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return e=+e,n>>>=0,o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||D(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||D(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||D(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||D(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,n){return C(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return C(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var o=i-1;o>=0;--o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:u.from(t,r),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var R=/[^+/0-9A-Za-z-_]/g;function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function P(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!==t}var Y=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)e[r+i]=t[n]+t[i];return e}()},7675:function(t,e,n){"use strict";n.r(e),n.d(e,{Adder:function(){return x},Delaunay:function(){return bs},FormatSpecifier:function(){return Mc},InternMap:function(){return A},InternSet:function(){return T},Voronoi:function(){return hs},active:function(){return Hi},arc:function(){return Ux},area:function(){return qx},areaRadial:function(){return tM},ascending:function(){return i},autoType:function(){return Xs},axisBottom:function(){return Jt},axisLeft:function(){return Qt},axisRight:function(){return Zt},axisTop:function(){return Kt},bin:function(){return tt},bisect:function(){return f},bisectCenter:function(){return l},bisectLeft:function(){return c},bisectRight:function(){return u},bisector:function(){return o},blob:function(){return ku},brush:function(){return So},brushSelection:function(){return wo},brushX:function(){return xo},brushY:function(){return Mo},buffer:function(){return Nu},chord:function(){return Co},chordDirected:function(){return Ro},chordTranspose:function(){return Uo},cluster:function(){return Lp},color:function(){return qn},contourDensity:function(){return Ka},contours:function(){return Ya},count:function(){return h},create:function(){return lx},creator:function(){return sn},cross:function(){return g},csv:function(){return Uu},csvFormat:function(){return Cs},csvFormatBody:function(){return Us},csvFormatRow:function(){return zs},csvFormatRows:function(){return Rs},csvFormatValue:function(){return js},csvParse:function(){return Fs},csvParseRows:function(){return Ls},cubehelix:function(){return Fa},cumsum:function(){return m},curveBasis:function(){return DM},curveBasisClosed:function(){return LM},curveBasisOpen:function(){return UM},curveBumpX:function(){return zM},curveBumpY:function(){return jM},curveBundle:function(){return VM},curveCardinal:function(){return qM},curveCardinalClosed:function(){return WM},curveCardinalOpen:function(){return XM},curveCatmullRom:function(){return JM},curveCatmullRomClosed:function(){return tS},curveCatmullRomOpen:function(){return nS},curveLinear:function(){return Px},curveLinearClosed:function(){return iS},curveMonotoneX:function(){return hS},curveMonotoneY:function(){return dS},curveNatural:function(){return gS},curveStep:function(){return bS},curveStepAfter:function(){return _S},curveStepBefore:function(){return vS},descending:function(){return b},deviation:function(){return _},difference:function(){return Ft},disjoint:function(){return Lt},dispatch:function(){return ae},drag:function(){return As},dragDisable:function(){return An},dragEnable:function(){return Tn},dsv:function(){return Cu},dsvFormat:function(){return Ns},easeBack:function(){return Su},easeBackIn:function(){return xu},easeBackInOut:function(){return Su},easeBackOut:function(){return Mu},easeBounce:function(){return vu},easeBounceIn:function(){return bu},easeBounceInOut:function(){return _u},easeBounceOut:function(){return vu},easeCircle:function(){return yu},easeCircleIn:function(){return du},easeCircleInOut:function(){return yu},easeCircleOut:function(){return pu},easeCubic:function(){return Vi},easeCubicIn:function(){return ji},easeCubicInOut:function(){return Vi},easeCubicOut:function(){return Pi},easeElastic:function(){return Iu},easeElasticIn:function(){return Tu},easeElasticInOut:function(){return Bu},easeElasticOut:function(){return Iu},easeExp:function(){return hu},easeExpIn:function(){return lu},easeExpInOut:function(){return hu},easeExpOut:function(){return fu},easeLinear:function(){return Zs},easePoly:function(){return ru},easePolyIn:function(){return eu},easePolyInOut:function(){return ru},easePolyOut:function(){return nu},easeQuad:function(){return tu},easeQuadIn:function(){return Js},easeQuadInOut:function(){return tu},easeQuadOut:function(){return Qs},easeSin:function(){return uu},easeSinIn:function(){return au},easeSinInOut:function(){return uu},easeSinOut:function(){return su},every:function(){return Bt},extent:function(){return w},fcumsum:function(){return S},filter:function(){return kt},forceCenter:function(){return Hu},forceCollide:function(){return oc},forceLink:function(){return uc},forceManyBody:function(){return pc},forceRadial:function(){return yc},forceSimulation:function(){return dc},forceX:function(){return gc},forceY:function(){return mc},format:function(){return Bc},formatDefaultLocale:function(){return Dc},formatLocale:function(){return Nc},formatPrefix:function(){return Ec},formatSpecifier:function(){return xc},fsum:function(){return M},geoAlbers:function(){return Kd},geoAlbersUsa:function(){return Zd},geoArea:function(){return Ul},geoAzimuthalEqualArea:function(){return ep},geoAzimuthalEqualAreaRaw:function(){return tp},geoAzimuthalEquidistant:function(){return rp},geoAzimuthalEquidistantRaw:function(){return np},geoBounds:function(){return vf},geoCentroid:function(){return Of},geoCircle:function(){return Vf},geoClipAntimeridian:function(){return Qf},geoClipCircle:function(){return th},geoClipExtent:function(){return uh},geoClipRectangle:function(){return sh},geoConicConformal:function(){return cp},geoConicConformalRaw:function(){return up},geoConicEqualArea:function(){return Xd},geoConicEqualAreaRaw:function(){return Gd},geoConicEquidistant:function(){return dp},geoConicEquidistantRaw:function(){return hp},geoContains:function(){return Ah},geoDistance:function(){return gh},geoEqualEarth:function(){return _p},geoEqualEarthRaw:function(){return vp},geoEquirectangular:function(){return fp},geoEquirectangularRaw:function(){return lp},geoGnomonic:function(){return xp},geoGnomonicRaw:function(){return wp},geoGraticule:function(){return Bh},geoGraticule10:function(){return Eh},geoIdentity:function(){return Mp},geoInterpolate:function(){return kh},geoLength:function(){return dh},geoMercator:function(){return op},geoMercatorRaw:function(){return ip},geoNaturalEarth1:function(){return Ap},geoNaturalEarth1Raw:function(){return Sp},geoOrthographic:function(){return Ip},geoOrthographicRaw:function(){return Tp},geoPath:function(){return Nd},geoProjection:function(){return qd},geoProjectionMutator:function(){return Hd},geoRotation:function(){return zf},geoStereographic:function(){return Ep},geoStereographicRaw:function(){return Bp},geoStream:function(){return dl},geoTransform:function(){return Dd},geoTransverseMercator:function(){return Op},geoTransverseMercatorRaw:function(){return kp},gray:function(){return da},greatest:function(){return vt},greatestIndex:function(){return _t},group:function(){return N},groupSort:function(){return V},groups:function(){return D},hcl:function(){return xa},hierarchy:function(){return Up},histogram:function(){return tt},hsl:function(){return nr},html:function(){return Yu},image:function(){return zu},index:function(){return C},indexes:function(){return U},interpolate:function(){return Ir},interpolateArray:function(){return vr},interpolateBasis:function(){return ar},interpolateBasisClosed:function(){return sr},interpolateBlues:function(){return Uw},interpolateBrBG:function(){return X_},interpolateBuGn:function(){return dw},interpolateBuPu:function(){return yw},interpolateCividis:function(){return Gw},interpolateCool:function(){return Zw},interpolateCubehelix:function(){return Gy},interpolateCubehelixDefault:function(){return Xw},interpolateCubehelixLong:function(){return Xy},interpolateDate:function(){return wr},interpolateDiscrete:function(){return Ly},interpolateGnBu:function(){return mw},interpolateGreens:function(){return zw},interpolateGreys:function(){return Pw},interpolateHcl:function(){return qy},interpolateHclLong:function(){return Hy},interpolateHsl:function(){return Py},interpolateHslLong:function(){return Vy},interpolateHue:function(){return Cy},interpolateInferno:function(){return ux},interpolateLab:function(){return $y},interpolateMagma:function(){return sx},interpolateNumber:function(){return xr},interpolateNumberArray:function(){return mr},interpolateObject:function(){return Mr},interpolateOrRd:function(){return vw},interpolateOranges:function(){return Ww},interpolatePRGn:function(){return Z_},interpolatePiYG:function(){return Q_},interpolatePlasma:function(){return cx},interpolatePuBu:function(){return Mw},interpolatePuBuGn:function(){return ww},interpolatePuOr:function(){return ew},interpolatePuRd:function(){return Aw},interpolatePurples:function(){return $w},interpolateRainbow:function(){return Qw},interpolateRdBu:function(){return rw},interpolateRdGy:function(){return ow},interpolateRdPu:function(){return Iw},interpolateRdYlBu:function(){return sw},interpolateRdYlGn:function(){return cw},interpolateReds:function(){return qw},interpolateRgb:function(){return dr},interpolateRgbBasis:function(){return yr},interpolateRgbBasisClosed:function(){return gr},interpolateRound:function(){return Uy},interpolateSinebow:function(){return rx},interpolateSpectral:function(){return fw},interpolateString:function(){return Tr},interpolateTransformCss:function(){return si},interpolateTransformSvg:function(){return ui},interpolateTurbo:function(){return ix},interpolateViridis:function(){return ax},interpolateWarm:function(){return Kw},interpolateYlGn:function(){return Ow},interpolateYlGnBu:function(){return Ew},interpolateYlOrBr:function(){return Dw},interpolateYlOrRd:function(){return Lw},interpolateZoom:function(){return zy},interrupt:function(){return ei},intersection:function(){return Ut},interval:function(){return jS},isoFormat:function(){return RS},isoParse:function(){return zS},json:function(){return Pu},lab:function(){return pa},lch:function(){return wa},least:function(){return mt},leastIndex:function(){return bt},line:function(){return Yx},lineRadial:function(){return Qx},linkHorizontal:function(){return uM},linkRadial:function(){return lM},linkVertical:function(){return cM},local:function(){return hx},map:function(){return Ot},matcher:function(){return he},max:function(){return et},maxIndex:function(){return ct},mean:function(){return lt},median:function(){return ft},merge:function(){return ht},min:function(){return nt},minIndex:function(){return dt},namespace:function(){return Ie},namespaces:function(){return Te},nice:function(){return J},now:function(){return jr},pack:function(){return uy},packEnclose:function(){return $p},packSiblings:function(){return ny},pairs:function(){return pt},partition:function(){return py},path:function(){return Ho},permute:function(){return j},pie:function(){return Gx},piecewise:function(){return Ky},pointRadial:function(){return eM},pointer:function(){return Er},pointers:function(){return px},polygonArea:function(){return Jy},polygonCentroid:function(){return Qy},polygonContains:function(){return ig},polygonHull:function(){return rg},polygonLength:function(){return og},precisionFixed:function(){return Fc},precisionPrefix:function(){return Lc},precisionRound:function(){return Cc},quadtree:function(){return Zu},quantile:function(){return ot},quantileSorted:function(){return at},quantize:function(){return Zy},quickselect:function(){return rt},radialArea:function(){return tM},radialLine:function(){return Qx},randomBates:function(){return hg},randomBernoulli:function(){return yg},randomBeta:function(){return bg},randomBinomial:function(){return vg},randomCauchy:function(){return wg},randomExponential:function(){return dg},randomGamma:function(){return mg},randomGeometric:function(){return gg},randomInt:function(){return ug},randomIrwinHall:function(){return fg},randomLcg:function(){return Ag},randomLogNormal:function(){return lg},randomLogistic:function(){return xg},randomNormal:function(){return cg},randomPareto:function(){return pg},randomPoisson:function(){return Mg},randomUniform:function(){return sg},randomWeibull:function(){return _g},range:function(){return gt},reduce:function(){return Nt},reverse:function(){return Dt},rgb:function(){return Xn},ribbon:function(){return ra},ribbonArrow:function(){return ia},rollup:function(){return F},rollups:function(){return L},scaleBand:function(){return kg},scaleDiverging:function(){return O_},scaleDivergingLog:function(){return N_},scaleDivergingPow:function(){return F_},scaleDivergingSqrt:function(){return L_},scaleDivergingSymlog:function(){return D_},scaleIdentity:function(){return qg},scaleImplicit:function(){return Bg},scaleLinear:function(){return Yg},scaleLog:function(){return tm},scaleOrdinal:function(){return Eg},scalePoint:function(){return Ng},scalePow:function(){return cm},scaleQuantile:function(){return pm},scaleQuantize:function(){return ym},scaleRadial:function(){return dm},scaleSequential:function(){return S_},scaleSequentialLog:function(){return A_},scaleSequentialPow:function(){return I_},scaleSequentialQuantile:function(){return E_},scaleSequentialSqrt:function(){return B_},scaleSequentialSymlog:function(){return T_},scaleSqrt:function(){return lm},scaleSymlog:function(){return im},scaleThreshold:function(){return gm},scaleTime:function(){return __},scaleUtc:function(){return w_},scan:function(){return wt},schemeAccent:function(){return R_},schemeBlues:function(){return Cw},schemeBrBG:function(){return G_},schemeBuGn:function(){return hw},schemeBuPu:function(){return pw},schemeCategory10:function(){return U_},schemeDark2:function(){return z_},schemeGnBu:function(){return gw},schemeGreens:function(){return Rw},schemeGreys:function(){return jw},schemeOrRd:function(){return bw},schemeOranges:function(){return Hw},schemePRGn:function(){return K_},schemePaired:function(){return j_},schemePastel1:function(){return P_},schemePastel2:function(){return V_},schemePiYG:function(){return J_},schemePuBu:function(){return xw},schemePuBuGn:function(){return _w},schemePuOr:function(){return tw},schemePuRd:function(){return Sw},schemePurples:function(){return Vw},schemeRdBu:function(){return nw},schemeRdGy:function(){return iw},schemeRdPu:function(){return Tw},schemeRdYlBu:function(){return aw},schemeRdYlGn:function(){return uw},schemeReds:function(){return Yw},schemeSet1:function(){return $_},schemeSet2:function(){return Y_},schemeSet3:function(){return q_},schemeSpectral:function(){return lw},schemeTableau10:function(){return H_},schemeYlGn:function(){return kw},schemeYlGnBu:function(){return Bw},schemeYlOrBr:function(){return Nw},schemeYlOrRd:function(){return Fw},select:function(){return xn},selectAll:function(){return yx},selection:function(){return wn},selector:function(){return ue},selectorAll:function(){return fe},shuffle:function(){return xt},shuffler:function(){return Mt},some:function(){return Et},sort:function(){return P},stack:function(){return AS},stackOffsetDiverging:function(){return IS},stackOffsetExpand:function(){return TS},stackOffsetNone:function(){return wS},stackOffsetSilhouette:function(){return BS},stackOffsetWiggle:function(){return ES},stackOrderAppearance:function(){return kS},stackOrderAscending:function(){return NS},stackOrderDescending:function(){return FS},stackOrderInsideOut:function(){return LS},stackOrderNone:function(){return xS},stackOrderReverse:function(){return CS},stratify:function(){return vy},style:function(){return Re},subset:function(){return zt},sum:function(){return St},superset:function(){return Rt},svg:function(){return qu},symbol:function(){return EM},symbolCircle:function(){return fM},symbolCross:function(){return hM},symbolDiamond:function(){return yM},symbolSquare:function(){return _M},symbolStar:function(){return vM},symbolTriangle:function(){return xM},symbolWye:function(){return IM},symbols:function(){return BM},text:function(){return Fu},thresholdFreedmanDiaconis:function(){return st},thresholdScott:function(){return ut},thresholdSturges:function(){return Q},tickFormat:function(){return Vg},tickIncrement:function(){return K},tickStep:function(){return Z},ticks:function(){return X},timeDay:function(){return jm},timeDays:function(){return Pm},timeFormat:function(){return Xb},timeFormatDefaultLocale:function(){return g_},timeFormatLocale:function(){return Wb},timeFriday:function(){return Gm},timeFridays:function(){return eb},timeHour:function(){return Um},timeHours:function(){return Rm},timeInterval:function(){return Tm},timeMillisecond:function(){return Bm},timeMilliseconds:function(){return Em},timeMinute:function(){return Fm},timeMinutes:function(){return Lm},timeMonday:function(){return Ym},timeMondays:function(){return Zm},timeMonth:function(){return ib},timeMonths:function(){return ob},timeParse:function(){return Kb},timeSaturday:function(){return Xm},timeSaturdays:function(){return nb},timeSecond:function(){return Om},timeSeconds:function(){return Nm},timeSunday:function(){return $m},timeSundays:function(){return Km},timeThursday:function(){return Wm},timeThursdays:function(){return tb},timeTickInterval:function(){return $b},timeTicks:function(){return Vb},timeTuesday:function(){return qm},timeTuesdays:function(){return Jm},timeWednesday:function(){return Hm},timeWednesdays:function(){return Qm},timeWeek:function(){return $m},timeWeeks:function(){return Km},timeYear:function(){return sb},timeYears:function(){return ub},timeout:function(){return Gr},timer:function(){return $r},timerFlush:function(){return Yr},transition:function(){return Ui},transpose:function(){return At},tree:function(){return Ty},treemap:function(){return Oy},treemapBinary:function(){return Ny},treemapDice:function(){return dy},treemapResquarify:function(){return Fy},treemapSlice:function(){return Iy},treemapSliceDice:function(){return Dy},treemapSquarify:function(){return ky},tsv:function(){return Ru},tsvFormat:function(){return Ys},tsvFormatBody:function(){return qs},tsvFormatRow:function(){return Ws},tsvFormatRows:function(){return Hs},tsvFormatValue:function(){return Gs},tsvParse:function(){return Vs},tsvParseRows:function(){return $s},union:function(){return jt},utcDay:function(){return gb},utcDays:function(){return mb},utcFormat:function(){return Zb},utcFriday:function(){return Sb},utcFridays:function(){return Ob},utcHour:function(){return db},utcHours:function(){return pb},utcMillisecond:function(){return Bm},utcMilliseconds:function(){return Em},utcMinute:function(){return lb},utcMinutes:function(){return fb},utcMonday:function(){return _b},utcMondays:function(){return Ib},utcMonth:function(){return Fb},utcMonths:function(){return Lb},utcParse:function(){return Jb},utcSaturday:function(){return Ab},utcSaturdays:function(){return Nb},utcSecond:function(){return Om},utcSeconds:function(){return Nm},utcSunday:function(){return vb},utcSundays:function(){return Tb},utcThursday:function(){return Mb},utcThursdays:function(){return kb},utcTickInterval:function(){return Pb},utcTicks:function(){return jb},utcTuesday:function(){return wb},utcTuesdays:function(){return Bb},utcWednesday:function(){return xb},utcWednesdays:function(){return Eb},utcWeek:function(){return vb},utcWeeks:function(){return Tb},utcYear:function(){return Ub},utcYears:function(){return Rb},variance:function(){return v},version:function(){return r},window:function(){return Fe},xml:function(){return $u},zip:function(){return It},zoom:function(){return tA},zoomIdentity:function(){return YS},zoomTransform:function(){return qS}});var r="6.7.0";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>i(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}function a(t){return null===t?NaN:+t}const s=o(i),u=s.right,c=s.left,l=o(a).center;var f=u;function h(t,e){let n=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function d(t){return 0|t.length}function p(t){return!(t>0)}function y(t){return"object"!==typeof t||"length"in t?t:Array.from(t)}function g(...t){const e="function"===typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(y)).map(d),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(p))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}}function m(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function b(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function v(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let a of t)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function _(t,e){const n=v(t,e);return n?Math.sqrt(n):n}function w(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class x{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function M(t,e){const n=new x;if(void 0===e)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function S(t,e){const n=new x;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}class A extends Map{constructor(t,e=k){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(I(this,t))}has(t){return super.has(I(this,t))}set(t,e){return super.set(B(this,t),e)}delete(t){return super.delete(E(this,t))}}class T extends Set{constructor(t,e=k){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(I(this,t))}add(t){return super.add(B(this,t))}delete(t){return super.delete(E(this,t))}}function I({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function B({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function E({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(n),t.delete(r)),n}function k(t){return null!==t&&"object"===typeof t?t.valueOf():t}function O(t){return t}function N(t,...e){return z(t,O,O,e)}function D(t,...e){return z(t,Array.from,O,e)}function F(t,e,...n){return z(t,O,e,n)}function L(t,e,...n){return z(t,Array.from,e,n)}function C(t,...e){return z(t,O,R,e)}function U(t,...e){return z(t,Array.from,R,e)}function R(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function z(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new A,s=r[o++];let u=-1;for(const e of i){const t=s(e,++u,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function j(t,e){return Array.from(e,(e=>t[e]))}function P(t,...e){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n=i]=e;if(1===n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=i(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>i(n[t],n[e])))),j(t,r)}return t.sort(n)}function V(t,e,n){return(1===e.length?P(F(t,e,n),(([t,e],[n,r])=>i(e,r)||i(t,n))):P(N(t,n),(([t,n],[r,o])=>e(n,o)||i(t,r)))).map((([t])=>t))}var $=Array.prototype,Y=$.slice;$.map;function q(t){return function(){return t}}var H=Math.sqrt(50),W=Math.sqrt(10),G=Math.sqrt(2);function X(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=K(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function K(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=H?10:o>=W?5:o>=G?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=H?10:o>=W?5:o>=G?2:1)}function Z(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=H?i*=10:o>=W?i*=5:o>=G&&(i*=2),e<t?-i:i}function J(t,e,n){let r;for(;;){const i=K(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Q(t){return Math.ceil(Math.log(h(t))/Math.LN2)+1}function tt(){var t=O,e=w,n=Q;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var u=e(s),c=u[0],l=u[1],h=n(s,c,l);if(!Array.isArray(h)){const t=l,n=+h;if(e===w&&([c,l]=J(c,l,n)),(h=X(c,l,n))[h.length-1]>=l)if(t>=l&&e===w){const t=K(c,l,n);isFinite(t)&&(t>0?l=(Math.floor(l/t)+1)*t:t<0&&(l=(Math.ceil(l*-t)+1)/-t))}else h.pop()}for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var p,y=new Array(d+1);for(i=0;i<=d;++i)(p=y[i]=[]).x0=i>0?h[i-1]:c,p.x1=i<d?h[i]:l;for(i=0;i<a;++i)c<=(o=s[i])&&o<=l&&y[f(h,o,0,d)].push(r[i]);return y}return r.value=function(e){return arguments.length?(t="function"===typeof e?e:q(e),r):t},r.domain=function(t){return arguments.length?(e="function"===typeof t?t:q([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?q(Y.call(t)):q(t),r):n},r}function et(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function nt(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function rt(t,e,n=0,r=t.length-1,o=i){for(;r>n;){if(r-n>600){const i=r-n+1,a=e-n+1,s=Math.log(i),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(i-u)/i)*(a-i/2<0?-1:1);rt(t,e,Math.max(n,Math.floor(e-a*u/i+c)),Math.min(r,Math.floor(e+(i-a)*u/i+c)),o)}const i=t[e];let a=n,s=r;for(it(t,n,e),o(t[r],i)>0&&it(t,n,r);a<s;){for(it(t,a,s),++a,--s;o(t[a],i)<0;)++a;for(;o(t[s],i)>0;)--s}0===o(t[n],i)?it(t,n,s):(++s,it(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function it(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ot(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return nt(t);if(e>=1)return et(t);var r,i=(r-1)*e,o=Math.floor(i),a=et(rt(t,o).subarray(0,o+1));return a+(nt(t.subarray(o+1))-a)*(i-o)}}function at(t,e,n=a){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}}function st(t,e,n){return Math.ceil((n-e)/(2*(ot(t,.75)-ot(t,.25))*Math.pow(h(t),-1/3)))}function ut(t,e,n){return Math.ceil((n-e)/(3.5*_(t)*Math.pow(h(t),-1/3)))}function ct(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function lt(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ft(t,e){return ot(t,.5,e)}function ht(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function dt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function pt(t,e=yt){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function yt(t,e){return[t,e]}function gt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function mt(t,e=i){let n,r=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(r?i(t,o)<0:0===i(t,t))&&(n=a,o=t,r=!0)}}else for(const i of t)(r?e(i,n)<0:0===e(i,i))&&(n=i,r=!0);return n}function bt(t,e=i){if(1===e.length)return dt(t,e);let n,r=-1,o=-1;for(const i of t)++o,(r<0?0===e(i,i):e(i,n)<0)&&(n=i,r=o);return r}function vt(t,e=i){let n,r=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(r?i(t,o)>0:0===i(t,t))&&(n=a,o=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function _t(t,e=i){if(1===e.length)return ct(t,e);let n,r=-1,o=-1;for(const i of t)++o,(r<0?0===e(i,i):e(i,n)>0)&&(n=i,r=o);return r}function wt(t,e){const n=bt(t,e);return n<0?void 0:n}var xt=Mt(Math.random);function Mt(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}function St(t,e){let n=0;if(void 0===e)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function At(t){if(!(i=t.length))return[];for(var e=-1,n=nt(t,Tt),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Tt(t){return t.length}function It(){return At(arguments)}function Bt(t,e){if("function"!==typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function Et(t,e){if("function"!==typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function kt(t,e){if("function"!==typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Ot(t,e){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Nt(t,e,n){if("function"!==typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)n=e(n,o,++a,t);return n}function Dt(t){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Ft(t,...e){t=new Set(t);for(const n of e)for(const e of n)t.delete(e);return t}function Lt(t,e){const n=e[Symbol.iterator](),r=new Set;for(const i of t){if(r.has(i))return!1;let t,e;for(;({value:t,done:e}=n.next())&&!e;){if(Object.is(i,t))return!1;r.add(t)}}return!0}function Ct(t){return t instanceof Set?t:new Set(t)}function Ut(t,...e){t=new Set(t),e=e.map(Ct);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Rt(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){if(r.has(i))continue;let t,e;for(;({value:t,done:e}=n.next());){if(e)return!1;if(r.add(t),Object.is(i,t))break}}return!0}function zt(t,e){return Rt(e,t)}function jt(...t){const e=new Set;for(const n of t)for(const t of n)e.add(t);return e}var Pt=Array.prototype.slice;function Vt(t){return t}var $t=1e-6;function Yt(t){return"translate("+t+",0)"}function qt(t){return"translate(0,"+t+")"}function Ht(t){return e=>+t(e)}function Wt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Gt(){return!this.__axis}function Xt(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",f=1===t||3===t?Yt:qt;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Vt:i,y=Math.max(o,0)+s,g=e.range(),m=+g[0]+u,b=+g[g.length-1]+u,v=(e.bandwidth?Wt:Ht)(e.copy(),u),_=h.selection?h.selection():h,w=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(d,e).order(),M=x.exit(),S=x.enter().append("g").attr("class","tick"),A=x.select("line"),T=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),A=A.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),T=T.merge(S.append("text").attr("fill","currentColor").attr(l,c*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==_&&(w=w.transition(h),x=x.transition(h),A=A.transition(h),T=T.transition(h),M=M.transition(h).attr("opacity",$t).attr("transform",(function(t){return isFinite(t=v(t))?f(t+u):this.getAttribute("transform")})),S.attr("opacity",$t).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:v(t))+u)}))),M.remove(),w.attr("d",4===t||2===t?a?"M"+c*a+","+m+"H"+u+"V"+b+"H"+c*a:"M"+u+","+m+"V"+b:a?"M"+m+","+c*a+"V"+u+"H"+b+"V"+c*a:"M"+m+","+u+"H"+b),x.attr("opacity",1).attr("transform",(function(t){return f(v(t)+u)})),A.attr(l+"2",c*o),T.attr(l,c*y).text(p),_.filter(Gt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Pt.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Pt.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Pt.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(u=+t,h):u},h}function Kt(t){return Xt(1,t)}function Zt(t){return Xt(2,t)}function Jt(t){return Xt(3,t)}function Qt(t){return Xt(4,t)}var te={value:()=>{}};function ee(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ne(r)}function ne(t){this._=t}function re(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ie(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function oe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=te,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ne.prototype=ee.prototype={constructor:ne,on:function(t,e){var n,r=this._,i=re(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=oe(r[n],t.name,e);else if(null==e)for(n in r)r[n]=oe(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ie(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ne(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ae=ee;function se(){}function ue(t){return null==t?se:function(){return this.querySelector(t)}}function ce(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function le(){return[]}function fe(t){return null==t?le:function(){return this.querySelectorAll(t)}}function he(t){return function(){return this.matches(t)}}function de(t){return function(e){return e.matches(t)}}var pe=Array.prototype.find;function ye(){return this.firstElementChild}var ge=Array.prototype.filter;function me(){return this.children}function be(t){return new Array(t.length)}function ve(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _e(t){return function(){return t}}function we(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ve(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function xe(t,e,n,r,i,o,a){var s,u,c,l=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new ve(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(d[s])===u&&(i[s]=u)}function Me(t){return t.__data__}function Se(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ve.prototype={constructor:ve,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ae="http://www.w3.org/1999/xhtml",Te={svg:"http://www.w3.org/2000/svg",xhtml:Ae,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ie(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Te.hasOwnProperty(e)?{space:Te[e],local:t}:t}function Be(t){return function(){this.removeAttribute(t)}}function Ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ke(t,e){return function(){this.setAttribute(t,e)}}function Oe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ne(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function De(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Le(t){return function(){this.style.removeProperty(t)}}function Ce(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ue(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Re(t,e){return t.style.getPropertyValue(e)||Fe(t).getComputedStyle(t,null).getPropertyValue(e)}function ze(t){return function(){delete this[t]}}function je(t,e){return function(){this[t]=e}}function Pe(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ve(t){return t.trim().split(/^|\s+/)}function $e(t){return t.classList||new Ye(t)}function Ye(t){this._node=t,this._names=Ve(t.getAttribute("class")||"")}function qe(t,e){for(var n=$e(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function He(t,e){for(var n=$e(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function We(t){return function(){qe(this,t)}}function Ge(t){return function(){He(this,t)}}function Xe(t,e){return function(){(e.apply(this,arguments)?qe:He)(this,t)}}function Ke(){this.textContent=""}function Ze(t){return function(){this.textContent=t}}function Je(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Qe(){this.innerHTML=""}function tn(t){return function(){this.innerHTML=t}}function en(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function nn(){this.nextSibling&&this.parentNode.appendChild(this)}function rn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function on(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ae&&e.documentElement.namespaceURI===Ae?e.createElement(t):e.createElementNS(n,t)}}function an(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sn(t){var e=Ie(t);return(e.local?an:on)(e)}function un(){return null}function cn(){var t=this.parentNode;t&&t.removeChild(this)}function ln(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function dn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function pn(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function yn(t,e,n){var r=Fe(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function gn(t,e){return function(){return yn(this,t,e)}}function mn(t,e){return function(){return yn(this,t,e.apply(this,arguments))}}Ye.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var bn=[null];function vn(t,e){this._groups=t,this._parents=e}function _n(){return new vn([[document.documentElement]],bn)}vn.prototype=_n.prototype={constructor:vn,select:function(t){"function"!==typeof t&&(t=ue(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new vn(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:ce(e)}}(t):fe(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new vn(r,i)},selectChild:function(t){return this.select(null==t?ye:function(t){return function(){return pe.call(this.children,t)}}("function"===typeof t?t:de(t)))},selectChildren:function(t){return this.selectAll(null==t?me:function(t){return function(){return ge.call(this.children,t)}}("function"===typeof t?t:de(t)))},filter:function(t){"function"!==typeof t&&(t=he(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new vn(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Me);var n=e?xe:we,r=this._parents,i=this._groups;"function"!==typeof t&&(t=_e(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=ce(t.call(l,l&&l.__data__,c,r)),p=d.length,y=s[c]=new Array(p),g=a[c]=new Array(p),m=u[c]=new Array(h);n(l,f,y,g,m,d,e);for(var b,v,_=0,w=0;_<p;++_)if(b=y[_]){for(_>=w&&(w=_+1);!(v=g[w])&&++w<p;);b._next=v||null}}return(a=new vn(a,r))._enter=s,a._exit=u,a},enter:function(){return new vn(this._enter||this._groups.map(be),this._parents)},exit:function(){return new vn(this._exit||this._groups.map(be),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof vn))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new vn(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Se);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new vn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ie(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ee:Be:"function"===typeof e?n.local?De:Ne:n.local?Oe:ke)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Le:"function"===typeof e?Ue:Ce)(t,e,null==n?"":n)):Re(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ze:"function"===typeof e?Pe:je)(t,e)):this.node()[t]},classed:function(t,e){var n=Ve(t+"");if(arguments.length<2){for(var r=$e(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?Xe:e?We:Ge)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ke:("function"===typeof t?Je:Ze)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Qe:("function"===typeof t?en:tn)(t)):this.node().innerHTML},raise:function(){return this.each(nn)},lower:function(){return this.each(rn)},append:function(t){var e="function"===typeof t?t:sn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:sn(t),r=null==e?un:"function"===typeof e?e:ue(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(cn)},clone:function(t){return this.select(t?fn:ln)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=hn(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?pn:dn,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?mn:gn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var wn=_n;function xn(t){return"string"===typeof t?new vn([[document.querySelector(t)]],[document.documentElement]):new vn([[t]],bn)}function Mn(t){t.stopImmediatePropagation()}function Sn(t){t.preventDefault(),t.stopImmediatePropagation()}function An(t){var e=t.document.documentElement,n=xn(t).on("dragstart.drag",Sn,!0);"onselectstart"in e?n.on("selectstart.drag",Sn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Tn(t,e){var n=t.document.documentElement,r=xn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Sn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function In(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Bn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function En(){}var kn=.7,On=1/kn,Nn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ln=/^#([0-9a-f]{3,8})$/,Cn=new RegExp("^rgb\\("+[Nn,Nn,Nn]+"\\)$"),Un=new RegExp("^rgb\\("+[Fn,Fn,Fn]+"\\)$"),Rn=new RegExp("^rgba\\("+[Nn,Nn,Nn,Dn]+"\\)$"),zn=new RegExp("^rgba\\("+[Fn,Fn,Fn,Dn]+"\\)$"),jn=new RegExp("^hsl\\("+[Dn,Fn,Fn]+"\\)$"),Pn=new RegExp("^hsla\\("+[Dn,Fn,Fn,Dn]+"\\)$"),Vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function Yn(){return this.rgb().formatRgb()}function qn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ln.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Hn(e):3===n?new Kn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Wn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Wn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Cn.exec(t))?new Kn(e[1],e[2],e[3],1):(e=Un.exec(t))?new Kn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Rn.exec(t))?Wn(e[1],e[2],e[3],e[4]):(e=zn.exec(t))?Wn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=jn.exec(t))?tr(e[1],e[2]/100,e[3]/100,1):(e=Pn.exec(t))?tr(e[1],e[2]/100,e[3]/100,e[4]):Vn.hasOwnProperty(t)?Hn(Vn[t]):"transparent"===t?new Kn(NaN,NaN,NaN,0):null}function Hn(t){return new Kn(t>>16&255,t>>8&255,255&t,1)}function Wn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function Gn(t){return t instanceof En||(t=qn(t)),t?new Kn((t=t.rgb()).r,t.g,t.b,t.opacity):new Kn}function Xn(t,e,n,r){return 1===arguments.length?Gn(t):new Kn(t,e,n,null==r?1:r)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Zn(){return"#"+Qn(this.r)+Qn(this.g)+Qn(this.b)}function Jn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Qn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function tr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new rr(t,e,n,r)}function er(t){if(t instanceof rr)return new rr(t.h,t.s,t.l,t.opacity);if(t instanceof En||(t=qn(t)),!t)return new rr;if(t instanceof rr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new rr(a,s,u,t.opacity)}function nr(t,e,n,r){return 1===arguments.length?er(t):new rr(t,e,n,null==r?1:r)}function rr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ir(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function or(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function ar(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return or((n-r/e)*e,a,i,o,s)}}function sr(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return or((n-r/e)*e,i,o,a,s)}}In(En,qn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHsl:function(){return er(this).formatHsl()},formatRgb:Yn,toString:Yn}),In(Kn,Xn,Bn(En,{brighter:function(t){return t=null==t?On:Math.pow(On,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?kn:Math.pow(kn,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatRgb:Jn,toString:Jn})),In(rr,nr,Bn(En,{brighter:function(t){return t=null==t?On:Math.pow(On,t),new rr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?kn:Math.pow(kn,t),new rr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kn(ir(t>=240?t-240:t+120,i,r),ir(t,i,r),ir(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ur=t=>()=>t;function cr(t,e){return function(n){return t+n*e}}function lr(t,e){var n=e-t;return n?cr(t,n>180||n<-180?n-360*Math.round(n/360):n):ur(isNaN(t)?e:t)}function fr(t){return 1===(t=+t)?hr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ur(isNaN(e)?n:e)}}function hr(t,e){var n=e-t;return n?cr(t,n):ur(isNaN(t)?e:t)}var dr=function t(e){var n=fr(e);function r(t,e){var r=n((t=Xn(t)).r,(e=Xn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=hr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function pr(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Xn(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var yr=pr(ar),gr=pr(sr);function mr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function br(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vr(t,e){return(br(e)?mr:_r)(t,e)}function _r(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ir(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function wr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mr(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Ir(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Sr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Sr.source,"g");function Tr(t,e){var n,r,i,o=Sr.lastIndex=Ar.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Sr.exec(t))&&(r=Ar.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:xr(n,r)})),o=Ar.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Ir(t,e){var n,r=typeof e;return null==e||"boolean"===r?ur(e):("number"===r?xr:"string"===r?(n=qn(e))?(e=n,dr):Tr:e instanceof qn?dr:e instanceof Date?wr:br(e)?mr:Array.isArray(e)?_r:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Mr:xr)(t,e)}function Br(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Er(t,e){if(t=Br(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var kr,Or,Nr=0,Dr=0,Fr=0,Lr=0,Cr=0,Ur=0,Rr="object"===typeof performance&&performance.now?performance:Date,zr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jr(){return Cr||(zr(Pr),Cr=Rr.now()+Ur)}function Pr(){Cr=0}function Vr(){this._call=this._time=this._next=null}function $r(t,e,n){var r=new Vr;return r.restart(t,e,n),r}function Yr(){jr(),++Nr;for(var t,e=kr;e;)(t=Cr-e._time)>=0&&e._call.call(null,t),e=e._next;--Nr}function qr(){Cr=(Lr=Rr.now())+Ur,Nr=Dr=0;try{Yr()}finally{Nr=0,function(){var t,e,n=kr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:kr=e);Or=t,Wr(r)}(),Cr=0}}function Hr(){var t=Rr.now(),e=t-Lr;e>1e3&&(Ur-=e,Lr=t)}function Wr(t){Nr||(Dr&&(Dr=clearTimeout(Dr)),t-Cr>24?(t<1/0&&(Dr=setTimeout(qr,t-Rr.now()-Ur)),Fr&&(Fr=clearInterval(Fr))):(Fr||(Lr=Rr.now(),Fr=setInterval(Hr,1e3)),Nr=1,zr(qr)))}function Gr(t,e,n){var r=new Vr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Vr.prototype=$r.prototype={constructor:Vr,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?jr():+n)+(null==e?0:+e),this._next||Or===this||(Or?Or._next=this:kr=this,Or=this),this._call=t,this._time=n,Wr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wr())}};var Xr=ae("start","end","cancel","interrupt"),Kr=[];function Zr(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,f,h;if(1!==n.state)return u();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return Gr(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Gr((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=$r(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Xr,tween:Kr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Jr(t,e){var n=ti(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Qr(t,e){var n=ti(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ti(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ei(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var ni,ri=180/Math.PI,ii={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oi(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ri,skewX:Math.atan(u)*ri,scaleX:a,scaleY:s}}function ai(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:xr(t,i)},{i:u-2,x:xr(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:xr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:xr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:xr(t,n)},{i:s-2,x:xr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var si=ai((function(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ii:oi(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ui=ai((function(t){return null==t?ii:(ni||(ni=document.createElementNS("http://www.w3.org/2000/svg","g")),ni.setAttribute("transform",t),(t=ni.transform.baseVal.consolidate())?oi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ii)}),", ",")",")");function ci(t,e){var n,r;return function(){var i=Qr(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function li(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Qr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function fi(t,e,n){var r=t._id;return t.each((function(){var t=Qr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ti(t,r).value[e]}}function hi(t,e){var n;return("number"===typeof e?xr:e instanceof qn?dr:(n=qn(e))?(e=n,dr):Tr)(t,e)}function di(t){return function(){this.removeAttribute(t)}}function pi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function gi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function mi(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function bi(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function vi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _i(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function wi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_i(t,i)),n}return i._value=e,i}function xi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&vi(t,i)),n}return i._value=e,i}function Mi(t,e){return function(){Jr(this,t).delay=+e.apply(this,arguments)}}function Si(t,e){return e=+e,function(){Jr(this,t).delay=e}}function Ai(t,e){return function(){Qr(this,t).duration=+e.apply(this,arguments)}}function Ti(t,e){return e=+e,function(){Qr(this,t).duration=e}}function Ii(t,e){if("function"!==typeof e)throw new Error;return function(){Qr(this,t).ease=e}}function Bi(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Jr:Qr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Ei=wn.prototype.constructor;function ki(t){return function(){this.style.removeProperty(t)}}function Oi(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ni(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Oi(t,o,n)),r}return o._value=e,o}function Di(t){return function(e){this.textContent=t.call(this,e)}}function Fi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Di(r)),e}return r._value=t,r}var Li=0;function Ci(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ui(t){return wn().transition(t)}function Ri(){return++Li}var zi=wn.prototype;function ji(t){return t*t*t}function Pi(t){return--t*t*t+1}function Vi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ci.prototype=Ui.prototype={constructor:Ci,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ue(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Zr(f[h],e,n,h,f,ti(s,n)));return new Ci(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=fe(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=ti(u,n),y=0,g=d.length;y<g;++y)(h=d[y])&&Zr(h,e,n,y,d,p);o.push(d),a.push(u)}return new Ci(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=he(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Ci(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Ci(a,this._parents,this._name,this._id)},selection:function(){return new Ei(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ri(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=ti(a,e);Zr(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ci(r,this._parents,t,n)},call:zi.call,nodes:zi.nodes,node:zi.node,size:zi.size,empty:zi.empty,each:zi.each,on:function(t,e){var n=this._id;return arguments.length<2?ti(this.node(),n).on.on(t):this.each(Bi(n,t,e))},attr:function(t,e){var n=Ie(t),r="transform"===n?ui:hi;return this.attrTween(t,"function"===typeof e?(n.local?bi:mi)(n,r,fi(this,"attr."+t,e)):null==e?(n.local?pi:di)(n):(n.local?gi:yi)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Ie(t);return this.tween(n,(r.local?wi:xi)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?si:hi;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Re(this,t),a=(this.style.removeProperty(t),Re(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,ki(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Re(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Re(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,fi(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Qr(this,t),c=u.on,l=null==u.value[a]?o||(o=ki(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Re(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Ni(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(fi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Fi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ti(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ci:li)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Mi:Si)(e,t)):ti(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Ai:Ti)(e,t)):ti(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ii(e,t)):ti(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Qr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=Qr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:zi[Symbol.iterator]};var $i={time:null,delay:0,duration:250,ease:Vi};function Yi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}wn.prototype.interrupt=function(t){return this.each((function(){ei(this,t)}))},wn.prototype.transition=function(t){var e,n;t instanceof Ci?(e=t._id,t=t._name):(e=Ri(),(n=$i).time=jr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Zr(a,t,e,c,s,n||Yi(a,e));return new Ci(r,this._parents,t,e)};var qi=[null];function Hi(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Ci([[t]],qi,e,+r);return null}var Wi=t=>()=>t;function Gi(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Xi(t){t.stopImmediatePropagation()}function Ki(t){t.preventDefault(),t.stopImmediatePropagation()}var Zi={name:"drag"},Ji={name:"space"},Qi={name:"handle"},to={name:"center"};const{abs:eo,max:no,min:ro}=Math;function io(t){return[+t[0],+t[1]]}function oo(t){return[io(t[0]),io(t[1])]}var ao={name:"x",handles:["w","e"].map(yo),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},so={name:"y",handles:["n","s"].map(yo),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},uo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(yo),input:function(t){return null==t?null:oo(t)},output:function(t){return t}},co={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},fo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ho={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},po={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function yo(t){return{type:t}}function go(t){return!t.ctrlKey&&!t.button}function mo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bo(){return navigator.maxTouchPoints||"ontouchstart"in this}function vo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _o(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function wo(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function xo(){return Ao(ao)}function Mo(){return Ao(so)}function So(){return Ao(uo)}function Ao(t){var e,n=mo,r=go,i=bo,o=!0,a=ae("start","brush","end"),s=6;function u(e){var n=e.property("__brush",y).selectAll(".overlay").data([yo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",co.overlay).merge(n).each((function(){var t=vo(this).extent;xn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([yo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",co.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return co[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=xn(this),e=vo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new f(t,e,n):r}function f(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,a,s,u,f,h,d,p,y,g,m,b=this,v=n.target.__data__.type,_="selection"===(o&&n.metaKey?v="overlay":v)?Zi:o&&n.altKey?to:Qi,w=t===so?null:ho[v],x=t===ao?null:po[v],M=vo(b),S=M.extent,A=M.selection,T=S[0][0],I=S[0][1],B=S[1][0],E=S[1][1],k=0,O=0,N=w&&x&&o&&n.shiftKey,D=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=Er(t,b)).point0=t.slice(),t.identifier=e,t}));if("overlay"===v){A&&(y=!0);const e=[D[0],D[1]||D[0]];M.selection=A=[[i=t===so?T:ro(e[0][0],e[1][0]),s=t===ao?I:ro(e[0][1],e[1][1])],[f=t===so?B:no(e[0][0],e[1][0]),d=t===ao?E:no(e[0][1],e[1][1])]],D.length>1&&z()}else i=A[0][0],s=A[0][1],f=A[1][0],d=A[1][1];a=i,u=s,h=f,p=d;var F=xn(b).attr("pointer-events","none"),L=F.selectAll(".overlay").attr("cursor",co[v]);ei(b);var C=l(b,arguments,!0).beforestart();if(n.touches)C.moved=R,C.ended=j;else{var U=xn(n.view).on("mousemove.brush",R,!0).on("mouseup.brush",j,!0);o&&U.on("keydown.brush",P,!0).on("keyup.brush",V,!0),An(n.view)}c.call(b),C.start(n,_.name)}function R(t){for(const e of t.changedTouches||[t])for(const t of D)t.identifier===e.identifier&&(t.cur=Er(e,b));if(N&&!g&&!m&&1===D.length){const t=D[0];eo(t.cur[0]-t[0])>eo(t.cur[1]-t[1])?m=!0:g=!0}for(const e of D)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);y=!0,Ki(t),z(t)}function z(t){const e=D[0],n=e.point0;var r;switch(k=e[0]-n[0],O=e[1]-n[1],_){case Ji:case Zi:w&&(k=no(T-i,ro(B-f,k)),a=i+k,h=f+k),x&&(O=no(I-s,ro(E-d,O)),u=s+O,p=d+O);break;case Qi:D[1]?(w&&(a=no(T,ro(B,D[0][0])),h=no(T,ro(B,D[1][0])),w=1),x&&(u=no(I,ro(E,D[0][1])),p=no(I,ro(E,D[1][1])),x=1)):(w<0?(k=no(T-i,ro(B-i,k)),a=i+k,h=f):w>0&&(k=no(T-f,ro(B-f,k)),a=i,h=f+k),x<0?(O=no(I-s,ro(E-s,O)),u=s+O,p=d):x>0&&(O=no(I-d,ro(E-d,O)),u=s,p=d+O));break;case to:w&&(a=no(T,ro(B,i-k*w)),h=no(T,ro(B,f+k*w))),x&&(u=no(I,ro(E,s-O*x)),p=no(I,ro(E,d+O*x)))}h<a&&(w*=-1,r=i,i=f,f=r,r=a,a=h,h=r,v in lo&&L.attr("cursor",co[v=lo[v]])),p<u&&(x*=-1,r=s,s=d,d=r,r=u,u=p,p=r,v in fo&&L.attr("cursor",co[v=fo[v]])),M.selection&&(A=M.selection),g&&(a=A[0][0],h=A[1][0]),m&&(u=A[0][1],p=A[1][1]),A[0][0]===a&&A[0][1]===u&&A[1][0]===h&&A[1][1]===p||(M.selection=[[a,u],[h,p]],c.call(b),C.brush(t,_.name))}function j(t){if(Xi(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Tn(t.view,y),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);F.attr("pointer-events","all"),L.attr("cursor",co.overlay),M.selection&&(A=M.selection),_o(A)&&(M.selection=null,c.call(b)),C.end(t,_.name)}function P(t){switch(t.keyCode){case 16:N=w&&x;break;case 18:_===Qi&&(w&&(f=h-k*w,i=a+k*w),x&&(d=p-O*x,s=u+O*x),_=to,z());break;case 32:_!==Qi&&_!==to||(w<0?f=h-k:w>0&&(i=a-k),x<0?d=p-O:x>0&&(s=u-O),_=Ji,L.attr("cursor",co.selection),z());break;default:return}Ki(t)}function V(t){switch(t.keyCode){case 16:N&&(g=m=N=!1,z());break;case 18:_===to&&(w<0?f=h:w>0&&(i=a),x<0?d=p:x>0&&(s=u),_=Qi,z());break;case 32:_===Ji&&(t.altKey?(w&&(f=h-k*w,i=a+k*w),x&&(d=p-O*x,s=u+O*x),_=to):(w<0?f=h:w>0&&(i=a),x<0?d=p:x>0&&(s=u),_=Qi),L.attr("cursor",co[v]),z());break;default:return}Ki(t)}}function d(t){l(this,arguments).moved(t)}function p(t){l(this,arguments).ended(t)}function y(){var e=this.__brush||{selection:null};return e.extent=oo(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.tween?e.on("start.brush",(function(t){l(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){l(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,a=t.input("function"===typeof n?n.apply(this,arguments):n,r.extent),s=Ir(o,a);function u(t){r.selection=1===t&&null===a?null:s(t),c.call(e),i.brush()}return null!==o&&null!==a?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"===typeof n?n.apply(e,r):n,i.extent),a=l(e,r).beforestart();ei(e),i.selection=null===o?null:o,c.call(e),a.start().brush().end()}))},u.clear=function(t){u.move(t,null)},f.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0===--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=xn(this.that).datum();a.call(e,this.that,new Gi(e,{sourceEvent:n,target:u,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},u.extent=function(t){return arguments.length?(n="function"===typeof t?t:Wi(oo(t)),u):n},u.filter=function(t){return arguments.length?(r="function"===typeof t?t:Wi(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"===typeof t?t:Wi(!!t),u):i},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}var To=Math.abs,Io=Math.cos,Bo=Math.sin,Eo=Math.PI,ko=Eo/2,Oo=2*Eo,No=Math.max,Do=1e-12;function Fo(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function Lo(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Co(){return zo(!1,!1)}function Uo(){return zo(!1,!0)}function Ro(){return zo(!0,!1)}function zo(t,e){var n=0,r=null,i=null,o=null;function a(a){var s,u=a.length,c=new Array(u),l=Fo(0,u),f=new Array(u*u),h=new Array(u),d=0;a=Float64Array.from({length:u*u},e?(t,e)=>a[e%u][e/u|0]:(t,e)=>a[e/u|0][e%u]);for(let e=0;e<u;++e){let n=0;for(let r=0;r<u;++r)n+=a[e*u+r]+t*a[r*u+e];d+=c[e]=n}s=(d=No(0,Oo-n*u)/d)?n:Oo/u;{let e=0;r&&l.sort(((t,e)=>r(c[t],c[e])));for(const n of l){const r=e;if(t){const t=Fo(1+~u,u).filter((t=>t<0?a[~t*u+n]:a[n*u+t]));i&&t.sort(((t,e)=>i(t<0?-a[~t*u+n]:a[n*u+t],e<0?-a[~e*u+n]:a[n*u+e])));for(const r of t)if(r<0){(f[~r*u+n]||(f[~r*u+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=a[~r*u+n]*d,value:a[~r*u+n]}}else{(f[n*u+r]||(f[n*u+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=a[n*u+r]*d,value:a[n*u+r]}}h[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}else{const t=Fo(0,u).filter((t=>a[n*u+t]||a[t*u+n]));i&&t.sort(((t,e)=>i(a[n*u+t],a[n*u+e])));for(const r of t){let t;if(n<r?(t=f[n*u+r]||(f[n*u+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=a[n*u+r]*d,value:a[n*u+r]}):(t=f[r*u+n]||(f[r*u+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=a[n*u+r]*d,value:a[n*u+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}h[n]={index:n,startAngle:r,endAngle:e,value:c[n]}}e+=s}}return(f=Object.values(f)).groups=h,o?f.sort(o):f}return a.padAngle=function(t){return arguments.length?(n=No(0,t),a):n},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(o=Lo(t))._=t,a):o&&o._},a}const jo=Math.PI,Po=2*jo,Vo=1e-6,$o=Po-Vo;function Yo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qo(){return new Yo}Yo.prototype=qo.prototype={constructor:Yo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Vo)if(Math.abs(l*s-u*c)>Vo&&i){var h=n-o,d=r-a,p=s*s+u*u,y=h*h+d*d,g=Math.sqrt(p),m=Math.sqrt(f),b=i*Math.tan((jo-Math.acos((p+f-y)/(2*g*m)))/2),v=b/m,_=b/g;Math.abs(v-1)>Vo&&(this._+="L"+(t+v*c)+","+(e+v*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Vo||Math.abs(this._y1-c)>Vo)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Po+Po),f>$o?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>Vo&&(this._+="A"+n+","+n+",0,"+ +(f>=jo)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Ho=qo,Wo=Array.prototype.slice;function Go(t){return function(){return t}}function Xo(t){return t.source}function Ko(t){return t.target}function Zo(t){return t.radius}function Jo(t){return t.startAngle}function Qo(t){return t.endAngle}function ta(){return 0}function ea(){return 10}function na(t){var e=Xo,n=Ko,r=Zo,i=Zo,o=Jo,a=Qo,s=ta,u=null;function c(){var c,l=e.apply(this,arguments),f=n.apply(this,arguments),h=s.apply(this,arguments)/2,d=Wo.call(arguments),p=+r.apply(this,(d[0]=l,d)),y=o.apply(this,d)-ko,g=a.apply(this,d)-ko,m=+i.apply(this,(d[0]=f,d)),b=o.apply(this,d)-ko,v=a.apply(this,d)-ko;if(u||(u=c=Ho()),h>Do&&(To(g-y)>2*h+Do?g>y?(y+=h,g-=h):(y-=h,g+=h):y=g=(y+g)/2,To(v-b)>2*h+Do?v>b?(b+=h,v-=h):(b-=h,v+=h):b=v=(b+v)/2),u.moveTo(p*Io(y),p*Bo(y)),u.arc(0,0,p,y,g),y!==b||g!==v)if(t){var _=+t.apply(this,arguments),w=m-_,x=(b+v)/2;u.quadraticCurveTo(0,0,w*Io(b),w*Bo(b)),u.lineTo(m*Io(x),m*Bo(x)),u.lineTo(w*Io(v),w*Bo(v))}else u.quadraticCurveTo(0,0,m*Io(b),m*Bo(b)),u.arc(0,0,m,b,v);if(u.quadraticCurveTo(0,0,p*Io(y),p*Bo(y)),u.closePath(),c)return u=null,c+""||null}return t&&(c.headRadius=function(e){return arguments.length?(t="function"===typeof e?e:Go(+e),c):t}),c.radius=function(t){return arguments.length?(r=i="function"===typeof t?t:Go(+t),c):r},c.sourceRadius=function(t){return arguments.length?(r="function"===typeof t?t:Go(+t),c):r},c.targetRadius=function(t){return arguments.length?(i="function"===typeof t?t:Go(+t),c):i},c.startAngle=function(t){return arguments.length?(o="function"===typeof t?t:Go(+t),c):o},c.endAngle=function(t){return arguments.length?(a="function"===typeof t?t:Go(+t),c):a},c.padAngle=function(t){return arguments.length?(s="function"===typeof t?t:Go(+t),c):s},c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c}function ra(){return na()}function ia(){return na(ea)}const oa=Math.PI/180,aa=180/Math.PI,sa=.96422,ua=.82521,ca=4/29,la=6/29,fa=3*la*la;function ha(t){if(t instanceof ya)return new ya(t.l,t.a,t.b,t.opacity);if(t instanceof Ma)return Sa(t);t instanceof Kn||(t=Gn(t));var e,n,r=va(t.r),i=va(t.g),o=va(t.b),a=ga((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=ga((.4360747*r+.3850649*i+.1430804*o)/sa),n=ga((.0139322*r+.0971045*i+.7141733*o)/ua)),new ya(116*a-16,500*(e-a),200*(a-n),t.opacity)}function da(t,e){return new ya(t,0,0,null==e?1:e)}function pa(t,e,n,r){return 1===arguments.length?ha(t):new ya(t,e,n,null==r?1:r)}function ya(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ga(t){return t>.008856451679035631?Math.pow(t,1/3):t/fa+ca}function ma(t){return t>la?t*t*t:fa*(t-ca)}function ba(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function va(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _a(t){if(t instanceof Ma)return new Ma(t.h,t.c,t.l,t.opacity);if(t instanceof ya||(t=ha(t)),0===t.a&&0===t.b)return new Ma(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*aa;return new Ma(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wa(t,e,n,r){return 1===arguments.length?_a(t):new Ma(n,e,t,null==r?1:r)}function xa(t,e,n,r){return 1===arguments.length?_a(t):new Ma(t,e,n,null==r?1:r)}function Ma(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Sa(t){if(isNaN(t.h))return new ya(t.l,0,0,t.opacity);var e=t.h*oa;return new ya(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}In(ya,pa,Bn(En,{brighter:function(t){return new ya(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ya(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Kn(ba(3.1338561*(e=sa*ma(e))-1.6168667*(t=1*ma(t))-.4906146*(n=ua*ma(n))),ba(-.9787684*e+1.9161415*t+.033454*n),ba(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),In(Ma,xa,Bn(En,{brighter:function(t){return new Ma(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ma(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Sa(this).rgb()}}));var Aa=-.14861,Ta=1.78277,Ia=-.29227,Ba=-.90649,Ea=1.97294,ka=Ea*Ba,Oa=Ea*Ta,Na=Ta*Ia-Ba*Aa;function Da(t){if(t instanceof La)return new La(t.h,t.s,t.l,t.opacity);t instanceof Kn||(t=Gn(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Na*r+ka*e-Oa*n)/(Na+ka-Oa),o=r-i,a=(Ea*(n-i)-Ia*o)/Ba,s=Math.sqrt(a*a+o*o)/(Ea*i*(1-i)),u=s?Math.atan2(a,o)*aa-120:NaN;return new La(u<0?u+360:u,s,i,t.opacity)}function Fa(t,e,n,r){return 1===arguments.length?Da(t):new La(t,e,n,null==r?1:r)}function La(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}In(La,Fa,Bn(En,{brighter:function(t){return t=null==t?On:Math.pow(On,t),new La(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?kn:Math.pow(kn,t),new La(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*oa,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Kn(255*(e+n*(Aa*r+Ta*i)),255*(e+n*(Ia*r+Ba*i)),255*(e+n*(Ea*r)),this.opacity)}}));var Ca=Array.prototype.slice;function Ua(t,e){return t-e}var Ra=t=>()=>t;function za(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=ja(t,e[r]))return n;return 0}function ja(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],f=t[s],h=f[0],d=f[1];if(Pa(u,f,e))return 0;l>r!==d>r&&n<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function Pa(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function Va(){}var $a=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ya(){var t=1,e=1,n=Q,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Ua);else{var r=w(t),i=r[0],a=r[1];e=Z(i,a,e),e=gt(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,c,l,f,h=new Array,d=new Array;o=s=-1,c=n[0]>=r,$a[c<<1].forEach(p);for(;++o<t-1;)u=c,c=n[o+1]>=r,$a[u|c<<1].forEach(p);$a[c<<0].forEach(p);for(;++s<e-1;){for(o=-1,c=n[s*t+t]>=r,l=n[s*t]>=r,$a[c<<1|l<<2].forEach(p);++o<t-1;)u=c,c=n[s*t+t+o+1]>=r,f=l,l=n[s*t+o+1]>=r,$a[u|c<<1|l<<2|f<<3].forEach(p);$a[c|l<<3].forEach(p)}o=-1,l=n[s*t]>=r,$a[l<<2].forEach(p);for(;++o<t-1;)f=l,l=n[s*t+o+1]>=r,$a[l<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],c=a(r),l=a(u);(e=d[c])?(n=h[l])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(u),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=l]=e):(e=h[l])?(n=d[c])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(u),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=c]=e):h[c]=d[l]={start:c,end:l,ring:[r,u]}}$a[l<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==za((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,c=0|s,l=r[c*t+u];a>0&&a<t&&u===a&&(o=r[c*t+u-1],n[0]=a+(i-o)/(l-o)-.5),s>0&&s<e&&c===s&&(o=r[(c-1)*t+u],n[1]=s+(i-o)/(l-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?Ra(Ca.call(t)):Ra(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Va,i):r===s},i}function qa(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+a*r]),s>=n&&(s>=o&&(u-=t.data[s-o+a*r]),e.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function Ha(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[a+s*r]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function Wa(t){return t[0]}function Ga(t){return t[1]}function Xa(){return 1}function Ka(){var t=Wa,e=Ga,n=Xa,r=960,i=500,o=20,a=2,s=3*o,u=r+2*s>>a,c=i+2*s>>a,l=Ra(20);function f(r){var i=new Float32Array(u*c),f=new Float32Array(u*c);r.forEach((function(r,o,l){var f=+t(r,o,l)+s>>a,h=+e(r,o,l)+s>>a,d=+n(r,o,l);f>=0&&f<u&&h>=0&&h<c&&(i[f+h*u]+=d)})),qa({width:u,height:c,data:i},{width:u,height:c,data:f},o>>a),Ha({width:u,height:c,data:f},{width:u,height:c,data:i},o>>a),qa({width:u,height:c,data:i},{width:u,height:c,data:f},o>>a),Ha({width:u,height:c,data:f},{width:u,height:c,data:i},o>>a),qa({width:u,height:c,data:i},{width:u,height:c,data:f},o>>a),Ha({width:u,height:c,data:f},{width:u,height:c,data:i},o>>a);var d=l(i);if(!Array.isArray(d)){var p=et(i);d=Z(0,p,d),(d=gt(0,Math.floor(p/d)*d,d)).shift()}return Ya().thresholds(d).size([u,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(y)}function y(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function g(){return u=r+2*(s=3*o)>>a,c=i+2*s>>a,f}return f.x=function(e){return arguments.length?(t="function"===typeof e?e:Ra(+e),f):t},f.y=function(t){return arguments.length?(e="function"===typeof t?t:Ra(+t),f):e},f.weight=function(t){return arguments.length?(n="function"===typeof t?t:Ra(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,g()},f.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),g()},f.thresholds=function(t){return arguments.length?(l="function"===typeof t?t:Array.isArray(t)?Ra(Ca.call(t)):Ra(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},f}const Za=Math.pow(2,-52),Ja=new Uint32Array(512);class Qa{static from(t,e=ss,n=us){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Qa(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,u=-1/0,c=-1/0;for(let A=0;A<o;A++){const e=t[2*A],n=t[2*A+1];e<a&&(a=e),n<s&&(s=n),e>u&&(u=e),n>c&&(c=n),this._ids[A]=A}const l=(a+u)/2,f=(s+c)/2;let h,d,p,y=1/0;for(let A=0;A<o;A++){const e=ts(l,f,t[2*A],t[2*A+1]);e<y&&(h=A,y=e)}const g=t[2*h],m=t[2*h+1];y=1/0;for(let A=0;A<o;A++){if(A===h)continue;const e=ts(g,m,t[2*A],t[2*A+1]);e<y&&e>0&&(d=A,y=e)}let b=t[2*d],v=t[2*d+1],_=1/0;for(let A=0;A<o;A++){if(A===h||A===d)continue;const e=is(g,m,b,v,t[2*A],t[2*A+1]);e<_&&(p=A,_=e)}let w=t[2*p],x=t[2*p+1];if(_===1/0){for(let r=0;r<o;r++)this._dists[r]=t[2*r]-t[0]||t[2*r+1]-t[1];os(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(ns(g,m,b,v,w,x)){const t=d,e=b,n=v;d=p,b=w,v=x,p=t,w=e,x=n}const M=function(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,c=o-e,l=a*a+s*s,f=u*u+c*c,h=.5/(a*c-s*u);return{x:t+(c*l-s*f)*h,y:e+(a*f-u*l)*h}}(g,m,b,v,w,x);this._cx=M.x,this._cy=M.y;for(let A=0;A<o;A++)this._dists[A]=ts(t[2*A],t[2*A+1],M.x,M.y);os(this._ids,this._dists,0,o-1),this._hullStart=h;let S=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,m)]=h,i[this._hashKey(b,v)]=d,i[this._hashKey(w,x)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let A,T,I=0;I<this._ids.length;I++){const o=this._ids[I],a=t[2*o],s=t[2*o+1];if(I>0&&Math.abs(a-A)<=Za&&Math.abs(s-T)<=Za)continue;if(A=a,T=s,o===h||o===d||o===p)continue;let u=0;for(let t=0,e=this._hashKey(a,s);t<this._hashSize&&(u=i[(e+t)%this._hashSize],-1===u||u===n[u]);t++);u=e[u];let c,l=u;for(;c=n[l],!ns(a,s,t[2*l],t[2*l+1],t[2*c],t[2*c+1]);)if(l=c,l===u){l=-1;break}if(-1===l)continue;let f=this._addTriangle(l,o,n[l],-1,-1,r[l]);r[o]=this._legalize(f+2),r[l]=f,S++;let y=n[l];for(;c=n[y],ns(a,s,t[2*y],t[2*y+1],t[2*c],t[2*c+1]);)f=this._addTriangle(y,o,c,r[o],-1,r[y]),r[o]=this._legalize(f+2),n[y]=y,S--,y=c;if(l===u)for(;c=e[l],ns(a,s,t[2*c],t[2*c+1],t[2*l],t[2*l+1]);)f=this._addTriangle(c,o,l,-1,r[l],r[c]),this._legalize(f+2),r[c]=f,n[l]=l,S--,l=c;this._hullStart=e[o]=l,n[l]=e[y]=o,n[o]=y,i[this._hashKey(a,s)]=o,i[this._hashKey(t[2*l],t[2*l+1])]=l}this.hull=new Uint32Array(S);for(let A=0,T=this._hullStart;A<S;A++)this.hull[A]=T,T=n[T];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=Ja[--i];continue}const u=a-a%3,c=s+(t+1)%3,l=u+(a+2)%3,f=e[o],h=e[t],d=e[c],p=e[l];if(rs(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;const r=n[l];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,l);const s=u+(a+1)%3;i<Ja.length&&(Ja[i++]=s)}else{if(0===i)break;t=Ja[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function ts(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function es(t,e,n,r,i,o){const a=(r-e)*(i-t),s=(n-t)*(o-e);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function ns(t,e,n,r,i,o){return(es(i,o,t,e,n,r)||es(t,e,n,r,i,o)||es(n,r,i,o,t,e))<0}function rs(t,e,n,r,i,o,a,s){const u=t-a,c=e-s,l=n-a,f=r-s,h=i-a,d=o-s,p=l*l+f*f,y=h*h+d*d;return u*(f*y-p*d)-c*(l*y-p*h)+(u*u+c*c)*(l*d-f*h)<0}function is(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,c=o-e,l=a*a+s*s,f=u*u+c*c,h=.5/(a*c-s*u),d=(c*l-s*f)*h,p=(a*f-u*l)*h;return d*d+p*p}function os(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;as(t,n+r>>1,i),e[t[n]]>e[t[r]]&&as(t,n,r),e[t[i]]>e[t[r]]&&as(t,i,r),e[t[n]]>e[t[i]]&&as(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;as(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(os(t,e,i,r),os(t,e,n,o-1)):(os(t,e,n,o-1),os(t,e,i,r))}}function as(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ss(t){return t[0]}function us(t){return t[1]}const cs=1e-6;class ls{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>cs||Math.abs(this._y1-i)>cs)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class fs{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class hs{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let h,d,p=0,y=0,g=n.length;p<g;p+=3,y+=2){const e=2*n[p],r=2*n[p+1],o=2*n[p+2],a=t[e],s=t[e+1],u=t[r],c=t[r+1],l=t[o],f=t[o+1],g=u-a,m=c-s,b=l-a,v=f-s,_=g*g+m*m,w=b*b+v*v,x=2*(g*v-m*b);if(x)if(Math.abs(x)<1e-8)h=(a+l)/2,d=(s+f)/2;else{const t=1/x;h=a+(v*_-m*w)*t,d=s+(g*w-b*_)*t}else h=(a+l)/2-1e8*v,d=(s+f)/2+1e8*b;i[y]=h,i[y+1]=d}let o,a,s,u=e[e.length-1],c=4*u,l=t[2*u],f=t[2*u+1];r.fill(0);for(let h=0;h<e.length;++h)u=e[h],o=c,a=l,s=f,c=4*u,l=t[2*u],f=t[2*u+1],r[o+2]=r[c]=s-f,r[o+3]=r[c+1]=l-a}render(t){const e=null==t?t=new ls:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let c=0,l=n.length;c<l;++c){const e=n[c];if(e<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(e/3),a=o[r],s=o[r+1],u=o[i],l=o[i+1];this._renderSegment(a,s,u,l,t)}let s,u=i[i.length-1];for(let c=0;c<i.length;++c){s=u,u=i[c];const e=2*Math.floor(r[u]/3),n=o[e],l=o[e+1],f=4*s,h=this._project(n,l,a[f+2],a[f+3]);h&&this._renderSegment(n,l,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new ls:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new ls:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new fs;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)===e&&(n=+n)===n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3===2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,s,u=null,c=e[n-2],l=e[n-1],f=this._regioncode(c,l);for(let h=0;h<n;h+=2)if(r=c,i=l,c=e[h],l=e[h+1],o=f,f=this._regioncode(c,l),0===o&&0===f)a=s,s=0,u?u.push(c,l):u=[c,l];else{let e,n,h,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,c,l,o,f)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(c,l,r,i,f,o)))continue;[d,p,n,h]=e,a=s,s=this._edgecode(n,h),a&&s&&this._edge(t,a,s,u,u.length),u?u.push(n,h):u=[n,h]}a=s,s=this._edgecode(d,p),a&&s&&this._edge(t,a,s,u,u.length),u?u.push(d,p):u=[d,p]}if(u)a=s,s=this._edgecode(u[0],u[1]),a&&s&&this._edge(t,a,s,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,s,u=i||o;8&u?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&u?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&u?(s=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let u,c=0,l=s.length,f=this._edgecode(s[l-2],s[l-1]);c<l;c+=2)u=f,f=this._edgecode(s[c],s[c+1]),u&&f&&(c=this._edge(t,u,f,s,c),l=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const t=(o+2)%r.length,e=(o+4)%r.length;(r[o]===r[t]&&r[t]===r[e]||r[o+1]===r[t+1]&&r[t+1]===r[e+1])&&(r.splice(t,2),o-=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const ds=2*Math.PI,ps=Math.pow;function ys(t){return t[0]}function gs(t){return t[1]}function ms(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class bs{static from(t,e=ys,n=gs,r){return new bs("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Qa(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const t=2*e[r],i=2*e[r+1],o=2*e[r+2];if((n[o]-n[t])*(n[i+1]-n[t+1])-(n[i]-n[t])*(n[o+1]-n[t+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let o=0,a=e.length/2;o<a;++o){const t=ms(e[2*o],e[2*o+1],i);e[2*o]=t[0],e[2*o+1]=t[1]}this._delaunator=new Qa(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let s=0,u=n.length;s<u;++s){const t=i[s%3===2?s-2:s+1];-1!==n[s]&&-1!==o[t]||(o[t]=s)}for(let s=0,u=r.length;s<u;++s)a[r[s]]=s;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new hs(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let u=s,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=i[u],-1===u){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(u!==s)}find(t,e,n=0){if((t=+t)!==t||(e=+e)!==e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let c=t,l=ps(e-u[2*t],2)+ps(n-u[2*t+1],2);const f=r[t];let h=f;do{let r=s[h];const f=ps(e-u[2*r],2)+ps(n-u[2*r+1],2);if(f<l&&(l=f,c=r),h=h%3===2?h-2:h+1,s[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&ps(e-u[2*h],2)+ps(n-u[2*h+1],2)<l)return h;break}}while(h!==f);return c}render(t){const e=null==t?t=new ls:void 0,{points:n,halfedges:r,triangles:i}=this;for(let o=0,a=r.length;o<a;++o){const e=r[o];if(e<o)continue;const a=2*i[o],s=2*i[e];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new ls:void 0,{points:r}=this;for(let i=0,o=r.length;i<o;i+=2){const n=r[i],o=r[i+1];t.moveTo(n+e,o),t.arc(n,o,e,0,ds)}return n&&n.value()}renderHull(t){const e=null==t?t=new ls:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let a=1;a<o;++a){const e=2*n[a];t.lineTo(r[e],r[e+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new fs;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new ls:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new fs;return this.renderTriangle(t,e),e.value()}}var vs=t=>()=>t;function _s(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function ws(t){return!t.ctrlKey&&!t.button}function xs(){return this.parentNode}function Ms(t,e){return null==e?{x:t.x,y:t.y}:e}function Ss(){return navigator.maxTouchPoints||"ontouchstart"in this}function As(){var t,e,n,r,i=ws,o=xs,a=Ms,s=Ss,u={},c=ae("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,s){if(!r&&i.call(this,a,s)){var u=v(this,o.call(this,a,s),a,s,"mouse");u&&(xn(a.view).on("mousemove.drag",p,!0).on("mouseup.drag",y,!0),An(a.view),Mn(a),n=!1,t=a.clientX,e=a.clientY,u("start",a))}}function p(r){if(Sn(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>f}u.mouse("drag",r)}function y(t){xn(t.view).on("mousemove.drag mouseup.drag",null),Tn(t.view,n),Sn(t),u.mouse("end",t)}function g(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),u=a.length;for(n=0;n<u;++n)(r=v(this,s,t,e,a[n].identifier,a[n]))&&(Mn(t),r("start",t,a[n]))}}function m(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=u[r[e].identifier])&&(Sn(t),n("drag",t,r[e]))}function b(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=u[i[e].identifier])&&(Mn(t),n("end",t,i[e]))}function v(t,e,n,r,i,o){var s,f,d,p=c.copy(),y=Er(o||n,e);if(null!=(d=a.call(t,new _s("beforestart",{sourceEvent:n,target:h,identifier:i,active:l,x:y[0],y:y[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-y[0]||0,f=d.y-y[1]||0,function n(o,a,c){var g,m=y;switch(o){case"start":u[i]=n,g=l++;break;case"end":delete u[i],--l;case"drag":y=Er(c||a,e),g=l}p.call(o,t,new _s(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:g,x:y[0]+s,y:y[1]+f,dx:y[0]-m[0],dy:y[1]-m[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"===typeof t?t:vs(!!t),h):i},h.container=function(t){return arguments.length?(o="function"===typeof t?t:vs(t),h):o},h.subject=function(t){return arguments.length?(a="function"===typeof t?t:vs(t),h):a},h.touchable=function(t){return arguments.length?(s="function"===typeof t?t:vs(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}_s.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ts={},Is={};function Bs(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Es(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ks(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Os(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+ks(-t,6):t>9999?"+"+ks(t,6):ks(t,4)}(t.getUTCFullYear())+"-"+ks(t.getUTCMonth()+1,2)+"-"+ks(t.getUTCDate(),2)+(i?"T"+ks(e,2)+":"+ks(n,2)+":"+ks(r,2)+"."+ks(i,3)+"Z":r?"T"+ks(e,2)+":"+ks(n,2)+":"+ks(r,2)+"Z":n||e?"T"+ks(e,2)+":"+ks(n,2)+"Z":"")}function Ns(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return Is;if(c)return c=!1,Ts;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==Is;){for(var f=[];r!==Ts&&r!==Is;)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Os(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Bs(t);return function(r,i){return e(n(r),i,t)}}(t,e):Bs(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Es(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Es(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Ds=Ns(","),Fs=Ds.parse,Ls=Ds.parseRows,Cs=Ds.format,Us=Ds.formatBody,Rs=Ds.formatRows,zs=Ds.formatRow,js=Ds.formatValue,Ps=Ns("\t"),Vs=Ps.parse,$s=Ps.parseRows,Ys=Ps.format,qs=Ps.formatBody,Hs=Ps.formatRows,Ws=Ps.formatRow,Gs=Ps.formatValue;function Xs(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ks&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const Ks=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Zs=t=>+t;function Js(t){return t*t}function Qs(t){return t*(2-t)}function tu(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var eu=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),nu=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),ru=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),iu=Math.PI,ou=iu/2;function au(t){return 1===+t?1:1-Math.cos(t*ou)}function su(t){return Math.sin(t*ou)}function uu(t){return(1-Math.cos(iu*t))/2}function cu(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function lu(t){return cu(1-+t)}function fu(t){return 1-cu(t)}function hu(t){return((t*=2)<=1?cu(1-t):2-cu(t-1))/2}function du(t){return 1-Math.sqrt(1-t*t)}function pu(t){return Math.sqrt(1- --t*t)}function yu(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var gu=4/11,mu=7.5625;function bu(t){return 1-vu(1-t)}function vu(t){return(t=+t)<gu?mu*t*t:t<.7272727272727273?mu*(t-=.5454545454545454)*t+.75:t<.9090909090909091?mu*(t-=.8181818181818182)*t+.9375:mu*(t-=.9545454545454546)*t+.984375}function _u(t){return((t*=2)<=1?1-vu(1-t):vu(t-1)+1)/2}var wu=1.70158,xu=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(wu),Mu=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(wu),Su=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(wu),Au=2*Math.PI,Tu=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Au);function i(t){return e*cu(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Au)},i.period=function(n){return t(e,n)},i}(1,.3),Iu=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Au);function i(t){return 1-e*cu(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Au)},i.period=function(n){return t(e,n)},i}(1,.3),Bu=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Au);function i(t){return((t=2*t-1)<0?e*cu(-t)*Math.sin((r-t)/n):2-e*cu(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Au)},i.period=function(n){return t(e,n)},i}(1,.3);function Eu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ku(t,e){return fetch(t,e).then(Eu)}function Ou(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Nu(t,e){return fetch(t,e).then(Ou)}function Du(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Fu(t,e){return fetch(t,e).then(Du)}function Lu(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),Fu(e,n).then((function(e){return t(e,r)}))}}function Cu(t,e,n,r){3===arguments.length&&"function"===typeof n&&(r=n,n=void 0);var i=Ns(t);return Fu(e,n).then((function(t){return i.parse(t,r)}))}var Uu=Lu(Fs),Ru=Lu(Vs);function zu(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function ju(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Pu(t,e){return fetch(t,e).then(ju)}function Vu(t){return(e,n)=>Fu(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}var $u=Vu("application/xml"),Yu=Vu("text/html"),qu=Vu("image/svg+xml");function Hu(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Wu(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,h,d=t._root,p={data:r},y=t._x0,g=t._y0,m=t._x1,b=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(y+m)/2))?y=o:m=o,(l=n>=(a=(g+b)/2))?g=a:b=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(y+m)/2))?y=o:m=o,(l=n>=(a=(g+b)/2))?g=a:b=a}while((f=l<<1|c)===(h=(u>=a)<<1|s>=o));return i[h]=d,i[f]=p,t}function Gu(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Xu(t){return t[0]}function Ku(t){return t[1]}function Zu(t,e,n){var r=new Ju(null==e?Xu:e,null==n?Ku:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ju(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Qu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var tc=Zu.prototype=Ju.prototype;function ec(t){return function(){return t}}function nc(t){return 1e-6*(t()-.5)}function rc(t){return t.x+t.vx}function ic(t){return t.y+t.vy}function oc(t){var e,n,r,i=1,o=1;function a(){for(var t,a,u,c,l,f,h,d=e.length,p=0;p<o;++p)for(a=Zu(e,rc,ic).visitAfter(s),t=0;t<d;++t)u=e[t],f=n[u.index],h=f*f,c=u.x+u.vx,l=u.y+u.vy,a.visit(y);function y(t,e,n,o,a){var s=t.data,d=t.r,p=f+d;if(!s)return e>c+p||o<c-p||n>l+p||a<l-p;if(s.index>u.index){var y=c-s.x-s.vx,g=l-s.y-s.vy,m=y*y+g*g;m<p*p&&(0===y&&(m+=(y=nc(r))*y),0===g&&(m+=(g=nc(r))*g),m=(p-(m=Math.sqrt(m)))/m*i,u.vx+=(y*=m)*(p=(d*=d)/(h+d)),u.vy+=(g*=m)*p,s.vx-=y*(p=1-p),s.vy-=g*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=ec(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,u()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:ec(+e),u(),a):t},a}function ac(t){return t.index}function sc(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function uc(t){var e,n,r,i,o,a,s=ac,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=ec(30),l=1;function f(r){for(var i=0,s=t.length;i<l;++i)for(var u,c,f,h,d,p,y,g=0;g<s;++g)c=(u=t[g]).source,h=(f=u.target).x+f.vx-c.x-c.vx||nc(a),d=f.y+f.vy-c.y-c.vy||nc(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[g])/p*r*e[g],d*=p,f.vx-=h*(y=o[g]),f.vy-=d*y,c.vx+=h*(y=1-y),c.vy+=d*y}function h(){if(r){var a,u,c=r.length,l=t.length,f=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(c);a<l;++a)(u=t[a]).index=a,"object"!==typeof u.source&&(u.source=sc(f,u.source)),"object"!==typeof u.target&&(u.target=sc(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),d(),n=new Array(l),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(u="function"===typeof t?t:ec(+t),d(),f):u},f.distance=function(t){return arguments.length?(c="function"===typeof t?t:ec(+t),p(),f):c},f}tc.copy=function(){var t,e,n=new Ju(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Qu(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Qu(e));return n},tc.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Wu(this.cover(e,n),e,n,t)},tc.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)Wu(this,a[n],s[n],t[n]);return this},tc.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},tc.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},tc.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},tc.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],y=this._root;for(y&&p.push(new Gu(y,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(y=u.node)||(i=u.x0)>h||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<f))if(y.length){var g=(i+a)/2,m=(o+s)/2;p.push(new Gu(y[3],g,m,a,s),new Gu(y[2],i,m,g,s),new Gu(y[1],g,o,a,m),new Gu(y[0],i,o,g,m)),(c=(e>=m)<<1|t>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var b=t-+this._x.call(null,y.data),v=e-+this._y.call(null,y.data),_=b*b+v*v;if(_<n){var w=Math.sqrt(n=_);l=t-w,f=e-w,h=t+w,d=e+w,r=y.data}}return r},tc.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,h,d=this._root,p=this._x0,y=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(y+m)/2))?y=u:m=u,e=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},tc.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},tc.root=function(){return this._root},tc.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},tc.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Gu(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new Gu(n,c,l,o,a)),(n=u[2])&&s.push(new Gu(n,r,l,c,a)),(n=u[1])&&s.push(new Gu(n,c,i,o,l)),(n=u[0])&&s.push(new Gu(n,r,i,c,l))}return this},tc.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Gu(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new Gu(o,a,s,l,f)),(o=i[1])&&n.push(new Gu(o,l,s,u,f)),(o=i[2])&&n.push(new Gu(o,a,f,l,c)),(o=i[3])&&n.push(new Gu(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},tc.x=function(t){return arguments.length?(this._x=t,this):this._x},tc.y=function(t){return arguments.length?(this._y=t,this):this._y};const cc=4294967296;function lc(t){return t.x}function fc(t){return t.y}var hc=Math.PI*(3-Math.sqrt(5));function dc(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=$r(f),c=ae("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%cc)/cc}();function f(){h(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function h(r){var u,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*hc;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(l=t,s.forEach(p),e):l},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function pc(){var t,e,n,r,i,o=ec(-30),a=1,s=1/0,u=.81;function c(n){var i,o=t.length,a=Zu(t,lc,fc).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,o,c,l){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=l-o,p=f*f+h*h;if(d*d/u<p)return p<s&&(0===f&&(p+=(f=nc(n))*f),0===h&&(p+=(h=nc(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===f&&(p+=(f=nc(n))*f),0===h&&(p+=(h=nc(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,l()},c.strength=function(t){return arguments.length?(o="function"===typeof t?t:ec(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}function yc(t,e,n){var r,i,o,a=ec(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-e||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),h=(o[a]-f)*i[a]*t/f;u.vx+=c*h,u.vy+=l*h}}function u(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!==typeof t&&(t=ec(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(a="function"===typeof t?t:ec(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:ec(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function gc(t){var e,n,r,i=ec(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=ec(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:ec(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:ec(+e),a(),o):t},o}function mc(t){var e,n,r,i=ec(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=ec(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:ec(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:ec(+e),a(),o):t},o}function bc(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vc(t){return(t=bc(Math.abs(t)))?t[1]:NaN}var _c,wc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xc(t){if(!(e=wc.exec(t)))throw new Error("invalid format: "+t);var e;return new Mc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Mc(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Sc(t,e){var n=bc(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}xc.prototype=Mc.prototype,Mc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ac={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Sc(100*t,e),r:Sc,s:function(t,e){var n=bc(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(_c=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bc(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Tc(t){return t}var Ic,Bc,Ec,kc=Array.prototype.map,Oc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Nc(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Tc:(e=kc.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Tc:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(kc.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=xc(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,y=t.comma,g=t.precision,m=t.trim,b=t.type;"n"===b?(y=!0,b="g"):Ac[b]||(void 0===g&&(g=12),m=!0,b="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===h?o:/[%p]/.test(b)?u:"",w=Ac[b],x=/[defgprs%]/.test(b);function M(t){var i,o,u,h=v,M=_;if("c"===b)M=w(t)+M,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===b?Oc[8+_c/3]:"")+M+(S&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){M=(46===u?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}y&&!d&&(t=r(t,1/0));var A=h.length+t.length+M.length,T=A<p?new Array(p-A+1).join(e):"";switch(y&&d&&(t=r(T+t,T.length?p-M.length:1/0),T=""),n){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,A=T.length>>1)+h+t+M+T.slice(A);break;default:t=T+h+t+M}return s(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=xc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vc(e)/3))),i=Math.pow(10,-r),o=Oc[8+r/3];return function(t){return n(i*t)+o}}}}function Dc(t){return Ic=Nc(t),Bc=Ic.format,Ec=Ic.formatPrefix,Ic}function Fc(t){return Math.max(0,-vc(Math.abs(t)))}function Lc(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vc(e)/3)))-vc(Math.abs(t)))}function Cc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vc(e)-vc(t))+1}Dc({thousands:",",grouping:[3],currency:["$",""]});var Uc=1e-6,Rc=1e-12,zc=Math.PI,jc=zc/2,Pc=zc/4,Vc=2*zc,$c=180/zc,Yc=zc/180,qc=Math.abs,Hc=Math.atan,Wc=Math.atan2,Gc=Math.cos,Xc=Math.ceil,Kc=Math.exp,Zc=(Math.floor,Math.hypot),Jc=Math.log,Qc=Math.pow,tl=Math.sin,el=Math.sign||function(t){return t>0?1:t<0?-1:0},nl=Math.sqrt,rl=Math.tan;function il(t){return t>1?0:t<-1?zc:Math.acos(t)}function ol(t){return t>1?jc:t<-1?-jc:Math.asin(t)}function al(t){return(t=tl(t/2))*t}function sl(){}function ul(t,e){t&&ll.hasOwnProperty(t.type)&&ll[t.type](t,e)}var cl={Feature:function(t,e){ul(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ul(n[r].geometry,e)}},ll={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fl(n[r],e,0)},Polygon:function(t,e){hl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)hl(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ul(n[r],e)}};function fl(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function hl(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fl(t[n],e,1);e.polygonEnd()}function dl(t,e){t&&cl.hasOwnProperty(t.type)?cl[t.type](t,e):ul(t,e)}var pl,yl,gl,ml,bl,vl,_l,wl,xl,Ml,Sl,Al,Tl,Il,Bl,El,kl=new x,Ol=new x,Nl={point:sl,lineStart:sl,lineEnd:sl,polygonStart:function(){kl=new x,Nl.lineStart=Dl,Nl.lineEnd=Fl},polygonEnd:function(){var t=+kl;Ol.add(t<0?Vc+t:t),this.lineStart=this.lineEnd=this.point=sl},sphere:function(){Ol.add(Vc)}};function Dl(){Nl.point=Ll}function Fl(){Cl(pl,yl)}function Ll(t,e){Nl.point=Cl,pl=t,yl=e,gl=t*=Yc,ml=Gc(e=(e*=Yc)/2+Pc),bl=tl(e)}function Cl(t,e){var n=(t*=Yc)-gl,r=n>=0?1:-1,i=r*n,o=Gc(e=(e*=Yc)/2+Pc),a=tl(e),s=bl*a,u=ml*o+s*Gc(i),c=s*r*tl(i);kl.add(Wc(c,u)),gl=t,ml=o,bl=a}function Ul(t){return Ol=new x,dl(t,Nl),2*Ol}function Rl(t){return[Wc(t[1],t[0]),ol(t[2])]}function zl(t){var e=t[0],n=t[1],r=Gc(n);return[r*Gc(e),r*tl(e),tl(n)]}function jl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Vl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $l(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Yl(t){var e=nl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ql,Hl,Wl,Gl,Xl,Kl,Zl,Jl,Ql,tf,ef,nf,rf,of,af,sf,uf={point:cf,lineStart:ff,lineEnd:hf,polygonStart:function(){uf.point=df,uf.lineStart=pf,uf.lineEnd=yf,Il=new x,Nl.polygonStart()},polygonEnd:function(){Nl.polygonEnd(),uf.point=cf,uf.lineStart=ff,uf.lineEnd=hf,kl<0?(vl=-(wl=180),_l=-(xl=90)):Il>Uc?xl=90:Il<-1e-6&&(_l=-90),El[0]=vl,El[1]=wl},sphere:function(){vl=-(wl=180),_l=-(xl=90)}};function cf(t,e){Bl.push(El=[vl=t,wl=t]),e<_l&&(_l=e),e>xl&&(xl=e)}function lf(t,e){var n=zl([t*Yc,e*Yc]);if(Tl){var r=Pl(Tl,n),i=Pl([r[1],-r[0],0],r);Yl(i),i=Rl(i);var o,a=t-Ml,s=a>0?1:-1,u=i[0]*$c*s,c=qc(a)>180;c^(s*Ml<u&&u<s*t)?(o=i[1]*$c)>xl&&(xl=o):c^(s*Ml<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*$c)<_l&&(_l=o):(e<_l&&(_l=e),e>xl&&(xl=e)),c?t<Ml?gf(vl,t)>gf(vl,wl)&&(wl=t):gf(t,wl)>gf(vl,wl)&&(vl=t):wl>=vl?(t<vl&&(vl=t),t>wl&&(wl=t)):t>Ml?gf(vl,t)>gf(vl,wl)&&(wl=t):gf(t,wl)>gf(vl,wl)&&(vl=t)}else Bl.push(El=[vl=t,wl=t]);e<_l&&(_l=e),e>xl&&(xl=e),Tl=n,Ml=t}function ff(){uf.point=lf}function hf(){El[0]=vl,El[1]=wl,uf.point=cf,Tl=null}function df(t,e){if(Tl){var n=t-Ml;Il.add(qc(n)>180?n+(n>0?360:-360):n)}else Sl=t,Al=e;Nl.point(t,e),lf(t,e)}function pf(){Nl.lineStart()}function yf(){df(Sl,Al),Nl.lineEnd(),qc(Il)>Uc&&(vl=-(wl=180)),El[0]=vl,El[1]=wl,Tl=null}function gf(t,e){return(e-=t)<0?e+360:e}function mf(t,e){return t[0]-e[0]}function bf(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function vf(t){var e,n,r,i,o,a,s;if(xl=wl=-(vl=_l=1/0),Bl=[],dl(t,uf),n=Bl.length){for(Bl.sort(mf),e=1,o=[r=Bl[0]];e<n;++e)bf(r,(i=Bl[e])[0])||bf(r,i[1])?(gf(r[0],i[1])>gf(r[0],r[1])&&(r[1]=i[1]),gf(i[0],r[1])>gf(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=gf(r[1],i[0]))>a&&(a=s,vl=i[0],wl=r[1])}return Bl=El=null,vl===1/0||_l===1/0?[[NaN,NaN],[NaN,NaN]]:[[vl,_l],[wl,xl]]}var _f={sphere:sl,point:wf,lineStart:Mf,lineEnd:Tf,polygonStart:function(){_f.lineStart=If,_f.lineEnd=Bf},polygonEnd:function(){_f.lineStart=Mf,_f.lineEnd=Tf}};function wf(t,e){t*=Yc;var n=Gc(e*=Yc);xf(n*Gc(t),n*tl(t),tl(e))}function xf(t,e,n){++ql,Wl+=(t-Wl)/ql,Gl+=(e-Gl)/ql,Xl+=(n-Xl)/ql}function Mf(){_f.point=Sf}function Sf(t,e){t*=Yc;var n=Gc(e*=Yc);of=n*Gc(t),af=n*tl(t),sf=tl(e),_f.point=Af,xf(of,af,sf)}function Af(t,e){t*=Yc;var n=Gc(e*=Yc),r=n*Gc(t),i=n*tl(t),o=tl(e),a=Wc(nl((a=af*o-sf*i)*a+(a=sf*r-of*o)*a+(a=of*i-af*r)*a),of*r+af*i+sf*o);Hl+=a,Kl+=a*(of+(of=r)),Zl+=a*(af+(af=i)),Jl+=a*(sf+(sf=o)),xf(of,af,sf)}function Tf(){_f.point=wf}function If(){_f.point=Ef}function Bf(){kf(nf,rf),_f.point=wf}function Ef(t,e){nf=t,rf=e,t*=Yc,e*=Yc,_f.point=kf;var n=Gc(e);of=n*Gc(t),af=n*tl(t),sf=tl(e),xf(of,af,sf)}function kf(t,e){t*=Yc;var n=Gc(e*=Yc),r=n*Gc(t),i=n*tl(t),o=tl(e),a=af*o-sf*i,s=sf*r-of*o,u=of*i-af*r,c=Zc(a,s,u),l=ol(c),f=c&&-l/c;Ql.add(f*a),tf.add(f*s),ef.add(f*u),Hl+=l,Kl+=l*(of+(of=r)),Zl+=l*(af+(af=i)),Jl+=l*(sf+(sf=o)),xf(of,af,sf)}function Of(t){ql=Hl=Wl=Gl=Xl=Kl=Zl=Jl=0,Ql=new x,tf=new x,ef=new x,dl(t,_f);var e=+Ql,n=+tf,r=+ef,i=Zc(e,n,r);return i<Rc&&(e=Kl,n=Zl,r=Jl,Hl<Uc&&(e=Wl,n=Gl,r=Xl),(i=Zc(e,n,r))<Rc)?[NaN,NaN]:[Wc(n,e)*$c,ol(r/i)*$c]}function Nf(t){return function(){return t}}function Df(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Ff(t,e){return[qc(t)>zc?t+Math.round(-t/Vc)*Vc:t,e]}function Lf(t,e,n){return(t%=Vc)?e||n?Df(Uf(t),Rf(e,n)):Uf(t):e||n?Rf(e,n):Ff}function Cf(t){return function(e,n){return[(e+=t)>zc?e-Vc:e<-zc?e+Vc:e,n]}}function Uf(t){var e=Cf(t);return e.invert=Cf(-t),e}function Rf(t,e){var n=Gc(t),r=tl(t),i=Gc(e),o=tl(e);function a(t,e){var a=Gc(e),s=Gc(t)*a,u=tl(t)*a,c=tl(e),l=c*n+s*r;return[Wc(u*i-l*o,s*n-c*r),ol(l*i+u*o)]}return a.invert=function(t,e){var a=Gc(e),s=Gc(t)*a,u=tl(t)*a,c=tl(e),l=c*i-u*o;return[Wc(u*i+c*o,s*n+l*r),ol(l*n-s*r)]},a}function zf(t){function e(e){return(e=t(e[0]*Yc,e[1]*Yc))[0]*=$c,e[1]*=$c,e}return t=Lf(t[0]*Yc,t[1]*Yc,t.length>2?t[2]*Yc:0),e.invert=function(e){return(e=t.invert(e[0]*Yc,e[1]*Yc))[0]*=$c,e[1]*=$c,e},e}function jf(t,e,n,r,i,o){if(n){var a=Gc(e),s=tl(e),u=r*n;null==i?(i=e+r*Vc,o=e-u/2):(i=Pf(a,i),o=Pf(a,o),(r>0?i<o:i>o)&&(i+=r*Vc));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Rl([a,-s*Gc(l),-s*tl(l)]),t.point(c[0],c[1])}}function Pf(t,e){(e=zl(e))[0]-=t,Yl(e);var n=il(-e[1]);return((-e[2]<0?-n:n)+Vc-Uc)%Vc}function Vf(){var t,e,n=Nf([0,0]),r=Nf(90),i=Nf(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=$c,n[1]*=$c}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Yc,u=i.apply(this,arguments)*Yc;return t=[],e=Lf(-a[0]*Yc,-a[1]*Yc,0).invert,jf(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"===typeof t?t:Nf([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"===typeof t?t:Nf(+t),a):r},a.precision=function(t){return arguments.length?(i="function"===typeof t?t:Nf(+t),a):i},a}function $f(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:sl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Yf(t,e){return qc(t[0]-e[0])<Uc&&qc(t[1]-e[1])<Uc}function qf(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Hf(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Yf(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new qf(r,t,null,!0)),u.push(n.o=new qf(r,null,n,!1)),s.push(n=new qf(a,t,null,!1)),u.push(n.o=new qf(a,null,n,!0))}})),s.length){for(u.sort(e),Wf(s),Wf(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Wf(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Gf(t){return qc(t[0])<=zc?t[0]:el(t[0])*((qc(t[0])+zc)%Vc-zc)}function Xf(t,e){var n=Gf(e),r=e[1],i=tl(r),o=[tl(n),-Gc(n),0],a=0,s=0,u=new x;1===i?r=jc+Uc:-1===i&&(r=-jc-Uc);for(var c=0,l=t.length;c<l;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=Gf(d),y=d[1]/2+Pc,g=tl(y),m=Gc(y),b=0;b<h;++b,p=_,g=M,m=S,d=v){var v=f[b],_=Gf(v),w=v[1]/2+Pc,M=tl(w),S=Gc(w),A=_-p,T=A>=0?1:-1,I=T*A,B=I>zc,E=g*M;if(u.add(Wc(E*T*tl(I),m*S+E*Gc(I))),a+=B?A+T*Vc:A,B^p>=n^_>=n){var k=Pl(zl(d),zl(v));Yl(k);var O=Pl(o,k);Yl(O);var N=(B^A>=0?-1:1)*ol(O[2]);(r>N||r===N&&(k[0]||k[1]))&&(s+=B^A>=0?1:-1)}}return(a<-1e-6||a<Uc&&u<-1e-12)^1&s}function Kf(t,e,n,r){return function(i){var o,a,s,u=e(i),c=$f(),l=e(c),f=!1,h={point:d,lineStart:y,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=b,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=y,h.lineEnd=g,a=ht(a);var t=Xf(o,r);a.length?(f||(i.polygonStart(),f=!0),Hf(a,Jf,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function y(){h.point=p,u.lineStart()}function g(){h.point=d,u.lineEnd()}function m(t,e){s.push([t,e]),l.point(t,e)}function b(){l.lineStart(),s=[]}function v(){m(s[0][0],s[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&u){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Zf))}return h}}function Zf(t){return t.length>1}function Jf(t,e){return((t=t.x)[0]<0?t[1]-jc-Uc:jc-t[1])-((e=e.x)[0]<0?e[1]-jc-Uc:jc-e[1])}Ff.invert=Ff;var Qf=Kf((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?zc:-zc,u=qc(o-n);qc(u-zc)<Uc?(t.point(n,r=(r+a)/2>0?jc:-jc),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=zc&&(qc(n-i)<Uc&&(n-=i*Uc),qc(o-s)<Uc&&(o-=s*Uc),r=function(t,e,n,r){var i,o,a=tl(t-n);return qc(a)>Uc?Hc((tl(e)*(o=Gc(r))*tl(n)-tl(r)*(i=Gc(e))*tl(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*jc,r.point(-zc,i),r.point(0,i),r.point(zc,i),r.point(zc,0),r.point(zc,-i),r.point(0,-i),r.point(-zc,-i),r.point(-zc,0),r.point(-zc,i);else if(qc(t[0]-e[0])>Uc){var o=t[0]<e[0]?zc:-zc;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-zc,-jc]);function th(t){var e=Gc(t),n=6*Yc,r=e>0,i=qc(e)>Uc;function o(t,n){return Gc(t)*Gc(n)>e}function a(t,n,r){var i=[1,0,0],o=Pl(zl(t),zl(n)),a=jl(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var c=e*a/u,l=-e*s/u,f=Pl(i,o),h=$l(i,c);Vl(h,$l(o,l));var d=f,p=jl(h,d),y=jl(d,d),g=p*p-y*(jl(h,h)-1);if(!(g<0)){var m=nl(g),b=$l(d,(-p-m)/y);if(Vl(b,h),b=Rl(b),!r)return b;var v,_=t[0],w=n[0],x=t[1],M=n[1];w<_&&(v=_,_=w,w=v);var S=w-_,A=qc(S-zc)<Uc;if(!A&&M<x&&(v=x,x=M,M=v),A||S<Uc?A?x+M>0^b[1]<(qc(b[0]-_)<Uc?x:M):x<=b[1]&&b[1]<=M:S>zc^(_<=b[0]&&b[0]<=w)){var T=$l(d,(-p+m)/y);return Vl(T,h),[b,Rl(T)]}}}function s(e,n){var i=r?t:zc-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Kf(o,(function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var d,p=[f,h],y=o(f,h),g=r?y?0:s(f,h):y?s(f+(f<0?zc:-zc),h):0;if(!e&&(c=u=y)&&t.lineStart(),y!==u&&(!(d=a(e,p))||Yf(e,d)||Yf(p,d))&&(p[2]=1),y!==u)l=0,y?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^y){var m;g&n||!(m=a(p,e,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!y||e&&Yf(e,p)||t.point(p[0],p[1]),e=p,u=y,n=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}}),(function(e,r,i,o){jf(o,t,n,i,e,r)}),r?[0,-t]:[-zc,t-zc])}var eh,nh,rh,ih,oh=1e9,ah=-oh;function sh(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return qc(r[0]-t)<Uc?i>0?0:3:qc(r[0]-n)<Uc?i>0?2:1:qc(r[1]-e)<Uc?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,c,l,f,h,d,p,y,g,m,b,v=a,_=$f(),w={point:x,lineStart:function(){w.point=M,c&&c.push(l=[]);m=!0,g=!1,p=y=NaN},lineEnd:function(){u&&(M(f,h),d&&g&&_.rejoin(),u.push(_.result()));w.point=x,g&&v.lineEnd()},polygonStart:function(){v=_,u=[],c=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],u=1,l=s.length,f=s[0],h=f[0],d=f[1];u<l;++u)o=h,a=d,h=(f=s[u])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,i=(u=ht(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Hf(u,s,e,o,a),a.polygonEnd());v=a,u=c=l=null}};function x(t,e){i(t,e)&&v.point(t,e)}function M(o,a){var s=i(o,a);if(c&&l.push([o,a]),m)f=o,h=a,d=s,m=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&g)v.point(o,a);else{var u=[p=Math.max(ah,Math.min(oh,p)),y=Math.max(ah,Math.min(oh,y))],_=[o=Math.max(ah,Math.min(oh,o)),a=Math.max(ah,Math.min(oh,a))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}}(u,_,t,e,n,r)?s&&(v.lineStart(),v.point(o,a),b=!1):(g||(v.lineStart(),v.point(u[0],u[1])),v.point(_[0],_[1]),s||v.lineEnd(),b=!1)}p=o,y=a,g=s}return w}}function uh(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=sh(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}}var ch={sphere:sl,point:sl,lineStart:function(){ch.point=fh,ch.lineEnd=lh},lineEnd:sl,polygonStart:sl,polygonEnd:sl};function lh(){ch.point=ch.lineEnd=sl}function fh(t,e){nh=t*=Yc,rh=tl(e*=Yc),ih=Gc(e),ch.point=hh}function hh(t,e){t*=Yc;var n=tl(e*=Yc),r=Gc(e),i=qc(t-nh),o=Gc(i),a=r*tl(i),s=ih*n-rh*r*o,u=rh*n+ih*r*o;eh.add(Wc(nl(a*a+s*s),u)),nh=t,rh=n,ih=r}function dh(t){return eh=new x,dl(t,ch),+eh}var ph=[null,null],yh={type:"LineString",coordinates:ph};function gh(t,e){return ph[0]=t,ph[1]=e,dh(yh)}var mh={Feature:function(t,e){return vh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(vh(n[r].geometry,e))return!0;return!1}},bh={Sphere:function(){return!0},Point:function(t,e){return _h(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(_h(n[r],e))return!0;return!1},LineString:function(t,e){return wh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wh(n[r],e))return!0;return!1},Polygon:function(t,e){return xh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(xh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(vh(n[r],e))return!0;return!1}};function vh(t,e){return!(!t||!bh.hasOwnProperty(t.type))&&bh[t.type](t,e)}function _h(t,e){return 0===gh(t,e)}function wh(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=gh(t[o],e)))return!0;if(o>0&&(i=gh(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Rc*i)return!0;n=r}return!1}function xh(t,e){return!!Xf(t.map(Mh),Sh(e))}function Mh(t){return(t=t.map(Sh)).pop(),t}function Sh(t){return[t[0]*Yc,t[1]*Yc]}function Ah(t,e){return(t&&mh.hasOwnProperty(t.type)?mh[t.type]:vh)(t,e)}function Th(t,e,n){var r=gt(t,e-Uc,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Ih(t,e,n){var r=gt(t,e-Uc,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Bh(){var t,e,n,r,i,o,a,s,u,c,l,f,h=10,d=h,p=90,y=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:b()}}function b(){return gt(Xc(r/p)*p,n,p).map(l).concat(gt(Xc(s/y)*y,a,y).map(f)).concat(gt(Xc(e/h)*h,t,h).filter((function(t){return qc(t%p)>Uc})).map(u)).concat(gt(Xc(o/d)*d,i,d).filter((function(t){return qc(t%y)>Uc})).map(c))}return m.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),m.precision(g)):[[r,s],[n,a]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),m.precision(g)):[[e,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],y=+t[1],m):[p,y]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(g=+h,u=Th(o,i,90),c=Ih(e,t,g),l=Th(s,a,90),f=Ih(r,n,g),m):g},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Eh(){return Bh()()}function kh(t,e){var n=t[0]*Yc,r=t[1]*Yc,i=e[0]*Yc,o=e[1]*Yc,a=Gc(r),s=tl(r),u=Gc(o),c=tl(o),l=a*Gc(n),f=a*tl(n),h=u*Gc(i),d=u*tl(i),p=2*ol(nl(al(o-r)+a*u*al(i-n))),y=tl(p),g=p?function(t){var e=tl(t*=p)/y,n=tl(p-t)/y,r=n*l+e*h,i=n*f+e*d,o=n*s+e*c;return[Wc(i,r)*$c,Wc(o,nl(r*r+i*i))*$c]}:function(){return[n*$c,r*$c]};return g.distance=p,g}var Oh,Nh,Dh,Fh,Lh=t=>t,Ch=new x,Uh=new x,Rh={point:sl,lineStart:sl,lineEnd:sl,polygonStart:function(){Rh.lineStart=zh,Rh.lineEnd=Vh},polygonEnd:function(){Rh.lineStart=Rh.lineEnd=Rh.point=sl,Ch.add(qc(Uh)),Uh=new x},result:function(){var t=Ch/2;return Ch=new x,t}};function zh(){Rh.point=jh}function jh(t,e){Rh.point=Ph,Oh=Dh=t,Nh=Fh=e}function Ph(t,e){Uh.add(Fh*t-Dh*e),Dh=t,Fh=e}function Vh(){Ph(Oh,Nh)}var $h=Rh,Yh=1/0,qh=Yh,Hh=-Yh,Wh=Hh;var Gh,Xh,Kh,Zh,Jh={point:function(t,e){t<Yh&&(Yh=t);t>Hh&&(Hh=t);e<qh&&(qh=e);e>Wh&&(Wh=e)},lineStart:sl,lineEnd:sl,polygonStart:sl,polygonEnd:sl,result:function(){var t=[[Yh,qh],[Hh,Wh]];return Hh=Wh=-(qh=Yh=1/0),t}},Qh=0,td=0,ed=0,nd=0,rd=0,id=0,od=0,ad=0,sd=0,ud={point:cd,lineStart:ld,lineEnd:dd,polygonStart:function(){ud.lineStart=pd,ud.lineEnd=yd},polygonEnd:function(){ud.point=cd,ud.lineStart=ld,ud.lineEnd=dd},result:function(){var t=sd?[od/sd,ad/sd]:id?[nd/id,rd/id]:ed?[Qh/ed,td/ed]:[NaN,NaN];return Qh=td=ed=nd=rd=id=od=ad=sd=0,t}};function cd(t,e){Qh+=t,td+=e,++ed}function ld(){ud.point=fd}function fd(t,e){ud.point=hd,cd(Kh=t,Zh=e)}function hd(t,e){var n=t-Kh,r=e-Zh,i=nl(n*n+r*r);nd+=i*(Kh+t)/2,rd+=i*(Zh+e)/2,id+=i,cd(Kh=t,Zh=e)}function dd(){ud.point=cd}function pd(){ud.point=gd}function yd(){md(Gh,Xh)}function gd(t,e){ud.point=md,cd(Gh=Kh=t,Xh=Zh=e)}function md(t,e){var n=t-Kh,r=e-Zh,i=nl(n*n+r*r);nd+=i*(Kh+t)/2,rd+=i*(Zh+e)/2,id+=i,od+=(i=Zh*t-Kh*e)*(Kh+t),ad+=i*(Zh+e),sd+=3*i,cd(Kh=t,Zh=e)}var bd=ud;function vd(t){this._context=t}vd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Vc)}},result:sl};var _d,wd,xd,Md,Sd,Ad=new x,Td={point:sl,lineStart:function(){Td.point=Id},lineEnd:function(){_d&&Bd(wd,xd),Td.point=sl},polygonStart:function(){_d=!0},polygonEnd:function(){_d=null},result:function(){var t=+Ad;return Ad=new x,t}};function Id(t,e){Td.point=Bd,wd=Md=t,xd=Sd=e}function Bd(t,e){Md-=t,Sd-=e,Ad.add(nl(Md*Md+Sd*Sd)),Md=t,Sd=e}var Ed=Td;function kd(){this._string=[]}function Od(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Nd(t,e){var n,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),dl(t,n(r))),r.result()}return o.area=function(t){return dl(t,n($h)),$h.result()},o.measure=function(t){return dl(t,n(Ed)),Ed.result()},o.bounds=function(t){return dl(t,n(Jh)),Jh.result()},o.centroid=function(t){return dl(t,n(bd)),bd.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Lh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new kd):new vd(e=t),"function"!==typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Dd(t){return{stream:Fd(t)}}function Fd(t){return function(e){var n=new Ld;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ld(){}function Cd(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),dl(n,t.stream(Jh)),e(Jh.result()),null!=r&&t.clipExtent(r),t}function Ud(t,e,n){return Cd(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Rd(t,e,n){return Ud(t,[[0,0],e],n)}function zd(t,e,n){return Cd(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function jd(t,e,n){return Cd(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}kd.prototype={_radius:4.5,_circle:Od(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Od(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ld.prototype={constructor:Ld,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Pd=Gc(30*Yc);function Vd(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,f,h,d,p,y,g){var m=c-r,b=l-i,v=m*m+b*b;if(v>4*e&&y--){var _=a+h,w=s+d,x=u+p,M=nl(_*_+w*w+x*x),S=ol(x/=M),A=qc(qc(x)-1)<Uc||qc(o-f)<Uc?(o+f)/2:Wc(w,_),T=t(A,S),I=T[0],B=T[1],E=I-r,k=B-i,O=b*E-m*k;(O*O/v>e||qc((m*E+b*k)/v-.5)>.3||a*h+s*d+u*p<Pd)&&(n(r,i,o,a,s,u,I,B,A,_/=M,w/=M,x,y,g),g.point(I,B),n(I,B,A,_,w,x,c,l,f,h,d,p,y,g))}}return function(e){var r,i,o,a,s,u,c,l,f,h,d,p,y={point:g,lineStart:m,lineEnd:v,polygonStart:function(){e.polygonStart(),y.lineStart=_},polygonEnd:function(){e.polygonEnd(),y.lineStart=m}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){l=NaN,y.point=b,e.lineStart()}function b(r,i){var o=zl([r,i]),a=t(r,i);n(l,f,c,h,d,p,l=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],16,e),e.point(l,f)}function v(){y.point=g,e.lineEnd()}function _(){m(),y.point=w,y.lineEnd=x}function w(t,e){b(r=t,e),i=l,o=f,a=h,s=d,u=p,y.point=b}function x(){n(l,f,c,h,d,p,i,o,r,a,s,u,16,e),y.lineEnd=v,v()}return y}}(t,e):function(t){return Fd({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var $d=Fd({point:function(t,e){this.stream.point(t*Yc,e*Yc)}});function Yd(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=Gc(o),s=tl(o),u=a*t,c=s*t,l=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[u*(t*=r)-c*(o*=i)+e,n-c*t-u*o]}return p.invert=function(t,e){return[r*(l*t-f*e+h),i*(d-f*t-l*e)]},p}function qd(t){return Hd((function(){return t}))()}function Hd(t){var e,n,r,i,o,a,s,u,c,l,f=150,h=480,d=250,p=0,y=0,g=0,m=0,b=0,v=0,_=1,w=1,x=null,M=Qf,S=null,A=Lh,T=.5;function I(t){return u(t[0]*Yc,t[1]*Yc)}function B(t){return(t=u.invert(t[0],t[1]))&&[t[0]*$c,t[1]*$c]}function E(){var t=Yd(f,0,0,_,w,v).apply(null,e(p,y)),r=Yd(f,h-t[0],d-t[1],_,w,v);return n=Lf(g,m,b),s=Df(e,r),u=Df(n,s),a=Vd(s,T),k()}function k(){return c=l=null,I}return I.stream=function(t){return c&&l===t?c:c=$d(function(t){return Fd({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(a(A(l=t)))))},I.preclip=function(t){return arguments.length?(M=t,x=void 0,k()):M},I.postclip=function(t){return arguments.length?(A=t,S=r=i=o=null,k()):A},I.clipAngle=function(t){return arguments.length?(M=+t?th(x=t*Yc):(x=null,Qf),k()):x*$c},I.clipExtent=function(t){return arguments.length?(A=null==t?(S=r=i=o=null,Lh):sh(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),k()):null==S?null:[[S,r],[i,o]]},I.scale=function(t){return arguments.length?(f=+t,E()):f},I.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},I.center=function(t){return arguments.length?(p=t[0]%360*Yc,y=t[1]%360*Yc,E()):[p*$c,y*$c]},I.rotate=function(t){return arguments.length?(g=t[0]%360*Yc,m=t[1]%360*Yc,b=t.length>2?t[2]%360*Yc:0,E()):[g*$c,m*$c,b*$c]},I.angle=function(t){return arguments.length?(v=t%360*Yc,E()):v*$c},I.reflectX=function(t){return arguments.length?(_=t?-1:1,E()):_<0},I.reflectY=function(t){return arguments.length?(w=t?-1:1,E()):w<0},I.precision=function(t){return arguments.length?(a=Vd(s,T=t*t),k()):nl(T)},I.fitExtent=function(t,e){return Ud(I,t,e)},I.fitSize=function(t,e){return Rd(I,t,e)},I.fitWidth=function(t,e){return zd(I,t,e)},I.fitHeight=function(t,e){return jd(I,t,e)},function(){return e=t.apply(this,arguments),I.invert=e.invert&&B,E()}}function Wd(t){var e=0,n=zc/3,r=Hd(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Yc,n=t[1]*Yc):[e*$c,n*$c]},i}function Gd(t,e){var n=tl(t),r=(n+tl(e))/2;if(qc(r)<Uc)return function(t){var e=Gc(t);function n(t,n){return[t*e,tl(n)/e]}return n.invert=function(t,n){return[t/e,ol(n*e)]},n}(t);var i=1+n*(2*r-n),o=nl(i)/r;function a(t,e){var n=nl(i-2*r*tl(e))/r;return[n*tl(t*=r),o-n*Gc(t)]}return a.invert=function(t,e){var n=o-e,a=Wc(t,qc(n))*el(n);return n*r<0&&(a-=zc*el(t)*el(n)),[a/r,ol((i-(t*t+n*n)*r*r)/(2*r))]},a}function Xd(){return Wd(Gd).scale(155.424).center([0,33.6442])}function Kd(){return Xd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Zd(){var t,e,n,r,i,o,a=Kd(),s=Xd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Xd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},l.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([a.stream(e=n),s.stream(n),u.stream(n)])},l.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=s.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+Uc,l+.12*e+Uc],[o-.214*e-Uc,l+.234*e-Uc]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+Uc,l+.166*e+Uc],[o-.115*e-Uc,l+.234*e-Uc]]).stream(c),f()},l.fitExtent=function(t,e){return Ud(l,t,e)},l.fitSize=function(t,e){return Rd(l,t,e)},l.fitWidth=function(t,e){return zd(l,t,e)},l.fitHeight=function(t,e){return jd(l,t,e)},l.scale(1070)}function Jd(t){return function(e,n){var r=Gc(e),i=Gc(n),o=t(r*i);return o===1/0?[2,0]:[o*i*tl(e),o*tl(n)]}}function Qd(t){return function(e,n){var r=nl(e*e+n*n),i=t(r),o=tl(i),a=Gc(i);return[Wc(e*o,r*a),ol(r&&n*o/r)]}}var tp=Jd((function(t){return nl(2/(1+t))}));function ep(){return qd(tp).scale(124.75).clipAngle(179.999)}tp.invert=Qd((function(t){return 2*ol(t/2)}));var np=Jd((function(t){return(t=il(t))&&t/tl(t)}));function rp(){return qd(np).scale(79.4188).clipAngle(179.999)}function ip(t,e){return[t,Jc(rl((jc+e)/2))]}function op(){return ap(ip).scale(961/Vc)}function ap(t){var e,n,r,i=qd(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=zc*a(),s=i(zf(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===ip?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function sp(t){return rl((jc+t)/2)}function up(t,e){var n=Gc(t),r=t===e?tl(t):Jc(n/Gc(e))/Jc(sp(e)/sp(t)),i=n*Qc(sp(t),r)/r;if(!r)return ip;function o(t,e){i>0?e<-jc+Uc&&(e=-jc+Uc):e>jc-Uc&&(e=jc-Uc);var n=i/Qc(sp(e),r);return[n*tl(r*t),i-n*Gc(r*t)]}return o.invert=function(t,e){var n=i-e,o=el(r)*nl(t*t+n*n),a=Wc(t,qc(n))*el(n);return n*r<0&&(a-=zc*el(t)*el(n)),[a/r,2*Hc(Qc(i/o,1/r))-jc]},o}function cp(){return Wd(up).scale(109.5).parallels([30,30])}function lp(t,e){return[t,e]}function fp(){return qd(lp).scale(152.63)}function hp(t,e){var n=Gc(t),r=t===e?tl(t):(n-Gc(e))/(e-t),i=n/r+t;if(qc(r)<Uc)return lp;function o(t,e){var n=i-e,o=r*t;return[n*tl(o),i-n*Gc(o)]}return o.invert=function(t,e){var n=i-e,o=Wc(t,qc(n))*el(n);return n*r<0&&(o-=zc*el(t)*el(n)),[o/r,i-el(r)*nl(t*t+n*n)]},o}function dp(){return Wd(hp).scale(131.154).center([0,13.9389])}np.invert=Qd((function(t){return t})),ip.invert=function(t,e){return[t,2*Hc(Kc(e))-jc]},lp.invert=lp;var pp=1.340264,yp=-.081106,gp=893e-6,mp=.003796,bp=nl(3)/2;function vp(t,e){var n=ol(bp*tl(e)),r=n*n,i=r*r*r;return[t*Gc(n)/(bp*(pp+3*yp*r+i*(7*gp+9*mp*r))),n*(pp+yp*r+i*(gp+mp*r))]}function _p(){return qd(vp).scale(177.158)}function wp(t,e){var n=Gc(e),r=Gc(t)*n;return[n*tl(t)/r,tl(e)/r]}function xp(){return qd(wp).scale(144.049).clipAngle(60)}function Mp(){var t,e,n,r,i,o,a,s=1,u=0,c=0,l=1,f=1,h=0,d=null,p=1,y=1,g=Fd({point:function(t,e){var n=v([t,e]);this.stream.point(n[0],n[1])}}),m=Lh;function b(){return p=s*l,y=s*f,o=a=null,v}function v(n){var r=n[0]*p,i=n[1]*y;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+u,i+c]}return v.invert=function(n){var r=n[0]-u,i=n[1]-c;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/y]},v.stream=function(t){return o&&a===t?o:o=g(m(a=t))},v.postclip=function(t){return arguments.length?(m=t,d=n=r=i=null,b()):m},v.clipExtent=function(t){return arguments.length?(m=null==t?(d=n=r=i=null,Lh):sh(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),b()):null==d?null:[[d,n],[r,i]]},v.scale=function(t){return arguments.length?(s=+t,b()):s},v.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],b()):[u,c]},v.angle=function(n){return arguments.length?(e=tl(h=n%360*Yc),t=Gc(h),b()):h*$c},v.reflectX=function(t){return arguments.length?(l=t?-1:1,b()):l<0},v.reflectY=function(t){return arguments.length?(f=t?-1:1,b()):f<0},v.fitExtent=function(t,e){return Ud(v,t,e)},v.fitSize=function(t,e){return Rd(v,t,e)},v.fitWidth=function(t,e){return zd(v,t,e)},v.fitHeight=function(t,e){return jd(v,t,e)},v}function Sp(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Ap(){return qd(Sp).scale(175.295)}function Tp(t,e){return[Gc(e)*tl(t),tl(e)]}function Ip(){return qd(Tp).scale(249.5).clipAngle(90.000001)}function Bp(t,e){var n=Gc(e),r=1+Gc(t)*n;return[n*tl(t)/r,tl(e)/r]}function Ep(){return qd(Bp).scale(250).clipAngle(142)}function kp(t,e){return[Jc(rl((jc+e)/2)),-t]}function Op(){var t=ap(kp),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Np(t,e){return t.parent===e.parent?1:2}function Dp(t,e){return t+e.x}function Fp(t,e){return Math.max(t,e.y)}function Lp(){var t=Np,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Dp,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Fp,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,u)/2,l=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Cp(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Up(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=zp)):void 0===e&&(e=Rp);for(var n,r,i,o,a,s=new Vp(t),u=[s];n=u.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new Vp(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Pp)}function Rp(t){return t.children}function zp(t){return Array.isArray(t)?t[1]:null}function jp(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Pp(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Vp(t){this.data=t,this.depth=this.height=0,this.parent=null}function $p(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&Hp(n,e)?++r:(n=Gp(o=Yp(o,e)),r=0);return n}function Yp(t,e){var n,r;if(Wp(e,t))return[e];for(n=0;n<t.length;++n)if(qp(e,t[n])&&Wp(Xp(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(qp(Xp(t[n],t[r]),e)&&qp(Xp(t[n],e),t[r])&&qp(Xp(t[r],e),t[n])&&Wp(Kp(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function qp(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Hp(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Wp(t,e){for(var n=0;n<e.length;++n)if(!Hp(t,e[n]))return!1;return!0}function Gp(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Xp(t[0],t[1]);case 3:return Kp(t[0],t[1],t[2])}}function Xp(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function Kp(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-s,y=i-l,g=u-o,m=f-o,b=r*r+i*i-o*o,v=b-a*a-s*s+u*u,_=b-c*c-l*l+f*f,w=d*p-h*y,x=(p*_-y*v)/(2*w)-r,M=(y*g-p*m)/w,S=(d*v-h*_)/(2*w)-i,A=(h*m-d*g)/w,T=M*M+A*A-1,I=2*(o+x*M+S*A),B=x*x+S*S-o*o,E=-(T?(I+Math.sqrt(I*I-4*T*B))/(2*T):B/I);return{x:r+x+M*E,y:i+S+A*E,r:E}}function Zp(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Jp(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Qp(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function ty(t){this._=t,this.next=null,this.previous=null}function ey(t){if(!(i=(t=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,s,u,c,l,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Zp(n,e,r=t[2]),e=new ty(e),n=new ty(n),r=new ty(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Zp(e._,n._,r=t[s]),r=new ty(r),u=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(Jp(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(Jp(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Qp(e);(r=r.next)!==n;)(a=Qp(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=$p(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function ny(t){return ey(t),t}function ry(t){return null==t?null:iy(t)}function iy(t){if("function"!==typeof t)throw new Error;return t}function oy(){return 0}function ay(t){return function(){return t}}function sy(t){return Math.sqrt(t.value)}function uy(){var t=null,e=1,n=1,r=oy;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(cy(t)).eachAfter(ly(r,.5)).eachBefore(fy(1)):i.eachBefore(cy(sy)).eachAfter(ly(oy,1)).eachAfter(ly(r,i.r/Math.min(e,n))).eachBefore(fy(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=ry(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:ay(+t),i):r},i}function cy(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ly(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=ey(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function fy(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function hy(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function dy(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function py(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&dy(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(hy),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}vp.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(pp+yp*i+o*(gp+mp*i))-e)/(pp+3*yp*i+o*(7*gp+9*mp*i)))*r)*i*i,!(qc(n)<Rc));++a);return[bp*t*(pp+3*yp*i+o*(7*gp+9*mp*i))/Gc(r),ol(tl(r)/bp)]},wp.invert=Qd(Hc),Sp.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(qc(n)>Uc&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Tp.invert=Qd(ol),Bp.invert=Qd((function(t){return 2*Hc(t)})),kp.invert=function(t,e){return[-e,2*Hc(Kc(t))-jc]},Vp.prototype=Up.prototype={constructor:Vp,count:function(){return this.eachAfter(Cp)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],u=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++u,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Up(this).eachBefore(jp)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};var yy={depth:-1},gy={};function my(t){return t.id}function by(t){return t.parentId}function vy(){var t=my,e=by;function n(n){var r,i,o,a,s,u,c,l=Array.from(n),f=l.length,h=new Map;for(i=0;i<f;++i)r=l[i],s=l[i]=new Vp(r),null!=(u=t(r,i,n))&&(u+="")&&(c=s.id=u,h.set(c,h.has(c)?gy:s)),null!=(u=e(r,i,n))&&(u+="")&&(s.parent=u);for(i=0;i<f;++i)if(u=(s=l[i]).parent){if(!(a=h.get(u)))throw new Error("missing: "+u);if(a===gy)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=yy,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(Pp),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=iy(e),n):t},n.parentId=function(t){return arguments.length?(e=iy(t),n):e},n}function _y(t,e){return t.parent===e.parent?1:2}function wy(t){var e=t.children;return e?e[0]:t.t}function xy(t){var e=t.children;return e?e[e.length-1]:t.t}function My(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Sy(t,e,n){return t.a.parent===e.parent?t.a:n}function Ay(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Ty(){var t=_y,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new Ay(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Ay(r[i],i)),n.parent=e;return(a.parent=new Ay(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)}));var h=c===l?1:t(c,l)/2,d=h-c.x,p=e/(l.x+h+d),y=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*y}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,l=a.m,f=s.m,h=u.m;s=xy(s),o=wy(o),s&&o;)u=wy(u),(a=xy(a)).a=e,(i=s.z+f-o.z-c+t(s._,o._))>0&&(My(Sy(s,e,r),e,i),c+=i,l+=i),f+=s.m,c+=o.m,h+=u.m,l+=a.m;s&&!xy(a)&&(a.t=s,a.m+=f-l),o&&!wy(u)&&(u.t=o,u.m+=c-h,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Iy(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}Ay.prototype=Object.create(Vp.prototype);var By=(1+Math.sqrt(5))/2;function Ey(t,e,n,r,i,o){for(var a,s,u,c,l,f,h,d,p,y,g,m=[],b=e.children,v=0,_=0,w=b.length,x=e.value;v<w;){u=i-n,c=o-r;do{l=b[_++].value}while(!l&&_<w);for(f=h=l,g=l*l*(y=Math.max(c/u,u/c)/(x*t)),p=Math.max(h/g,g/f);_<w;++_){if(l+=s=b[_].value,s<f&&(f=s),s>h&&(h=s),g=l*l*y,(d=Math.max(h/g,g/f))>p){l-=s;break}p=d}m.push(a={value:l,dice:u<c,children:b.slice(v,_)}),a.dice?dy(a,n,r,i,x?r+=c*l/x:o):Iy(a,n,r,x?n+=u*l/x:i,o),x-=l,v=_}return m}var ky=function t(e){function n(t,n,r,i,o){Ey(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(By);function Oy(){var t=ky,e=!1,n=1,r=1,i=[0],o=oy,a=oy,s=oy,u=oy,c=oy;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(hy),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=a(e)-n,(f-=s(e)-n)<r&&(r=f=(r+f)/2),(h-=u(e)-n)<l&&(l=h=(l+h)/2),t(e,r,l,f,h))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=iy(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:ay(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:ay(+t),l):a},l.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:ay(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"===typeof t?t:ay(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:ay(+t),l):c},l}function Ny(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}var f=c[e],h=r/2+f,d=e+1,p=n-1;for(;d<p;){var y=d+p>>>1;c[y]<h?d=y+1:p=y}h-c[d-1]<c[d]-h&&e+1<d&&--d;var g=c[d]-f,m=r-g;if(a-i>u-o){var b=r?(i*m+a*g)/r:a;t(e,d,g,i,o,b,u),t(d,n,m,b,o,a,u)}else{var v=r?(o*m+u*g)/r:u;t(e,d,g,i,o,a,v),t(d,n,m,i,v,a,u)}}(0,u,t.value,e,n,r,i)}function Dy(t,e,n,r,i){(1&t.depth?Iy:dy)(t,e,n,r,i)}var Fy=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,l,f=-1,h=a.length,d=t.value;++f<h;){for(u=(s=a[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?dy(s,n,r,i,d?r+=(o-r)*s.value/d:o):Iy(s,n,r,d?n+=(i-n)*s.value/d:i,o),d-=s.value}else t._squarify=a=Ey(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(By);function Ly(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Cy(t,e){var n=lr(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Uy(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ry(t){return((t=Math.exp(t))+1/t)/2}var zy=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],f=i[1],h=i[2],d=l-s,p=f-u,y=d*d+p*p;if(y<1e-12)a=Math.log(h/c)/e,o=function(t){return[s+t*d,u+t*p,c*Math.exp(e*t*a)]};else{var g=Math.sqrt(y),m=(h*h-c*c+r*y)/(2*c*n*g),b=(h*h-c*c-r*y)/(2*h*n*g),v=Math.log(Math.sqrt(m*m+1)-m),_=Math.log(Math.sqrt(b*b+1)-b);a=(_-v)/e,o=function(t){var r=t*a,i=Ry(v),o=c/(n*g)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[s+o*d,u+o*p,c*i/Ry(e*r+v)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function jy(t){return function(e,n){var r=t((e=nr(e)).h,(n=nr(n)).h),i=hr(e.s,n.s),o=hr(e.l,n.l),a=hr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var Py=jy(lr),Vy=jy(hr);function $y(t,e){var n=hr((t=pa(t)).l,(e=pa(e)).l),r=hr(t.a,e.a),i=hr(t.b,e.b),o=hr(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Yy(t){return function(e,n){var r=t((e=xa(e)).h,(n=xa(n)).h),i=hr(e.c,n.c),o=hr(e.l,n.l),a=hr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var qy=Yy(lr),Hy=Yy(hr);function Wy(t){return function e(n){function r(e,r){var i=t((e=Fa(e)).h,(r=Fa(r)).h),o=hr(e.s,r.s),a=hr(e.l,r.l),s=hr(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var Gy=Wy(lr),Xy=Wy(hr);function Ky(t,e){void 0===e&&(e=t,t=Ir);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Zy(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Jy(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function Qy(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]}function tg(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function eg(t,e){return t[0]-e[0]||t[1]-e[1]}function ng(t){const e=t.length,n=[0,1];let r,i=2;for(r=2;r<e;++r){for(;i>1&&tg(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function rg(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(eg),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=ng(r),a=ng(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[r[a[e]][2]]);return c}function ig(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>s!==c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}function og(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.hypot(e,n);return u}var ag=Math.random,sg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(ag),ug=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(ag),cg=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(ag),lg=function t(e){var n=cg.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(ag),fg=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(ag),hg=function t(e){var n=fg.source(e);function r(t){if(0===(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(ag),dg=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(ag),pg=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(ag),yg=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(ag),gg=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(ag),mg=function t(e){var n=cg.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),s=1+o*t}while(s<=0);s*=s*s;var u=1-e()}while(u>=1-.0331*t*t*t*t&&Math.log(u)>=.5*t*t+i*(1-s+Math.log(s)));return i*s*a()*r}}return r.source=t,r}(ag),bg=function t(e){var n=mg.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(ag),vg=function t(e){var n=gg.source(e),r=bg.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,o=t,a=e;o*a>16&&o*(1-a)>16;){var s=Math.floor((o+1)*a),u=r(s,o-s+1)();u<=a?(i+=s,o-=s,a=(a-u)/(1-u)):(o=s-1,a/=u)}for(var c=a<.5,l=n(c?a:1-a),f=l(),h=0;f<=o;++h)f+=l();return i+(c?h:o-h)}}return i.source=t,i}(ag),_g=function t(e){function n(t,n,r){var i;return 0===(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(ag),wg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(ag),xg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(ag),Mg=function t(e){var n=mg.source(e),r=vg.source(e);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),s=n(a)();if(s>o)return i+r(a-1,o/s)();i+=a,o-=s}for(var u=-Math.log1p(-e()),c=0;u<=o;++c)u-=Math.log1p(-e());return i+c}}return i.source=t,i}(ag);const Sg=1/4294967296;function Ag(t=Math.random()){let e=0|(0<=t&&t<1?t/Sg:Math.abs(t));return()=>(e=1664525*e+1013904223|0,Sg*(e>>>0))}function Tg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ig(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}const Bg=Symbol("implicit");function Eg(){var t=new Map,e=[],n=[],r=Bg;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Bg)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Eg(e,n).unknown(r)},Tg.apply(i,arguments),i}function kg(){var t,e,n=Eg().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,c=0,l=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-u+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(n-u))*l,e=t*(1-u),s&&(h=Math.round(h),e=Math.round(e));var p=gt(n).map((function(e){return h+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},n.copy=function(){return kg(r(),[o,a]).round(s).paddingInner(u).paddingOuter(c).align(l)},Tg.apply(f(),arguments)}function Og(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Og(e())},t}function Ng(){return Og(kg.apply(null,arguments).paddingInner(1))}function Dg(t){return+t}var Fg=[0,1];function Lg(t){return t}function Cg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Ug(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Cg(i,r),o=n(a,o)):(r=Cg(r,i),o=n(o,a)),function(t){return o(r(t))}}function Rg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Cg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=f(t,e,1,r)-1;return o[n](i[n](e))}}function zg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jg(){var t,e,n,r,i,o,a=Fg,s=Fg,u=Ir,c=Lg;function l(){var t=Math.min(a.length,s.length);return c!==Lg&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Rg:Ug,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),xr)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Dg),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=Uy,l()},f.clamp=function(t){return arguments.length?(c=!!t||Lg,l()):c!==Lg},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function Pg(){return jg()(Lg,Lg)}function Vg(t,e,n,r){var i,o=Z(t,e,n);switch((r=xc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Lc(o,a))||(r.precision=i),Ec(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Cc(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Fc(o))||(r.precision=i-2*("%"===r.type))}return Bc(r)}function $g(t){var e=t.domain;return t.ticks=function(t){var n=e();return X(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Vg(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=K(u,c,n))===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Yg(){var t=Pg();return t.copy=function(){return zg(t,Yg())},Tg.apply(t,arguments),$g(t)}function qg(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Dg),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return qg(t).unknown(e)},t=arguments.length?Array.from(t,Dg):[0,1],$g(n)}function Hg(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Wg(t){return Math.log(t)}function Gg(t){return Math.exp(t)}function Xg(t){return-Math.log(-t)}function Kg(t){return-Math.exp(-t)}function Zg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jg(t){return function(e){return-t(-e)}}function Qg(t){var e,n,r=t(Wg,Gg),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Zg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=Jg(e),n=Jg(n),t(Xg,Kg)):t(Wg,Gg),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(h=s,s=u,u=h);var c,l,f,h=e(s),d=e(u),p=null==t?10:+t,y=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(l=1,c=n(h);l<o;++l)if(!((f=c*l)<s)){if(f>u)break;y.push(f)}}else for(;h<=d;++h)for(l=o-1,c=n(h);l>=1;--l)if(!((f=c*l)<s)){if(f>u)break;y.push(f)}2*y.length<p&&(y=X(s,u,p))}else y=X(h,d,Math.min(d-h,p)).map(n);return r?y.reverse():y},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=Bc(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Hg(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function tm(){var t=Qg(jg()).domain([1,10]);return t.copy=function(){return zg(t,tm()).base(t.base())},Tg.apply(t,arguments),t}function em(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function nm(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rm(t){var e=1,n=t(em(e),nm(e));return n.constant=function(n){return arguments.length?t(em(e=+n),nm(e)):e},$g(n)}function im(){var t=rm(jg());return t.copy=function(){return zg(t,im()).constant(t.constant())},Tg.apply(t,arguments)}function om(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function am(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sm(t){return t<0?-t*t:t*t}function um(t){var e=t(Lg,Lg),n=1;function r(){return 1===n?t(Lg,Lg):.5===n?t(am,sm):t(om(n),om(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},$g(e)}function cm(){var t=um(jg());return t.copy=function(){return zg(t,cm()).exponent(t.exponent())},Tg.apply(t,arguments),t}function lm(){return cm.apply(null,arguments).exponent(.5)}function fm(t){return Math.sign(t)*t*t}function hm(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dm(){var t,e=Pg(),n=[0,1],r=!1;function i(n){var i=hm(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(fm(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Dg)).map(fm)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return dm(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},Tg.apply(i,arguments),$g(i)}function pm(){var t,e=[],n=[],r=[];function o(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=at(e,t/i);return a}function a(e){return null==e||isNaN(e=+e)?t:n[f(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(i),o()},a.range=function(t){return arguments.length?(n=Array.from(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return pm().domain(e).range(n).unknown(t)},Tg.apply(a,arguments)}function ym(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[f(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return ym().domain([e,n]).range(o).unknown(t)},Tg.apply($g(a),arguments)}function gm(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[f(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return gm().domain(e).range(n).unknown(t)},Tg.apply(i,arguments)}const mm=1e3,bm=6e4,vm=36e5,_m=864e5,wm=6048e5,xm=2592e6,Mm=31536e6;var Sm=new Date,Am=new Date;function Tm(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Tm((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Sm.setTime(+e),Am.setTime(+r),t(Sm),t(Am),Math.floor(n(Sm,Am))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var Im=Tm((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Im.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Tm((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Im:null};var Bm=Im,Em=Im.range,km=Tm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*mm)}),(function(t,e){return(e-t)/mm}),(function(t){return t.getUTCSeconds()})),Om=km,Nm=km.range,Dm=Tm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mm)}),(function(t,e){t.setTime(+t+e*bm)}),(function(t,e){return(e-t)/bm}),(function(t){return t.getMinutes()})),Fm=Dm,Lm=Dm.range,Cm=Tm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mm-t.getMinutes()*bm)}),(function(t,e){t.setTime(+t+e*vm)}),(function(t,e){return(e-t)/vm}),(function(t){return t.getHours()})),Um=Cm,Rm=Cm.range,zm=Tm((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bm)/_m),(t=>t.getDate()-1)),jm=zm,Pm=zm.range;function Vm(t){return Tm((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bm)/wm}))}var $m=Vm(0),Ym=Vm(1),qm=Vm(2),Hm=Vm(3),Wm=Vm(4),Gm=Vm(5),Xm=Vm(6),Km=$m.range,Zm=Ym.range,Jm=qm.range,Qm=Hm.range,tb=Wm.range,eb=Gm.range,nb=Xm.range,rb=Tm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),ib=rb,ob=rb.range,ab=Tm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ab.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Tm((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var sb=ab,ub=ab.range,cb=Tm((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*bm)}),(function(t,e){return(e-t)/bm}),(function(t){return t.getUTCMinutes()})),lb=cb,fb=cb.range,hb=Tm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*vm)}),(function(t,e){return(e-t)/vm}),(function(t){return t.getUTCHours()})),db=hb,pb=hb.range,yb=Tm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/_m}),(function(t){return t.getUTCDate()-1})),gb=yb,mb=yb.range;function bb(t){return Tm((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/wm}))}var vb=bb(0),_b=bb(1),wb=bb(2),xb=bb(3),Mb=bb(4),Sb=bb(5),Ab=bb(6),Tb=vb.range,Ib=_b.range,Bb=wb.range,Eb=xb.range,kb=Mb.range,Ob=Sb.range,Nb=Ab.range,Db=Tm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Fb=Db,Lb=Db.range,Cb=Tm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Cb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Tm((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Ub=Cb,Rb=Cb.range;function zb(t,e,n,r,i,a){const s=[[Om,1,mm],[Om,5,5e3],[Om,15,15e3],[Om,30,3e4],[a,1,bm],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,vm],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,_m],[r,2,1728e5],[n,1,wm],[e,1,xm],[e,3,7776e6],[t,1,Mm]];function u(e,n,r){const i=Math.abs(n-e)/r,a=o((([,,t])=>t)).right(s,i);if(a===s.length)return t.every(Z(e/Mm,n/Mm,r));if(0===a)return Bm.every(Math.max(Z(e,n,r),1));const[u,c]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return u.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:u(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},u]}const[jb,Pb]=zb(Ub,Fb,vb,gb,db,lb),[Vb,$b]=zb(sb,ib,$m,jm,Um,Fm);function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hb(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wb(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=ov(i),l=av(i),f=ov(o),h=av(o),d=ov(a),p=av(a),y=ov(s),g=av(s),m=ov(u),b=av(u),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Iv,e:Iv,f:Nv,g:$v,G:qv,H:Bv,I:Ev,j:kv,L:Ov,m:Dv,M:Fv,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:p_,s:y_,S:Lv,u:Cv,U:Uv,V:zv,w:jv,W:Pv,x:null,X:null,y:Vv,Y:Yv,Z:Hv,"%":d_},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Wv,e:Wv,f:Jv,g:c_,G:f_,H:Gv,I:Xv,j:Kv,L:Zv,m:Qv,M:t_,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:p_,s:y_,S:e_,u:n_,U:r_,V:o_,w:a_,W:s_,x:null,X:null,y:u_,Y:l_,Z:h_,"%":d_},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:mv,e:mv,f:Mv,g:dv,G:hv,H:vv,I:vv,j:bv,L:xv,m:gv,M:_v,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:yv,Q:Av,s:Tv,S:wv,u:uv,U:cv,V:lv,w:sv,W:fv,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:dv,Y:hv,Z:pv,"%":Sv};function x(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Qb[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=Hb(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qb(Hb(o.y,0,1))).getUTCDay(),r=i>4||0===i?_b.ceil(r):_b(r),r=gb.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Yb(Hb(o.y,0,1))).getDay(),r=i>4||0===i?Ym.ceil(r):Ym(r),r=jm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qb(Hb(o.y,0,1)).getUTCDay():Yb(Hb(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qb(o)):Yb(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Qb?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}var Gb,Xb,Kb,Zb,Jb,Qb={"-":"",_:" ",0:"0"},tv=/^\s*\d+/,ev=/^%/,nv=/[\\^$*+?|[\]().{}]/g;function rv(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iv(t){return t.replace(nv,"\\$&")}function ov(t){return new RegExp("^(?:"+t.map(iv).join("|")+")","i")}function av(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function sv(t,e,n){var r=tv.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uv(t,e,n){var r=tv.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hv(t,e,n){var r=tv.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yv(t,e,n){var r=tv.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function gv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function mv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bv(t,e,n){var r=tv.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _v(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wv(t,e,n){var r=tv.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xv(t,e,n){var r=tv.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mv(t,e,n){var r=tv.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sv(t,e,n){var r=ev.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Av(t,e,n){var r=tv.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Tv(t,e,n){var r=tv.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Iv(t,e){return rv(t.getDate(),e,2)}function Bv(t,e){return rv(t.getHours(),e,2)}function Ev(t,e){return rv(t.getHours()%12||12,e,2)}function kv(t,e){return rv(1+jm.count(sb(t),t),e,3)}function Ov(t,e){return rv(t.getMilliseconds(),e,3)}function Nv(t,e){return Ov(t,e)+"000"}function Dv(t,e){return rv(t.getMonth()+1,e,2)}function Fv(t,e){return rv(t.getMinutes(),e,2)}function Lv(t,e){return rv(t.getSeconds(),e,2)}function Cv(t){var e=t.getDay();return 0===e?7:e}function Uv(t,e){return rv($m.count(sb(t)-1,t),e,2)}function Rv(t){var e=t.getDay();return e>=4||0===e?Wm(t):Wm.ceil(t)}function zv(t,e){return t=Rv(t),rv(Wm.count(sb(t),t)+(4===sb(t).getDay()),e,2)}function jv(t){return t.getDay()}function Pv(t,e){return rv(Ym.count(sb(t)-1,t),e,2)}function Vv(t,e){return rv(t.getFullYear()%100,e,2)}function $v(t,e){return rv((t=Rv(t)).getFullYear()%100,e,2)}function Yv(t,e){return rv(t.getFullYear()%1e4,e,4)}function qv(t,e){var n=t.getDay();return rv((t=n>=4||0===n?Wm(t):Wm.ceil(t)).getFullYear()%1e4,e,4)}function Hv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rv(e/60|0,"0",2)+rv(e%60,"0",2)}function Wv(t,e){return rv(t.getUTCDate(),e,2)}function Gv(t,e){return rv(t.getUTCHours(),e,2)}function Xv(t,e){return rv(t.getUTCHours()%12||12,e,2)}function Kv(t,e){return rv(1+gb.count(Ub(t),t),e,3)}function Zv(t,e){return rv(t.getUTCMilliseconds(),e,3)}function Jv(t,e){return Zv(t,e)+"000"}function Qv(t,e){return rv(t.getUTCMonth()+1,e,2)}function t_(t,e){return rv(t.getUTCMinutes(),e,2)}function e_(t,e){return rv(t.getUTCSeconds(),e,2)}function n_(t){var e=t.getUTCDay();return 0===e?7:e}function r_(t,e){return rv(vb.count(Ub(t)-1,t),e,2)}function i_(t){var e=t.getUTCDay();return e>=4||0===e?Mb(t):Mb.ceil(t)}function o_(t,e){return t=i_(t),rv(Mb.count(Ub(t),t)+(4===Ub(t).getUTCDay()),e,2)}function a_(t){return t.getUTCDay()}function s_(t,e){return rv(_b.count(Ub(t)-1,t),e,2)}function u_(t,e){return rv(t.getUTCFullYear()%100,e,2)}function c_(t,e){return rv((t=i_(t)).getUTCFullYear()%100,e,2)}function l_(t,e){return rv(t.getUTCFullYear()%1e4,e,4)}function f_(t,e){var n=t.getUTCDay();return rv((t=n>=4||0===n?Mb(t):Mb.ceil(t)).getUTCFullYear()%1e4,e,4)}function h_(){return"+0000"}function d_(){return"%"}function p_(t){return+t}function y_(t){return Math.floor(+t/1e3)}function g_(t){return Gb=Wb(t),Xb=Gb.format,Kb=Gb.parse,Zb=Gb.utcFormat,Jb=Gb.utcParse,Gb}function m_(t){return new Date(t)}function b_(t){return t instanceof Date?+t:+new Date(+t)}function v_(t,e,n,r,i,o,a,s,u,c){var l=Pg(),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),y=c("%I:%M"),g=c("%I %p"),m=c("%a %d"),b=c("%b %d"),v=c("%B"),_=c("%Y");function w(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?y:o(t)<t?g:r(t)<t?i(t)<t?m:b:n(t)<t?v:_)(t)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(Array.from(t,b_)):h().map(m_)},l.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?w:c(e)},l.nice=function(t){var n=h();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(Hg(n,t)):l},l.copy=function(){return zg(l,v_(t,e,n,r,i,o,a,s,u,c))},l}function __(){return Tg.apply(v_(Vb,$b,sb,ib,$m,jm,Um,Fm,Om,Xb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w_(){return Tg.apply(v_(jb,Pb,Ub,Fb,vb,gb,db,lb,Om,Zb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x_(){var t,e,n,r,i,o=0,a=1,s=Lg,u=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=l(Ir),c.rangeRound=l(Uy),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function M_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function S_(){var t=$g(x_()(Lg));return t.copy=function(){return M_(t,S_())},Ig.apply(t,arguments)}function A_(){var t=Qg(x_()).domain([1,10]);return t.copy=function(){return M_(t,A_()).base(t.base())},Ig.apply(t,arguments)}function T_(){var t=rm(x_());return t.copy=function(){return M_(t,T_()).constant(t.constant())},Ig.apply(t,arguments)}function I_(){var t=um(x_());return t.copy=function(){return M_(t,I_()).exponent(t.exponent())},Ig.apply(t,arguments)}function B_(){return I_.apply(null,arguments).exponent(.5)}function E_(){var t=[],e=Lg;function n(n){if(null!=n&&!isNaN(n=+n))return e((f(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>ot(t,r/e)))},n.copy=function(){return E_(e).domain(t)},Ig.apply(n,arguments)}function k_(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=1,f=Lg,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=Ky(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,u,c]=a,t=o(s=+s),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[s,u,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(Ir),d.rangeRound=p(Uy),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function O_(){var t=$g(k_()(Lg));return t.copy=function(){return M_(t,O_())},Ig.apply(t,arguments)}function N_(){var t=Qg(k_()).domain([.1,1,10]);return t.copy=function(){return M_(t,N_()).base(t.base())},Ig.apply(t,arguments)}function D_(){var t=rm(k_());return t.copy=function(){return M_(t,D_()).constant(t.constant())},Ig.apply(t,arguments)}function F_(){var t=um(k_());return t.copy=function(){return M_(t,F_()).exponent(t.exponent())},Ig.apply(t,arguments)}function L_(){return F_.apply(null,arguments).exponent(.5)}function C_(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}g_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var U_=C_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),R_=C_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),z_=C_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),j_=C_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),P_=C_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),V_=C_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$_=C_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Y_=C_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),q_=C_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),H_=C_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),W_=t=>yr(t[t.length-1]),G_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(C_),X_=W_(G_),K_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(C_),Z_=W_(K_),J_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(C_),Q_=W_(J_),tw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(C_),ew=W_(tw),nw=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(C_),rw=W_(nw),iw=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(C_),ow=W_(iw),aw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(C_),sw=W_(aw),uw=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(C_),cw=W_(uw),lw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(C_),fw=W_(lw),hw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(C_),dw=W_(hw),pw=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(C_),yw=W_(pw),gw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(C_),mw=W_(gw),bw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(C_),vw=W_(bw),_w=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(C_),ww=W_(_w),xw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(C_),Mw=W_(xw),Sw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(C_),Aw=W_(Sw),Tw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(C_),Iw=W_(Tw),Bw=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(C_),Ew=W_(Bw),kw=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(C_),Ow=W_(kw),Nw=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(C_),Dw=W_(Nw),Fw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(C_),Lw=W_(Fw),Cw=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(C_),Uw=W_(Cw),Rw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(C_),zw=W_(Rw),jw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(C_),Pw=W_(jw),Vw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(C_),$w=W_(Vw),Yw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(C_),qw=W_(Yw),Hw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(C_),Ww=W_(Hw);function Gw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var Xw=Xy(Fa(300,.5,0),Fa(-240,.5,1)),Kw=Xy(Fa(-100,.75,.35),Fa(80,1.5,.8)),Zw=Xy(Fa(260,.75,.35),Fa(80,1.5,.8)),Jw=Fa();function Qw(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Jw.h=360*t-100,Jw.s=1.5-1.5*e,Jw.l=.8-.9*e,Jw+""}var tx=Xn(),ex=Math.PI/3,nx=2*Math.PI/3;function rx(t){var e;return t=(.5-t)*Math.PI,tx.r=255*(e=Math.sin(t))*e,tx.g=255*(e=Math.sin(t+ex))*e,tx.b=255*(e=Math.sin(t+nx))*e,tx+""}function ix(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ox(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var ax=ox(C_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sx=ox(C_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ux=ox(C_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),cx=ox(C_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function lx(t){return xn(sn(t).call(document.documentElement))}var fx=0;function hx(){return new dx}function dx(){this._="@"+(++fx).toString(36)}function px(t,e){return t.target&&(t=Br(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Er(t,e)))}function yx(t){return"string"===typeof t?new vn([document.querySelectorAll(t)],[document.documentElement]):new vn([null==t?[]:ce(t)],bn)}function gx(t){return function(){return t}}dx.prototype=hx.prototype={constructor:dx,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var mx=Math.abs,bx=Math.atan2,vx=Math.cos,_x=Math.max,wx=Math.min,xx=Math.sin,Mx=Math.sqrt,Sx=1e-12,Ax=Math.PI,Tx=Ax/2,Ix=2*Ax;function Bx(t){return t>1?0:t<-1?Ax:Math.acos(t)}function Ex(t){return t>=1?Tx:t<=-1?-Tx:Math.asin(t)}function kx(t){return t.innerRadius}function Ox(t){return t.outerRadius}function Nx(t){return t.startAngle}function Dx(t){return t.endAngle}function Fx(t){return t&&t.padAngle}function Lx(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=f*u-l*c;if(!(h*h<Sx))return[t+(h=(l*(e-o)-f*(t-i))/h)*u,e+h*c]}function Cx(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/Mx(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,p=n+l,y=r+f,g=(h+p)/2,m=(d+y)/2,b=p-h,v=y-d,_=b*b+v*v,w=i-o,x=h*y-p*d,M=(v<0?-1:1)*Mx(_x(0,w*w*_-x*x)),S=(x*v-b*M)/_,A=(-x*b-v*M)/_,T=(x*v+b*M)/_,I=(-x*b+v*M)/_,B=S-g,E=A-m,k=T-g,O=I-m;return B*B+E*E>k*k+O*O&&(S=T,A=I),{cx:S,cy:A,x01:-l,y01:-f,x11:S*(i/w-1),y11:A*(i/w-1)}}function Ux(){var t=kx,e=Ox,n=gx(0),r=null,i=Nx,o=Dx,a=Fx,s=null;function u(){var u,c,l=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-Tx,d=o.apply(this,arguments)-Tx,p=mx(d-h),y=d>h;if(s||(s=u=Ho()),f<l&&(c=f,f=l,l=c),f>Sx)if(p>Ix-Sx)s.moveTo(f*vx(h),f*xx(h)),s.arc(0,0,f,h,d,!y),l>Sx&&(s.moveTo(l*vx(d),l*xx(d)),s.arc(0,0,l,d,h,y));else{var g,m,b=h,v=d,_=h,w=d,x=p,M=p,S=a.apply(this,arguments)/2,A=S>Sx&&(r?+r.apply(this,arguments):Mx(l*l+f*f)),T=wx(mx(f-l)/2,+n.apply(this,arguments)),I=T,B=T;if(A>Sx){var E=Ex(A/l*xx(S)),k=Ex(A/f*xx(S));(x-=2*E)>Sx?(_+=E*=y?1:-1,w-=E):(x=0,_=w=(h+d)/2),(M-=2*k)>Sx?(b+=k*=y?1:-1,v-=k):(M=0,b=v=(h+d)/2)}var O=f*vx(b),N=f*xx(b),D=l*vx(w),F=l*xx(w);if(T>Sx){var L,C=f*vx(v),U=f*xx(v),R=l*vx(_),z=l*xx(_);if(p<Ax&&(L=Lx(O,N,R,z,C,U,D,F))){var j=O-L[0],P=N-L[1],V=C-L[0],$=U-L[1],Y=1/xx(Bx((j*V+P*$)/(Mx(j*j+P*P)*Mx(V*V+$*$)))/2),q=Mx(L[0]*L[0]+L[1]*L[1]);I=wx(T,(l-q)/(Y-1)),B=wx(T,(f-q)/(Y+1))}}M>Sx?B>Sx?(g=Cx(R,z,O,N,f,B,y),m=Cx(C,U,D,F,f,B,y),s.moveTo(g.cx+g.x01,g.cy+g.y01),B<T?s.arc(g.cx,g.cy,B,bx(g.y01,g.x01),bx(m.y01,m.x01),!y):(s.arc(g.cx,g.cy,B,bx(g.y01,g.x01),bx(g.y11,g.x11),!y),s.arc(0,0,f,bx(g.cy+g.y11,g.cx+g.x11),bx(m.cy+m.y11,m.cx+m.x11),!y),s.arc(m.cx,m.cy,B,bx(m.y11,m.x11),bx(m.y01,m.x01),!y))):(s.moveTo(O,N),s.arc(0,0,f,b,v,!y)):s.moveTo(O,N),l>Sx&&x>Sx?I>Sx?(g=Cx(D,F,C,U,l,-I,y),m=Cx(O,N,R,z,l,-I,y),s.lineTo(g.cx+g.x01,g.cy+g.y01),I<T?s.arc(g.cx,g.cy,I,bx(g.y01,g.x01),bx(m.y01,m.x01),!y):(s.arc(g.cx,g.cy,I,bx(g.y01,g.x01),bx(g.y11,g.x11),!y),s.arc(0,0,l,bx(g.cy+g.y11,g.cx+g.x11),bx(m.cy+m.y11,m.cx+m.x11),y),s.arc(m.cx,m.cy,I,bx(m.y11,m.x11),bx(m.y01,m.x01),!y))):s.arc(0,0,l,w,_,y):s.lineTo(D,F)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ax/2;return[vx(r)*n,xx(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:gx(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:gx(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:gx(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:gx(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:gx(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:gx(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:gx(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}var Rx=Array.prototype.slice;function zx(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function jx(t){this._context=t}function Px(t){return new jx(t)}function Vx(t){return t[0]}function $x(t){return t[1]}function Yx(t,e){var n=gx(!0),r=null,i=Px,o=null;function a(a){var s,u,c,l=(a=zx(a)).length,f=!1;for(null==r&&(o=i(c=Ho())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return t="function"===typeof t?t:void 0===t?Vx:gx(t),e="function"===typeof e?e:void 0===e?$x:gx(e),a.x=function(e){return arguments.length?(t="function"===typeof e?e:gx(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:gx(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:gx(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function qx(t,e,n){var r=null,i=gx(!0),o=null,a=Px,s=null;function u(u){var c,l,f,h,d,p=(u=zx(u)).length,y=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(d=Ho())),c=0;c<=p;++c){if(!(c<p&&i(h=u[c],c,u))===y)if(y=!y)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(g[f],m[f]);s.lineEnd(),s.areaEnd()}y&&(g[c]=+t(h,c,u),m[c]=+e(h,c,u),s.point(r?+r(h,c,u):g[c],n?+n(h,c,u):m[c]))}if(d)return s=null,d+""||null}function c(){return Yx().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?Vx:gx(+t),e="function"===typeof e?e:gx(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?$x:gx(+n),u.x=function(e){return arguments.length?(t="function"===typeof e?e:gx(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:gx(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:gx(+t),u):r},u.y=function(t){return arguments.length?(e="function"===typeof t?t:gx(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"===typeof t?t:gx(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:gx(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"===typeof t?t:gx(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}function Hx(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Wx(t){return t}function Gx(){var t=Wx,e=Hx,n=null,r=gx(0),i=gx(Ix),o=gx(0);function a(a){var s,u,c,l,f,h=(a=zx(a)).length,d=0,p=new Array(h),y=new Array(h),g=+r.apply(this,arguments),m=Math.min(Ix,Math.max(-Ix,i.apply(this,arguments)-g)),b=Math.min(Math.abs(m)/h,o.apply(this,arguments)),v=b*(m<0?-1:1);for(s=0;s<h;++s)(f=y[p[s]=s]=+t(a[s],s,a))>0&&(d+=f);for(null!=e?p.sort((function(t,n){return e(y[t],y[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=d?(m-h*v)/d:0;s<h;++s,g=l)u=p[s],l=g+((f=y[u])>0?f*c:0)+v,y[u]={data:a[u],index:s,value:f,startAngle:g,endAngle:l,padAngle:b};return y}return a.value=function(e){return arguments.length?(t="function"===typeof e?e:gx(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:gx(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:gx(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:gx(+t),a):o},a}jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Xx=Zx(Px);function Kx(t){this._curve=t}function Zx(t){function e(e){return new Kx(t(e))}return e._curve=t,e}function Jx(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Zx(t)):e()._curve},t}function Qx(){return Jx(Yx().curve(Xx))}function tM(){var t=qx().curve(Xx),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Jx(n())},delete t.lineX0,t.lineEndAngle=function(){return Jx(r())},delete t.lineX1,t.lineInnerRadius=function(){return Jx(i())},delete t.lineY0,t.lineOuterRadius=function(){return Jx(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Zx(t)):e()._curve},t}function eM(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function nM(t){return t.source}function rM(t){return t.target}function iM(t){var e=nM,n=rM,r=Vx,i=$x,o=null;function a(){var a,s=Rx.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=Ho()),t(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"===typeof t?t:gx(+t),a):r},a.y=function(t){return arguments.length?(i="function"===typeof t?t:gx(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function oM(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function aM(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function sM(t,e,n,r,i){var o=eM(e,n),a=eM(e,n=(n+i)/2),s=eM(r,n),u=eM(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function uM(){return iM(oM)}function cM(){return iM(aM)}function lM(){var t=iM(sM);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}Kx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var fM={draw:function(t,e){var n=Math.sqrt(e/Ax);t.moveTo(n,0),t.arc(0,0,n,0,Ix)}},hM={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},dM=Math.sqrt(1/3),pM=2*dM,yM={draw:function(t,e){var n=Math.sqrt(e/pM),r=n*dM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gM=Math.sin(Ax/10)/Math.sin(7*Ax/10),mM=Math.sin(Ix/10)*gM,bM=-Math.cos(Ix/10)*gM,vM={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=mM*n,i=bM*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Ix*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},_M={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},wM=Math.sqrt(3),xM={draw:function(t,e){var n=-Math.sqrt(e/(3*wM));t.moveTo(0,2*n),t.lineTo(-wM*n,-n),t.lineTo(wM*n,-n),t.closePath()}},MM=-.5,SM=Math.sqrt(3)/2,AM=1/Math.sqrt(12),TM=3*(AM/2+1),IM={draw:function(t,e){var n=Math.sqrt(e/TM),r=n/2,i=n*AM,o=r,a=n*AM+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(MM*r-SM*i,SM*r+MM*i),t.lineTo(MM*o-SM*a,SM*o+MM*a),t.lineTo(MM*s-SM*u,SM*s+MM*u),t.lineTo(MM*r+SM*i,MM*i-SM*r),t.lineTo(MM*o+SM*a,MM*a-SM*o),t.lineTo(MM*s+SM*u,MM*u-SM*s),t.closePath()}},BM=[fM,hM,yM,_M,vM,xM,IM];function EM(t,e){var n=null;function r(){var r;if(n||(n=r=Ho()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"===typeof t?t:gx(t||fM),e="function"===typeof e?e:gx(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"===typeof e?e:gx(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:gx(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function kM(){}function OM(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function NM(t){this._context=t}function DM(t){return new NM(t)}function FM(t){this._context=t}function LM(t){return new FM(t)}function CM(t){this._context=t}function UM(t){return new CM(t)}NM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:OM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:OM(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},FM.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:OM(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:OM(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class RM{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function zM(t){return new RM(t,!0)}function jM(t){return new RM(t,!1)}function PM(t,e){this._basis=new NM(t),this._beta=e}PM.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var VM=function t(e){function n(t){return 1===e?new NM(t):new PM(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function $M(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function YM(t,e){this._context=t,this._k=(1-e)/6}YM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$M(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:$M(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qM=function t(e){function n(t){return new YM(t,e)}return n.tension=function(e){return t(+e)},n}(0);function HM(t,e){this._context=t,this._k=(1-e)/6}HM.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:$M(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var WM=function t(e){function n(t){return new HM(t,e)}return n.tension=function(e){return t(+e)},n}(0);function GM(t,e){this._context=t,this._k=(1-e)/6}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$M(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var XM=function t(e){function n(t){return new GM(t,e)}return n.tension=function(e){return t(+e)},n}(0);function KM(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Sx){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Sx){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function ZM(t,e){this._context=t,this._alpha=e}ZM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:KM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var JM=function t(e){function n(t){return e?new ZM(t,e):new YM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function QM(t,e){this._context=t,this._alpha=e}QM.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:KM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tS=function t(e){function n(t){return e?new QM(t,e):new HM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function eS(t,e){this._context=t,this._alpha=e}eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:KM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nS=function t(e){function n(t){return e?new eS(t,e):new GM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function rS(t){this._context=t}function iS(t){return new rS(t)}function oS(t){return t<0?-1:1}function aS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(oS(o)+oS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function sS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uS(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function cS(t){this._context=t}function lS(t){this._context=new fS(t)}function fS(t){this._context=t}function hS(t){return new cS(t)}function dS(t){return new lS(t)}function pS(t){this._context=t}function yS(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gS(t){return new pS(t)}function mS(t,e){this._context=t,this._t=e}function bS(t){return new mS(t,.5)}function vS(t){return new mS(t,0)}function _S(t){return new mS(t,1)}function wS(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function xS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function MS(t,e){return t[e]}function SS(t){const e=[];return e.key=t,e}function AS(){var t=gx([]),e=xS,n=wS,r=MS;function i(i){var o,a,s=Array.from(t.apply(this,arguments),SS),u=s.length,c=-1;for(const t of i)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(t,s[o].key,c,i)]).data=t;for(o=0,a=zx(e(s));o<u;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:gx(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:gx(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?xS:"function"===typeof t?t:gx(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?wS:t,i):n},i}function TS(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}wS(t,e)}}function IS(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function BS(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}wS(t,e)}}function ES(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,wS(t,e)}}function kS(t){var e=t.map(OS);return xS(t).sort((function(t,n){return e[t]-e[n]}))}function OS(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function NS(t){var e=t.map(DS);return xS(t).sort((function(t,n){return e[t]-e[n]}))}function DS(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function FS(t){return NS(t).reverse()}function LS(t){var e,n,r=t.length,i=t.map(DS),o=kS(t),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)}function CS(t){return xS(t).reverse()}rS.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uS(this,this._t0,sS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uS(this,sS(this,n=aS(this,t,e)),n);break;default:uS(this,this._t0,n=aS(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(lS.prototype=Object.create(cS.prototype)).point=function(t,e){cS.prototype.point.call(this,e,t)},fS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},pS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=yS(t),i=yS(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},mS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var US="%Y-%m-%dT%H:%M:%S.%LZ";var RS=Date.prototype.toISOString?function(t){return t.toISOString()}:Zb(US);var zS=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Jb(US);function jS(t,e,n){var r=new Vr,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?jr():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}var PS=t=>()=>t;function VS(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function $S(t,e,n){this.k=t,this.x=e,this.y=n}$S.prototype={constructor:$S,scale:function(t){return 1===t?this:new $S(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new $S(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var YS=new $S(1,0,0);function qS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return YS;return t.__zoom}function HS(t){t.stopImmediatePropagation()}function WS(t){t.preventDefault(),t.stopImmediatePropagation()}function GS(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function XS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function KS(){return this.__zoom||YS}function ZS(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function JS(){return navigator.maxTouchPoints||"ontouchstart"in this}function QS(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function tA(){var t,e,n,r=GS,i=XS,o=QS,a=ZS,s=JS,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,f=zy,h=ae("start","zoom","end"),d=500,p=0,y=10;function g(t){t.property("__zoom",KS).on("wheel.zoom",M).on("mousedown.zoom",S).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new $S(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new $S(t.k,r,i)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,r){t.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=w(t,o).event(r),s=i.apply(t,o),u=null==n?v(s):"function"===typeof n?n.apply(t,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,h="function"===typeof e?e.apply(t,o):e,d=f(l.invert(u).concat(c/l.k),h.invert(u).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new $S(n,u[0]-e[0]*n,u[1]-e[1]*n)}a.zoom(null,t)}}))}function w(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function M(t,...e){if(r.apply(this,arguments)){var n=w(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=Er(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[l,i.invert(l)],ei(this),n.start()}WS(t),n.wheel=setTimeout(f,150),n.zoom("mouse",o(b(m(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}function f(){n.wheel=null,n.end()}}function S(t,...e){if(!n&&r.apply(this,arguments)){var i=w(this,e,!0).event(t),a=xn(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",d,!0),s=Er(t,u),u=t.currentTarget,l=t.clientX,f=t.clientY;An(t.view),HS(t),i.mouse=[s,this.__zoom.invert(s)],ei(this),i.start()}function h(t){if(WS(t),!i.moved){var e=t.clientX-l,n=t.clientY-f;i.moved=e*e+n*n>p}i.event(t).zoom("mouse",o(b(i.that.__zoom,i.mouse[0]=Er(t,u),i.mouse[1]),i.extent,c))}function d(t){a.on("mousemove.zoom mouseup.zoom",null),Tn(t.view,i.moved),WS(t),i.event(t).end()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=Er(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),u=n.k*(t.shiftKey?.5:2),f=o(b(m(n,u),a,s),i.apply(this,e),c);WS(t),l>0?xn(this).transition().duration(l).call(_,f,a,t):xn(this).call(g.transform,f,a,t)}}function T(n,...i){if(r.apply(this,arguments)){var o,a,s,u,c=n.touches,l=c.length,f=w(this,i,n.changedTouches.length===l).event(n);for(HS(n),a=0;a<l;++a)u=[u=Er(s=c[a],this),this.__zoom.invert(u),s.identifier],f.touch0?f.touch1||f.touch0[2]===u[2]||(f.touch1=u,f.taps=0):(f.touch0=u,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),ei(this),f.start())}}function I(t,...e){if(this.__zooming){var n,r,i,a,s=w(this,e).event(t),u=t.changedTouches,l=u.length;for(WS(t),n=0;n<l;++n)i=Er(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var f=s.touch0[0],h=s.touch0[1],d=s.touch1[0],p=s.touch1[1],y=(y=d[0]-f[0])*y+(y=d[1]-f[1])*y,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;r=m(r,Math.sqrt(y/g)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(b(r,i,a),s.extent,c))}}function B(t,...r){if(this.__zooming){var i,o,a=w(this,r).event(t),s=t.changedTouches,u=s.length;for(HS(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Er(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<y)){var c=xn(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",KS),t!==i?_(t,e,n,r):i.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?v(t):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"===typeof e?e.apply(this,arguments):e;return o(b(m(r,u),a,s),t,c)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?v(t):"function"===typeof r?r.apply(this,arguments):r;return o(YS.translate(s[0],s[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,c)}),r,a)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=xn(this.that).datum();h.call(t,this.that,new VS(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"===typeof t?t:PS(+t),g):a},g.filter=function(t){return arguments.length?(r="function"===typeof t?t:PS(!!t),g):r},g.touchable=function(t){return arguments.length?(s="function"===typeof t?t:PS(!!t),g):s},g.extent=function(t){return arguments.length?(i="function"===typeof t?t:PS([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],g):[u[0],u[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(l=+t,g):l},g.interpolate=function(t){return arguments.length?(f=t,g):f},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g.tapDistance=function(t){return arguments.length?(y=+t,g):y},g}qS.prototype=$S.prototype},645:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*y}},3367:function(t,e,n){"use strict";var r;e.__esModule=!0,e.AmpStateContext=void 0;var i=((r=n(7294))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=i},7845:function(t,e,n){"use strict";e.__esModule=!0,e.isInAmpMode=a,e.useAmp=function(){return a(i.default.useContext(o.AmpStateContext))};var r,i=(r=n(7294))&&r.__esModule?r:{default:r},o=n(3367);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,i=void 0!==r&&r,o=t.hasQuery,a=void 0!==o&&o;return n||i&&a}},7947:function(t,e,n){"use strict";var r=n(9713);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.__esModule=!0,e.defaultHead=h,e.default=void 0;var o,a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(7294)),s=(o=n(617))&&o.__esModule?o:{default:o},u=n(3367),c=n(4287),l=n(7845);function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[a.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function d(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===a.default.Fragment?t.concat(a.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var p=["name","httpEquiv","charSet","itemProp"];function y(t,e){return t.reduce((function(t,e){var n=a.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(d,[]).reverse().concat(h(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(i){var o=!0,a=!1;if(i.key&&"number"!==typeof i.key&&i.key.indexOf("$")>0){a=!0;var s=i.key.slice(i.key.indexOf("$")+1);t.has(s)?o=!1:t.add(s)}switch(i.type){case"title":case"base":e.has(i.type)?o=!1:e.add(i.type);break;case"meta":for(var u=0,c=p.length;u<c;u++){var l=p[u];if(i.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?o=!1:n.add(l);else{var f=i.props[l],h=r[l]||new Set;"name"===l&&a||!h.has(f)?(h.add(f),r[l]=h):o=!1}}}return o}}()).reverse().map((function(t,n){var o=t.key||n;if(!e.inAmpMode&&"link"===t.type&&t.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((function(e){return t.props.href.startsWith(e)}))){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.props||{});return s["data-href"]=s.href,s.href=void 0,s["data-optimized-fonts"]=!0,a.default.cloneElement(t,s)}return a.default.cloneElement(t,{key:o})}))}function g(t){var e=t.children,n=(0,a.useContext)(u.AmpStateContext),r=(0,a.useContext)(c.HeadManagerContext);return a.default.createElement(s.default,{reduceComponentsToState:y,headManager:r,inAmpMode:(0,l.isInAmpMode)(n)},e)}g.rewind=function(){};var m=g;e.default=m},617:function(t,e,n){"use strict";var r=n(319),i=n(4575),o=n(3913),a=(n(1506),n(2205)),s=n(8585),u=n(9754);function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}e.__esModule=!0,e.default=void 0;var l=n(7294),f=function(t){a(n,t);var e=c(n);function n(t){var o;return i(this,n),(o=e.call(this,t))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(r(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(l.Component);e.default=f},9008:function(t,e,n){t.exports=n(7947)},1767:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(7294)),s=o(n(4223));e.default=function(t){var e=t.options,n=(0,a.useRef)(null);return(0,a.useEffect)((function(){var t=s.plot(e),r=n.current;if(r){var i=r.children[0];i&&i.remove(),r.appendChild(t)}}),[n,e]),a.default.createElement("div",{ref:n})}},6552:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PlotFigure=void 0;var i=n(1767);Object.defineProperty(e,"PlotFigure",{enumerable:!0,get:function(){return r(i).default}})},4155:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&h())}function h(){if(!c){var t=a(f);c=!0;for(var e=u.length;e;){for(s=u,u=[];++l<e;)s&&s[l].run();l=-1,e=u.length}s=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},9887:function(t){"use strict";t.exports=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}},6044:function(t,e,n){"use strict";var r=n(4155);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.__esModule=!0,e.default=void 0;var o="undefined"!==typeof r&&r.env&&!0,a=function(t){return"[object String]"===Object.prototype.toString.call(t)},s=function(){function t(t){var e=void 0===t?{}:t,n=e.name,r=void 0===n?"stylesheet":n,i=e.optimizeForSpeed,s=void 0===i?o:i,c=e.isBrowser,l=void 0===c?"undefined"!==typeof window:c;u(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",u("boolean"===typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._isBrowser=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var f=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=f?f.getAttribute("content"):null}var e,n,r,s=t.prototype;return s.setOptimizeForSpeed=function(t){u("boolean"===typeof t,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=t,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var t=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(e,n){return"number"===typeof n?t._serverSheet.cssRules[n]={cssText:e}:t._serverSheet.cssRules.push({cssText:e}),n},deleteRule:function(e){t._serverSheet.cssRules[e]=null}}},s.getSheetForTag=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(t,e){if(u(a(t),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!==typeof e&&(e=this._serverSheet.cssRules.length),this._serverSheet.insertRule(t,e),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!==typeof e&&(e=n.cssRules.length);try{n.insertRule(t,e)}catch(i){return o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[e];this._tags.push(this.makeStyleTag(this._name,t,r))}return this._rulesCount++},s.replaceRule=function(t,e){if(this._optimizeForSpeed||!this._isBrowser){var n=this._isBrowser?this.getSheet():this._serverSheet;if(e.trim()||(e=this._deletedRulePlaceholder),!n.cssRules[t])return t;n.deleteRule(t);try{n.insertRule(e,t)}catch(i){o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,t)}}else{var r=this._tags[t];u(r,"old rule at index `"+t+"` not found"),r.textContent=e}return t},s.deleteRule=function(t){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(t,"");else{var e=this._tags[t];u(e,"rule at index `"+t+"` not found"),e.parentNode.removeChild(e),this._tags[t]=null}else this._serverSheet.deleteRule(t)},s.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach((function(t){return t&&t.parentNode.removeChild(t)})),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var t=this;return this._isBrowser?this._tags.reduce((function(e,n){return n?e=e.concat(Array.prototype.map.call(t.getSheetForTag(n).cssRules,(function(e){return e.cssText===t._deletedRulePlaceholder?null:e}))):e.push(null),e}),[]):this._serverSheet.cssRules},s.makeStyleTag=function(t,e,n){e&&u(a(e),"makeStyleTag acceps only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+t,""),e&&r.appendChild(document.createTextNode(e));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},e=t,(n=[{key:"length",get:function(){return this._rulesCount}}])&&i(e.prototype,n),r&&i(e,r),t}();function u(t,e){if(!t)throw new Error("StyleSheet: "+e+".")}e.default=s},7884:function(t,e,n){"use strict";e.default=void 0;var r,i=n(7294);var o=new(((r=n(8122))&&r.__esModule?r:{default:r}).default),a=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).prevProps={},n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.dynamic=function(t){return t.map((function(t){var e=t[0],n=t[1];return o.computeId(e,n)})).join(" ")};var i=r.prototype;return i.shouldComponentUpdate=function(t){return this.props.id!==t.id||String(this.props.dynamic)!==String(t.dynamic)},i.componentWillUnmount=function(){o.remove(this.props)},i.render=function(){return this.shouldComponentUpdate(this.prevProps)&&(this.prevProps.id&&o.remove(this.prevProps),o.add(this.props),this.prevProps=this.props),null},r}(i.Component);e.default=a},8122:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=o(n(9887)),i=o(n(6044));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(t){var e=void 0===t?{}:t,n=e.styleSheet,r=void 0===n?null:n,o=e.optimizeForSpeed,a=void 0!==o&&o,s=e.isBrowser,u=void 0===s?"undefined"!==typeof window:s;this._sheet=r||new i.default({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"===typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=u,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var e=t.prototype;return e.add=function(t){var e=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(t.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce((function(t,e){return t[e]=0,t}),{}));var n=this.getIdAndRules(t),r=n.styleId,i=n.rules;if(r in this._instancesCounts)this._instancesCounts[r]+=1;else{var o=i.map((function(t){return e._sheet.insertRule(t)})).filter((function(t){return-1!==t}));this._indices[r]=o,this._instancesCounts[r]=1}},e.remove=function(t){var e=this,n=this.getIdAndRules(t).styleId;if(function(t,e){if(!t)throw new Error("StyleSheetRegistry: "+e+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach((function(t){return e._sheet.deleteRule(t)})),delete this._indices[n]),delete this._instancesCounts[n]}},e.update=function(t,e){this.add(e),this.remove(t)},e.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},e.cssRules=function(){var t=this,e=this._fromServer?Object.keys(this._fromServer).map((function(e){return[e,t._fromServer[e]]})):[],n=this._sheet.cssRules();return e.concat(Object.keys(this._indices).map((function(e){return[e,t._indices[e].map((function(t){return n[t].cssText})).join(t._optimizeForSpeed?"":"\n")]})).filter((function(t){return Boolean(t[1])})))},e.createComputeId=function(){var t={};return function(e,n){if(!n)return"jsx-"+e;var i=String(n),o=e+i;return t[o]||(t[o]="jsx-"+(0,r.default)(e+"-"+i)),t[o]}},e.createComputeSelector=function(t){void 0===t&&(t=/__jsx-style-dynamic-selector/g);var e={};return function(n,r){this._isBrowser||(r=r.replace(/\/style/gi,"\\/style"));var i=n+r;return e[i]||(e[i]=r.replace(t,n)),e[i]}},e.getIdAndRules=function(t){var e=this,n=t.children,r=t.dynamic,i=t.id;if(r){var o=this.computeId(i,r);return{styleId:o,rules:Array.isArray(n)?n.map((function(t){return e.computeSelector(o,t)})):[this.computeSelector(o,n)]}}return{styleId:this.computeId(i),rules:Array.isArray(n)?n:[n]}},e.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce((function(t,e){return t[e.id.slice(2)]=e,t}),{})},t}();e.default=a},5988:function(t,e,n){t.exports=n(7884)}}]);